(function(g){var window=this;'use strict';var B7=function(x){x.publish("cardstatechange",x.mF()&&x.t9()?1:0)},V0=function(x,S){var Z=g.ex(S),k=Z?S:arguments;
for(Z=Z?0:1;Z<k.length;Z++){if(x==null)return;x=x[k[Z]]}return x},Kcv=function(x){var S=g.j1(x);
x=g.e1(x);return new g.RC(S.x,S.y,x.width,x.height)},GEn=function(x,S,Z){var k=k===void 0?{}:k;
var e;return e=g.ik(x,S,function(){g.Qs(e);Z.apply(x,arguments)},k)},GU=function(x){x=g.t$(x);
delete n7[x];g.qE(n7)&&K7&&K7.stop()},mvt=function(){K7||(K7=new g.xN(function(){bKs()},20));
var x=K7;x.isActive()||x.start()},bKs=function(){var x=g.Fv();
g.Sj(n7,function(S){o1t(S,x)});
g.qE(n7)||mvt()},bt=function(x,S,Z,k){g.qX.call(this);
if(!Array.isArray(x)||!Array.isArray(S))throw Error("Start and end parameters must be arrays");if(x.length!=S.length)throw Error("Start and end points must be the same length");this.Y=x;this.N=S;this.duration=Z;this.B=k;this.coords=[];this.progress=this.L=0;this.G=null},o1t=function(x,S){S<x.startTime&&(x.endTime=S+x.endTime-x.startTime,x.startTime=S);
x.progress=(S-x.startTime)/(x.endTime-x.startTime);x.progress>1&&(x.progress=1);x.L=1E3/(S-x.G);x.G=S;OKm(x,x.progress);x.progress==1?(x.S=0,GU(x),x.onFinish(),x.A3()):x.isPlaying()&&x.Qj()},OKm=function(x,S){typeof x.B==="function"&&(S=x.B(S));
x.coords=Array(x.Y.length);for(var Z=0;Z<x.Y.length;Z++)x.coords[Z]=(x.N[Z]-x.Y[Z])*S+x.Y[Z]},hcS=function(x,S){g.lu.call(this,x);
this.coords=S.coords;this.x=S.coords[0];this.y=S.coords[1];this.z=S.coords[2];this.duration=S.duration;this.progress=S.progress;this.fps=S.L;this.state=S.S},mJ=function(x,S,Z,k,e){bt.call(this,S,Z,k,e);
this.element=x},HK$=function(x,S,Z,k,e){if(S.length!=2||Z.length!=2)throw Error("Start and end points must be 2D");
mJ.call(this,x,S,Z,k,e)},Uvn=function(x){return Math.pow(x,3)},A4b=function(x){return 3*x*x-2*x*x*x},Rc$=function(x){g.m.call(this);
this.Y=x||window;this.S=[]},oM=function(x){return x.baseUrl||null},Op=function(x,S){return g.Kz(g.vk(x,S),function(Z){return!!Z})},wyv=function(x,S,Z){function k(cx){var eQ=cx.hovercardButton;
if(!eQ)return null;eQ=eQ.subscribeButtonRenderer;if(!eQ)return null;var aq=u(eQ.unsubscribedButtonText),SQ=u(eQ.subscribedButtonText);if(eQ.subscribed){var Wx=u(eQ.subscriberCountWithUnsubscribeText);var ly=u(eQ.subscriberCountText)}else Wx=u(eQ.subscriberCountText),ly=u(eQ.subscriberCountWithSubscribeText);var Xv=null;if(cx.signinEndpoint){Xv=V0(cx,"signinEndpoint","webNavigationEndpointData","url");if(!Xv){var J$,hg;Xv=(hg=g.H((J$=eQ.signInEndpoint)==null?void 0:J$.commandMetadata,g.YC))==null?
void 0:hg.url}if(!Xv)return null}return aq&&(SQ||Xv)?{subscribed:eQ.subscribed,subscribeText:aq,subscribeCount:Wx,unsubscribeText:SQ,unsubscribeCount:ly,enabled:eQ.enabled,signinUrl:Xv,classic:cx.useClassicSubscribeButton}:null}
function e(cx){if(cx){var eQ=[],aq=cx.videoId;aq&&eQ.push("v="+aq);(aq=cx.playlistId)&&eQ.push("list="+aq);(cx=cx.startTimeSeconds)&&eQ.push("t="+cx);return"/watch?"+eQ.join("&")}}
function u(cx){if(!cx)return null;var eQ=cx.simpleText;return eQ?eQ:cx.runs?g.vk(cx.runs,function(aq){return aq.text}).join(""):null}
S=S.endscreenElementRenderer;if(!S)return null;var C=S.style,L=S.endpoint||{},c=null,J=null,X=!1,a=null,F=null,q=null,d=null,W=!1,I=null,f=null,Q=null,n=null,b=null,h=null;if(C==="VIDEO")g.H(L,g.oW)?c=g.H(L,g.oW).url:(h=g.H(L,g.Q8),c=e(h)),J=!1,a=x,S.thumbnailOverlays?(X=S.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,F=u(X.text),X=X.style==="LIVE"):F=u(S.videoDuration);else if(C==="PLAYLIST")g.H(L,g.oW)?c=g.H(L,g.oW).url:(h=g.H(L,g.Q8),c=e(h)),J=!1,a=x,q=u(S.playlistLength);else if(C===
"CHANNEL"){if(W=V0(L,"browseEndpoint","browseId"))d=W,c="/channel/"+d;J=!1;a="new";(W=!!S.isSubscribe)?I=k(S):f=u(S.subscribersText)}else C==="WEBSITE"?((Q=V0(L,"urlEndpoint","url"))&&(c=Q),J=!0,a="new",Q=S.icon.thumbnails[0].url):C==="CREATOR_MERCHANDISE"&&(S.productPrice&&(n=u(S.productPrice)),S.additionalFeesText&&(b=u(S.additionalFeesText)),(J=V0(L,"urlEndpoint","url"))&&(c=J),J=!0,a="new");x=V0(S,"title","accessibility","accessibilityData","label");var l=S.endpoint?S.endpoint.clickTrackingParams:
null,A="";if(S.metadata){var kb=u(S.metadata);kb&&(A=kb)}return{id:"element-"+Z,type:C,title:u(S.title),metadata:A,callToAction:u(S.callToAction),gD:S.image,iconUrl:Q,left:Number(S.left),width:Number(S.width),top:Number(S.top),aspectRatio:Number(S.aspectRatio),startMs:Math.floor(Number(S.startMs)),endMs:Math.floor(Number(S.endMs)),videoDuration:F,ZM:X,playlistLength:q,channelId:d,subscribeButton:I,subscribersText:f,isSubscribe:W,targetUrl:c||null,STr:J,sessionData:l?{itct:l}:null,Ykd:a,JD:x?x:null,
isPlaceholder:S.isPlaceholder,impressionUrls:Op(S.impressionUrls||[],oM),U3:Op(S.hovercardShowUrls||[],oM),clickUrls:Op(L.loggingUrls||[],oM),visualElement:g.vF(S.trackingParams),productPrice:n,additionalFeesText:b,watchEndpoint:h||null}},Dv$=function(x,S){var Z={startMs:Math.floor(Number(x.startMs)),
impressionUrls:Op(x.impressionUrls||[],oM),elements:Op(x.elements||[],function(k,e){return wyv(S,k,e)})};
x.trackingParams&&(Z.visualElement=g.vF(x.trackingParams));return Z},MYR=function(x){g.Nx.call(this,x);
this.G=this.endscreen=null;this.Y={};this.L={};this.B=this.D=null;this.X=[];this.S=null;this.DG=!0;this.N=0;x=x.U();this.j=g.JM(x)||g.al(x);this.events=new g.sz(this);g.O(this,this.events);this.events.W(this.player,g.$_("creatorendscreen"),this.onCueRangeEnter);this.events.W(this.player,g.x9("creatorendscreen"),this.onCueRangeExit);this.events.W(this.player,"resize",this.Q1);this.events.W(window,"focus",this.YDU);this.load();var S=g.dG("STYLE");(g.CU("HEAD")[0]||document.body).appendChild(S);this.addOnDisposeCallback(function(){g.W$(S)});
S.sheet&&(S.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),S.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},g1R=function(x){return x.player.getVideoData().S1?"current":x.j?"new":"current"},hS=function(x){return x.player.U().playerStyle==="creator-endscreen-editor"},ltS=function(x){var S=x.player.getVideoData(),Z=S.videoId;
x.G&&x.G.abort();Z={method:"POST",onFinish:function(e){var u=x.G=null;e.status===200&&(e=e.responseText,e.substring(0,3)===")]}"&&(e=e.substring(3),u=JSON.parse(e),u=Dv$(u,g1R(x))));H7(x,u)},
urlParams:{v:Z},withCredentials:!0};x.j&&(Z.urlParams.ptype="embedded");var k=S.HH;k&&(Z.postParams={ad_tracking:k});if(S=g.jE4(S))if(S=g.cn(S),S=g.Ck(S))x.G=g.fG(S,Z)},H7=function(x,S,Z){Z=Z===void 0?!0:Z;
x.player.Mi("creatorendscreen");x.D&&(x.D.dispose(),x.D=null,x.B.dispose(),x.B=null);for(var k=g.v(Object.values(x.Y)),e=k.next();!e.done;e=k.next())e.value.dispose();x.Y={};x.L={};x.X.length>0&&(x.X.forEach(function(L){L.dispose()}),x.X.length=0);
x.S&&(g.XL(x.S,"ytp-ce-element-show"),x.S.setAttribute("aria-hidden","true"));x.N=0;if((x.endscreen=S)&&S.elements){Z&&y4n(x);Z=[];k=new g.yU(S.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});Z.push(k);x.player.U().Y||(x.D=new g.U({V:"div",J:"ytp-ce-shadow"}),g.jd(x.player,x.D.element,4),x.B=new g.Z0(x.D,200));for(k=0;k<S.elements.length;++k){e=S.elements[k];var u=pym(x,e);if(u){x.Y[e.id]=u;x.L[e.id]=e;g.jd(x.player,u.element,4);var C=new g.yU(e.startMs,e.endMs,{id:"ytp-ce-element-"+
e.id,namespace:"creatorendscreen"});Z.push(C);$vR(x,u,e)}else g.nn(new g.MG("buildEndscreenElement null",e))}x.player.KY(Z);x.Q1()}},y4n=function(x){var S=g.Yr(),Z=g.Ia();
Z&&S&&x.endscreen.visualElement&&g.S6(g.w_)(void 0,Z,S,x.endscreen.visualElement)},pym=function(x,S){var Z=null;
switch(S.type){case "VIDEO":x={V:"div",py:["ytp-ce-element","ytp-ce-video"],K:{tabindex:"0","aria-label":S.JD||"","aria-hidden":"true"},C:[{V:"div",J:"ytp-ce-element-shadow"},{V:"div",J:"ytp-ce-covering-image",K:Up(S)},{V:"div",J:"ytp-ce-covering-shadow-top"},{V:"a",J:"ytp-ce-covering-overlay",K:{href:AS(x,S.targetUrl),tabindex:"-1"},C:[{V:"div",py:["ytp-ce-video-title","ytp-webkit-ellipsis"],K:{dir:g.v8(S.title||"")},md:S.title},{V:"div",J:S.ZM?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
md:S.videoDuration||void 0}]}]};Z=new g.U(x);break;case "PLAYLIST":x={V:"div",py:["ytp-ce-element","ytp-ce-playlist"],K:{tabindex:"0","aria-label":S.JD||"","aria-hidden":"true"},C:[{V:"div",J:"ytp-ce-element-shadow"},{V:"div",J:"ytp-ce-covering-image",K:Up(S)},{V:"div",J:"ytp-ce-covering-shadow-top"},{V:"a",J:"ytp-ce-covering-overlay",K:{href:AS(x,S.targetUrl),tabindex:"-1"},C:[{V:"div",py:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],K:{dir:g.v8(S.title||"")},md:S.title},{V:"div",J:"ytp-ce-playlist-count",
C:[{V:"div",J:"ytp-ce-playlist-icon"},{V:"div",J:"ytp-ce-playlist-count-text",md:S.playlistLength||void 0}]}]}]};Z=new g.U(x);break;case "CHANNEL":Z={V:"div",py:["ytp-ce-element","ytp-ce-channel",S.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],K:{tabindex:"0","aria-label":S.JD||"","aria-hidden":"true"},C:[{V:"div",J:"ytp-ce-element-shadow"},{V:"div",J:"ytp-ce-expanding-overlay",C:[{V:"div",J:"ytp-ce-expanding-overlay-hider"},{V:"div",J:"ytp-ce-expanding-overlay-background"},{V:"div",J:"ytp-ce-expanding-overlay-content",
C:[{V:"div",J:"ytp-ce-expanding-overlay-body",C:[{V:"div",J:"ytp-ce-expanding-overlay-body-padding",C:[{V:"a",py:["ytp-ce-channel-title","ytp-ce-link"],K:{href:AS(x,S.targetUrl),target:"_blank",tabindex:"-1",dir:g.v8(S.title||"")},md:S.title},S.subscribeButton?{V:"div",J:"ytp-ce-subscribe-container",C:[{V:"div",J:"ytp-ce-channel-subscribe"}]}:"",S.subscribersText?{V:"div",J:"ytp-ce-channel-subscribers-text",md:S.subscribersText}:"",S.metadata?{V:"div",py:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],md:S.metadata}:""]}]}]}]},{V:"div",J:"ytp-ce-expanding-image",K:Up(S)}]};Z=new g.U(Z);var k=g.LU(document,"div","ytp-ce-channel-subscribe",Z.element)[0];if(S.subscribeButton&&S.channelId){g.c8(k,"ytp-ce-subscribe-button");if(x.player.U().Y){var e=null;var u=S.sessionData.itct}else e="endscreen",u=null;e=new g.kI(S.subscribeButton.subscribeText,S.subscribeButton.subscribeCount,S.subscribeButton.unsubscribeText,S.subscribeButton.unsubscribeCount,!!S.subscribeButton.enabled,!!S.subscribeButton.classic,
S.channelId,!!S.subscribeButton.subscribed,e,u,x.player,!1);k.appendChild(e.element);x.X.push(e)}break;case "WEBSITE":x={V:"div",py:["ytp-ce-element","ytp-ce-website"],K:{tabindex:"0","aria-label":S.JD||"","aria-hidden":"true"},C:[{V:"div",J:"ytp-ce-element-shadow"},{V:"div",J:"ytp-ce-expanding-overlay",C:[{V:"div",J:"ytp-ce-expanding-overlay-hider"},{V:"div",J:"ytp-ce-expanding-overlay-background"},{V:"div",J:"ytp-ce-expanding-overlay-content",C:[{V:"div",J:"ytp-ce-expanding-overlay-body",C:[{V:"div",
J:"ytp-ce-expanding-overlay-body-padding",C:[{V:"div",J:"ytp-ce-website-title",K:{dir:g.v8(S.title||"")},md:S.title},{V:"div",J:"ytp-ce-website-metadata",md:S.metadata},{V:"a",py:["ytp-ce-website-goto","ytp-ce-link"],K:{href:AS(x,S.targetUrl),target:"_blank",tabindex:"-1"},md:S.callToAction}]}]}]}]},{V:"div",J:"ytp-ce-expanding-image",K:Up(S)},{V:"div",J:"ytp-ce-expanding-icon",K:xBv(S.iconUrl)}]};Z=new g.U(x);break;case "CREATOR_MERCHANDISE":Z="",S.productPrice&&(Z={V:"div",J:"ytp-ce-merchandise-price-container",
C:[{V:"div",J:"ytp-ce-merchandise-price",md:S.productPrice}]},S.additionalFeesText&&Z.C.push({V:"div",J:"ytp-ce-merchandise-additional-fees",md:S.additionalFeesText})),x={V:"div",py:["ytp-ce-element","ytp-ce-merchandise"],K:{tabindex:"0","aria-label":S.JD||"","aria-hidden":"true"},C:[{V:"div",J:"ytp-ce-element-shadow"},{V:"div",J:"ytp-ce-expanding-overlay",C:[{V:"div",J:"ytp-ce-expanding-overlay-hider"},{V:"div",J:"ytp-ce-expanding-overlay-background"},{V:"div",J:"ytp-ce-expanding-overlay-content",
C:[{V:"div",J:"ytp-ce-expanding-overlay-body",C:[{V:"div",J:"ytp-ce-expanding-overlay-body-padding",C:[{V:"div",J:"ytp-ce-merchandise-title",K:{dir:g.v8(S.title||"")},md:S.title},Z,{V:"div",J:"ytp-ce-merchandise-metadata",md:S.metadata},{V:"a",py:["ytp-ce-merchandise-goto","ytp-ce-link"],K:{href:AS(x,S.targetUrl),target:"_blank",tabindex:"-1"},md:S.callToAction}]}]}]}]},{V:"div",J:"ytp-ce-expanding-image",K:Up(S)},{V:"div",J:"ytp-ce-merchandise-invideo-cta-container",C:[{V:"div",J:"ytp-ce-merchandise-invideo-cta",
md:S.callToAction||void 0}]}]},Z=new g.U(x)}S.isPlaceholder&&g.c8(Z.element,"ytp-ce-placeholder");return Z},Up=function(x){if(x.gD)var S=x.gD.thumbnails;
return xBv(S?S[S.length-1].url:null)},xBv=function(x){return x?{style:"background-image: url("+x+")"}:{}},$vR=function(x,S,Z){function k(c){c&&(S.listen("blur",function(){c.style.display!="none"&&x.DG&&c.focus()}),S.W(c,"focus",u),S.W(c,"blur",C))}
function e(c){x.N+=c;x.N>0?(g.c8(S.element,"ytp-ce-force-expand"),RM(x,Z.id,!0)):(g.XL(S.element,"ytp-ce-force-expand"),g.XL(S.element,"ytp-ce-element-hover"),RM(x,Z.id,!1))}
function u(){e(1)}
function C(){e(-1)}
S.listen("mouseenter",function(){SJs(x,S,Z)});
S.listen("mouseleave",function(){j0b(x,S,Z)});
x.player.U().Y||S.listen("click",function(){g.c8(S.element,"ytp-ce-element-hover")});
S.listen("click",function(c){Zts(x,Z,c)});
S.listen("keypress",function(c){Zts(x,Z,c)});
S.listen("focus",function(){SJs(x,S,Z)});
S.listen("blur",function(){j0b(x,S,Z)});
S.listen("touchstart",function(){SJs(x,S,Z)});
var L=g.c$("ytp-ce-expanding-overlay-hider",S.element);L&&S.W(L,"touchstart",function(c){c.stopPropagation();g.XL(S.element,"ytp-ce-element-hover");g.XL(S.element,"ytp-ce-force-expand")});
S.listen("keydown",function(c){x.DG=c.keyCode===9&&!c.shiftKey});
k(g.c$("ytp-sb-subscribe",S.element));k(g.c$("ytp-sb-unsubscribe",S.element));S.listen("focus",u);S.listen("blur",C)},Zts=function(x,S,Z){if(S.targetUrl&&(!Z||Z.type!=="keypress"||Z.keyCode===13)){for(var k=Z.target;k&&!g.L$(k,"ytp-ce-element");){g.L$(k,"subscribe-label")&&kQH(x,S);
if(g.L$(k,"ytp-ce-channel-subscribe"))return;k=k.parentElement||null}if(!k||g.L$(k,"ytp-ce-element-hover")){Z.preventDefault();Z.stopPropagation();if(k=x.Y[S.id])j0b(x,k,S),k.element.blur();if(Z.ctrlKey||Z.metaKey||S.Ykd==="new")kQH(x,S),x.player.sendVideoStatsEngageEvent(17,void 0),x.player.pauseVideo(),Z=g.cn(AS(x,S.targetUrl)),Z=g.Ck(Z),g.wX(Z,void 0,S.sessionData);else{var e=g.iA(x.player.U())||x.player.getVideoData().S1,u=function(){var C=AS(x,S.targetUrl),L=S.sessionData,c=S.watchEndpoint,J=
g.CG(C);e&&J&&(J.v||J.list)?x.player.S8(J.v,L,J.list,!1,void 0,c||void 0):g.R4(C,L)};
kQH(x,S,function(){x.player.sendVideoStatsEngageEvent(17,u)})}}}},AS=function(x,S){x=x.player.U();
if(S){if(S.startsWith("//"))return x.protocol+":"+S;if(S.startsWith("/"))return g.KA(x)+S}else return"";return S},SJs=function(x,S,Z){g.L$(S.element,"ytp-ce-element-hover")||(Z.type==="VIDEO"||Z.type==="PLAYLIST"?g.c8(S.element,"ytp-ce-element-hover"):x.player.U().Y?(new g.xN(function(){g.c8(S.element,"ytp-ce-element-hover")},200)).start():g.c8(S.element,"ytp-ce-element-hover"),wu(x,Z.U3),RM(x,Z.id,!0))},j0b=function(x,S,Z){g.XL(S.element,"ytp-ce-element-hover");
g.XL(S.element,"ytp-ce-force-expand");RM(x,Z.id,!1)},RM=function(x,S,Z){x.D&&(Z?x.B.show():x.B.hide());
for(var k=g.v(Object.keys(x.Y)),e=k.next();!e.done;e=k.next())e=e.value,e!==S&&g.FL(x.Y[e].element,"ytp-ce-element-shadow-show",Z)},wu=function(x,S,Z){function k(){u||(e++,e===S.length&&(C.stop(),Z&&Z()))}
if(!S||S.length===0||hS(x))Z&&Z();else{S=eyt(x,S);var e=0,u=!1,C=new g.xN(function(){u=!0;Z&&Z()},1E3,x);
C.start();for(x=0;x<S.length;x++)g.bX(S[x],k)}},kQH=function(x,S,Z){wu(x,S.clickUrls,Z);
(x=g.Ia())&&S.STr&&g.Z9(x,S.visualElement)},eyt=function(x,S){var Z=x.player.getVideoData().clientPlaybackNonce;
x=x.player.getCurrentTime().toFixed(2);Z={CPN:Z,AD_CPN:Z,MT:x};x=[];for(var k=0;k<S.length;k++)x.push(uch(S[k],Z));return x},uch=function(x,S){return x.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(Z){var k=unescape(Z);
k=k.substring(1,k.length-1);return S[k]?escape(S[k]):Z})},CJ$=function(x){return typeof x==="string"?x:""},DW=function(x,S,Z){for(var k in S)if(S[k]===x)return x;
return Z},tLb=function(x,S,Z,k){this.value=x;
this.target=S;this.showLinkIcon=Z;this.S=k},MJ=function(x){return x.value?x.value:null},gu=function(x){if(!x)return null;
var S=g.cn(CJ$(x.value));S=g.Ck(S);if(!S)return null;var Z=DW(x.target,L8n,"current");if(Z==null)x=null;else{var k=x.show_link_icon;x=new tLb(S,Z,k==="true"||k==="false"?k==="true":!0,x.pause_on_navigation!=null?x.pause_on_navigation:!0)}return x},cub=function(x,S,Z){this.type=x;
this.trigger=S;this.url=Z},aUR=function(x){if(!x)return null;
var S=DW(x.type,Jub),Z=DW(x.trigger,Xrh);x=x.url;x=Array.isArray(x)&&x.length?x[0]:x;x=gu(x?x:null);return S?new cub(S,Z,x):null},F8x=function(x,S,Z,k,e){this.id=x;
this.type=S;this.style=Z;this.data=e;this.action=k||[]},qJn=function(x,S){return g.Ws(x.action,S)},dBv=function(x,S){this.context=x;
this.S=S},zyR=function(x){return x.customMessage?lt("div","iv-card-message",x.customMessage):""},y0=function(x,S){x="background-image: url("+x+");";
var Z=[];S&&Z.push(S);return{V:"div",J:"iv-card-image",K:{style:x},C:Z}},TkH=function(x){if(!x.metaInfo||x.metaInfo.length===0)return"";
var S=[];x=g.v(x.metaInfo);for(var Z=x.next();!Z.done;Z=x.next())S.push(lt("li","",Z.value));return{V:"ul",J:"iv-card-meta-info",C:S}},lt=function(x,S,Z){S?typeof S==="string"?S={"class":S}:Array.isArray(S)&&(S={"class":S.join(" ")}):S={};
S.dir=g.v8(Z);return{V:x,K:S,md:Z}},PJR=function(x){if(!x.customMessage)return"";
var S=["iv-card-action","iv-card-primary-link"],Z={};x.US&&(S.push("iv-card-action-icon"),Z.style="background-image: url("+x.US+");");Z.dir=g.v8(x.customMessage);var k=[{V:"span",md:x.customMessage}];x.showLinkIcon&&(k.push("\u00a0"),k.push({V:"span",J:"iv-card-link-icon"}));return{V:"div",py:S,K:Z,C:k}},p7=function(x,S,Z,k){if(k){S=g.v(S);
for(var e=S.next();!e.done;e=S.next())x.S(e.value,k,Z.id,Z.sessionData,Z.TE.click,5)}},vxb=function(x,S){this.merchant=x;
this.price=S},W8J=function(x){var S;
(S=x)&&!(S=x.length>1?x.charAt(0)==="/"&&x.charAt(1)!=="/":x==="/")&&(S=x.replace(/^(https?:)?\/\//,"").split("/",1),S=!S||S.length<1||!S[0]?[]:S[0].toLowerCase().split(".").reverse(),S=S[0]==="com"&&S[1]==="youtube"||S[0]==="be"&&S[1]==="youtu");return S?x.indexOf("/redirect?")===-1:!1},YJS=function(x,S){return S?S:W8J(x)?"current":"new"},$o=function(x,S){g.m.call(this);
var Z=this;this.element=x;this.context=S;this.kd=!1;this.Cy=new Map;this.lr=new Map;this.context.T.addEventListener(g.$_("annotations_module"),function(k){(k=Z.Cy.get(k))&&k.apply(Z)});
this.context.T.addEventListener(g.x9("annotations_module"),function(k){(k=Z.lr.get(k))&&k.apply(Z)})},xW=function(x,S,Z,k,e,u,C){x.context.S.listen(S,"click",function(L){x.PK(Z,k,e,u||[],C||0,L)});
x.context.S.listen(S,"touchstart",function(){x.kd=!1});
x.context.S.listen(S,"touchmove",function(){x.kd=!0})},IUH=function(x){var S;
return((S=g.H(x,g.oW))==null?0:S.url)?g.H(x,g.oW).url:(x=g.H(x,g.Q8))&&x.videoId?(S="/watch?v="+x.videoId,x.playlistId&&(S+="&list="+x.playlistId),x.index&&(S+="&index="+x.index),x.startTimeSeconds&&(S+="&t="+x.startTimeSeconds),S):null},Sn=function(x,S,Z){return{TM:(x.impressionLoggingUrlsV2s||[]).map(function(k){return k.baseUrl||""}),
click:(Z.loggingUrls||[]).map(function(k){return k.baseUrl||""}),
close:(S.dismissLoggingUrlsV2s||[]).map(function(k){return k.baseUrl||""}),
vn:(S.impressionLoggingUrlsV2s||[]).map(function(k){return k.baseUrl||""}),
eC:(S.clickLoggingUrlsV2s||[]).map(function(k){return k.baseUrl||""})}},Nk9=function(x,S,Z){$o.call(this,S,Z);
var k=this;this.T=x;this.eventId=null;this.Gt=this.FL=this.L3=this.D=this.isInitialized=!1;this.cards=[];this.f3=this.B=this.R5=this.L=this.WU=this.S=null;this.DG=[];this.GS=this.X=this.jR=this.Mb=null;this.N=0;this.hg=new g.xN(function(){},Z.Sy.dV?4E3:3E3);
g.O(this,this.hg);this.jy=new g.xN(function(){});
g.O(this,this.jy);this.yN=new dBv(Z,function(e,u,C,L,c,J){xW(k,e,u,C,L,c,J)});
this.j=new g.U({V:"div",J:"iv-drawer",K:{id:"iv-drawer"},C:[{V:"div",J:"iv-drawer-header",K:{"aria-role":"heading"},C:[{V:"span",J:"iv-drawer-header-text"},{V:"button",py:["iv-drawer-close-button","ytp-button"],K:{"aria-label":"Hide cards",tabindex:"0"}}]},{V:"div",J:"iv-drawer-content"}]});g.O(this,this.j);this.G=this.j.element;this.UT=new g.Z0(this.j,330);g.O(this,this.UT);this.a$=g.c$("iv-drawer-header-text",this.G);this.Y=g.c$("iv-drawer-content",this.G);this.addCueRange(0,Z.videoData.lengthSeconds*
1E3,"",function(){k.L3&&jn(k,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(k.L3=k.D)&&Zr(k)});
this.Nb=new g.sz(this);g.O(this,this.Nb);this.T.addEventListener("videodatachange",this.Lc.bind(this))},ruR=function(x,S){S=S.data;
S.autoOpenMs&&x.addCueRange(S.autoOpenMs,0x8000000000000,"",function(){jn(x,"YOUTUBE_DRAWER_AUTO_OPEN")});
S.autoCloseMs&&x.addCueRange(S.autoCloseMs,0x8000000000000,"",function(){Zr(x)});
var Z=S.headerText;g.IC(x.a$,Z);x.B&&(x.T.Z("player_tooltip_data_title_killswitch")?x.B.setAttribute("title",Z):x.B.setAttribute("data-tooltip-title",Z));S.eventId&&(x.eventId=S.eventId);x.Mb=g.vF(S.trackingParams);x.X=g.vF(S.closeTrackingParams);x.jR=g.vF(S.iconTrackingParams)},itb=function(x,S){var Z=S.cardId?S.cardId:"cr:"+x.N,k=x.T.U().experiments.cU("enable_error_corrections_infocard_web_client");
if(!S.content&&S.teaser.simpleCardTeaserRenderer&&k){var e=S.teaser.simpleCardTeaserRenderer,u=S.icon?S.icon.infoCardIconRenderer:null;if(e.channelAvatar&&e.channelAvatar.thumbnails&&e.channelAvatar.thumbnails.length>0)var C=kW(e.channelAvatar.thumbnails,22,22).url;S={id:Z,timestamp:x.N,type:"simple",teaserText:g.qW(e.message),teaserDurationMs:Number(S.cueRanges[0].teaserDurationMs),startMs:Number(S.cueRanges[0].startCardActiveMs),autoOpen:!!S.autoOpen,sessionData:{},sponsored:!1,TE:{},Wz:null,QS:e.trackingParams?
g.vF(e.trackingParams):null,jR:u&&u.trackingParams?g.vF(u.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,US:null,title:"",customMessage:"",url:null,onClickCommand:e.onTapCommand||null,Cu:C};en(x,S)}else{var L;if((L=S.content)==null?0:L.simpleCardContentRenderer){if(!S.cueRanges.length)return;C=(e=S.content)==null?void 0:e.simpleCardContentRenderer;e=S.teaser.simpleCardTeaserRenderer;u=S.icon?S.icon.infoCardIconRenderer:null;S={id:Z,timestamp:x.N,type:"simple",teaserText:g.qW(e.message),
teaserDurationMs:Number(S.cueRanges[0].teaserDurationMs),startMs:Number(S.cueRanges[0].startCardActiveMs),autoOpen:!!S.autoOpen,sessionData:uZ(x,Z,S,C),sponsored:!1,TE:Sn(C,e,C.command),Wz:C.trackingParams?g.vF(C.trackingParams):null,QS:e.trackingParams?g.vF(e.trackingParams):null,jR:u&&u.trackingParams?g.vF(u.trackingParams):null,imageUrl:kW(C.image.thumbnails,290,290).url,displayDomain:C.displayDomain?g.qW(C.displayDomain):null,showLinkIcon:!!C.showLinkIcon,US:null,title:C.title?g.qW(C.title):"",
customMessage:C.callToAction?g.qW(C.callToAction):"",url:g.H(C.command,g.oW).url?gu({pause_on_navigation:!x.context.videoData.isLivePlayback,target:"new",value:g.H(C.command,g.oW).url}):null,onClickCommand:null};en(x,S)}else{var c;if((c=S.content)==null?0:c.collaboratorInfoCardContentRenderer){if(!S.cueRanges.length)return;C=(u=S.content)==null?void 0:u.collaboratorInfoCardContentRenderer;e=S.teaser.simpleCardTeaserRenderer;u=S.icon?S.icon.infoCardIconRenderer:null;S={id:Z,timestamp:x.N,type:"collaborator",
teaserText:g.qW(e.message),teaserDurationMs:Number(S.cueRanges[0].teaserDurationMs),startMs:Number(S.cueRanges[0].startCardActiveMs),autoOpen:!!S.autoOpen,sessionData:uZ(x,Z,S,C),sponsored:!1,TE:Sn(C,e,C.endpoint),Wz:C.trackingParams?g.vF(C.trackingParams):null,QS:e.trackingParams?g.vF(e.trackingParams):null,jR:u&&u.trackingParams?g.vF(u.trackingParams):null,channelId:g.H(C.endpoint,g.xU).browseId,customMessage:C.customText?g.qW(C.customText):null,profileImageUrl:kW(C.channelAvatar.thumbnails,290,
290).url,title:C.channelName?g.qW(C.channelName):"",metaInfo:[C.subscriberCountText?g.qW(C.subscriberCountText):""],url:gu({pause_on_navigation:!x.context.videoData.isLivePlayback,target:"new",value:g.H(C.endpoint,g.xU).canonicalBaseUrl?g.H(C.endpoint,g.xU).canonicalBaseUrl:"/channel/"+g.H(C.endpoint,g.xU).browseId}),onClickCommand:null};en(x,S)}else{var J;if((J=S.content)==null?0:J.playlistInfoCardContentRenderer){if(!S.cueRanges.length)return;var X;C=(X=S.content)==null?void 0:X.playlistInfoCardContentRenderer;
e=S.teaser.simpleCardTeaserRenderer;u=S.icon?S.icon.infoCardIconRenderer:null;S={id:Z,timestamp:x.N,type:"playlist",teaserText:g.qW(e.message),teaserDurationMs:Number(S.cueRanges[0].teaserDurationMs),startMs:Number(S.cueRanges[0].startCardActiveMs),autoOpen:!!S.autoOpen,sessionData:uZ(x,Z,S,C),sponsored:!1,TE:Sn(C,e,C.action),Wz:C.trackingParams?g.vF(C.trackingParams):null,QS:e.trackingParams?g.vF(e.trackingParams):null,jR:u&&u.trackingParams?g.vF(u.trackingParams):null,lS:kW(C.playlistThumbnail.thumbnails,
258,290).url,customMessage:C.customMessage?g.qW(C.customMessage):null,playlistVideoCount:g.qW(C.playlistVideoCount),title:C.playlistTitle?g.qW(C.playlistTitle):"",metaInfo:[C.channelName?g.qW(C.channelName):"",C.videoCountText?g.qW(C.videoCountText):""],url:gu({pause_on_navigation:!x.context.videoData.isLivePlayback,target:"new",value:IUH(C.action)}),onClickCommand:null};en(x,S)}else{var a;if((a=S.content)==null?0:a.videoInfoCardContentRenderer){if(!S.cueRanges.length)return;var F;C=(F=S.content)==
null?void 0:F.videoInfoCardContentRenderer;e=S.teaser.simpleCardTeaserRenderer;u=S.icon?S.icon.infoCardIconRenderer:null;S={id:Z,timestamp:x.N,type:"video",teaserText:g.qW(e.message),teaserDurationMs:Number(S.cueRanges[0].teaserDurationMs),startMs:Number(S.cueRanges[0].startCardActiveMs),autoOpen:!!S.autoOpen,sessionData:uZ(x,Z,S,C),sponsored:!1,TE:Sn(C,e,C.action),Wz:C.trackingParams?g.vF(C.trackingParams):null,QS:e.trackingParams?g.vF(e.trackingParams):null,jR:u&&u.trackingParams?g.vF(u.trackingParams):
null,lS:kW(C.videoThumbnail.thumbnails,258,290).url,videoDuration:C.lengthString?g.qW(C.lengthString):null,customMessage:C.customMessage?g.qW(C.customMessage):null,title:C.videoTitle?g.qW(C.videoTitle):"",metaInfo:[C.channelName?g.qW(C.channelName):"",C.viewCountText?g.qW(C.viewCountText):""],isLiveNow:!!C.badge,url:gu({pause_on_navigation:!x.context.videoData.isLivePlayback,target:"new",value:IUH(C.action)}),onClickCommand:null};en(x,S)}}}}}x.N++},kW=function(x,S,Z){for(var k=-1,e=-1,u=0;u<x.length;u++){if(x[u].height===
S||x[u].width===Z)return x[u];
((x[u].height||0)<S||(x[u].width||0)<Z)&&(k<0||(x[k].height||0)<(x[u].height||0)||(x[k].width||0)<(x[u].width||0))?k=u:((x[u].height||0)>=S||(x[u].width||0)>=Z)&&(e<0||(x[e].height||0)>(x[u].height||0)||(x[e].width||0)>(x[u].width||0))&&(e=u)}return x[e>=0?e:k]},uZ=function(x,S,Z,k){return{feature:Z.feature?Z.feature:"cards",
src_vid:x.context.videoData.videoId,annotation_id:S,ei:x.context.videoData.eventId||"",itct:k.trackingParams||""}},s0J=function(x,S){if(S=Q09(x,S))S===x.S&&(x.S=null),x.T.removeCueRange(S.WQ.id),g.W$(S.y3),g.rJ(x.cards,S),x.Rm(),Ca(x)},jn=function(x,S,Z){if(!x.D){x.UT.show();
x.WU=new g.xN(function(){g.c8(x.context.T.getRootNode(),g.Nk.IV_DRAWER_OPEN)},0);
x.WU.start();x.Nb.W(x.Y,"mousewheel",function(C){x.hg.start();C.preventDefault();C=C||window.event;var L=0;C.type=="MozMousePixelScroll"?L=0==(C.axis==C.HORIZONTAL_AXIS)?C.detail:0:window.opera?L=C.detail:L=C.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?C.wheelDeltaY/-30:C.wheelDeltaY/-1.2:C.wheelDelta/-1.6:C.wheelDeltaY/-3;if(C=L)x.Y.scrollTop+=C});
x.D=!0;var k=g.Ia();k&&x.Mb&&x.X&&g.SA(k,[x.Mb,x.X]);S={TRIGGER_TYPE:S};for(var e=g.v(x.cards),u=e.next();!u.done;u=e.next())u=u.value,u.Gy||(u.Gy=!0,fUS(x.context.logger,u.WQ.TE.TM,S)),k&&g.SA(k,[u.WQ.Wz]);B7(x.T);Z&&(x.L=new g.xN(function(){x.R5=x.B;x.f3.focus()},330),x.L.start())}},Zr=function(x){x.D&&(x.UT.hide(),g.n1(x.Nb),g.XL(x.context.T.getRootNode(),g.Nk.IV_DRAWER_OPEN),x.D=!1,B7(x.T),x.L&&x.L.stop(),x.L=new g.xN(function(){x.R5&&(x.R5.focus(),x.R5=null)},330),x.L.start())},Ex$=function(x){g.JC(x.Ba(),
[g.Nk.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.jd(x.T,x.G,5);x.Yk();x.B=g.c$("ytp-cards-button",x.T.getRootNode());x.f3=g.c$("iv-drawer-close-button",x.G);x.isInitialized=!0},BkH=function(x){x.DG.push(g.Sz("iv-teaser-shown",x.Vm,x));
x.DG.push(g.Sz("iv-teaser-hidden",x.RmN,x));x.DG.push(g.Sz("iv-teaser-clicked",x.G4,x));x.Gt=!0},VLR=function(x,S){var Z;
return S.onClickCommand&&((Z=g.H(S.onClickCommand,g.eeh))==null?void 0:Z.targetId)==="engagement-panel-error-corrections"?(x.GS=S,!0):!1},nxR=function(x,S){x.GS=S;
var Z=x.T.getVideoData();if(!Z)return!1;Z=g.kM(Z);if(Z==null?0:Z.markersMap)for(var k,e=0;((k=Z)==null?void 0:k.markersMap.length)>e;e++){var u=void 0,C=(u=Z)==null?void 0:u.markersMap[e];if(C.key==="ERROR_CORRECTION_MARKERS"&&(u=void 0,(C=(u=C.value)==null?void 0:u.markers)&&C.length>0))return k=void 0,S.startMs=((k=g.H(C[0],g.QDb))==null?void 0:k.timeRangeStartMillis)||0,x.GS=null,!0}return!1},en=function(x,S){if(!VLR(x,S)||nxR(x,S)){var Z=K8H(x,S);
if(Z){var k={WQ:S,y3:Z.element,Gy:!1};if(S.onClickCommand)x.T.Z("web_infocards_teaser_show_logging_fix")&&(x.Gt||BkH(x),s0J(x,S.id),Z=x.findLastIndex(k),g.Hs(x.cards,Z,0,k));else{x.isInitialized||Ex$(x);s0J(x,S.id);var e=x.findLastIndex(k);g.Hs(x.cards,e,0,k);Z.ZG(x.Y,e);x.Rm()}S.autoOpen?x.addCueRange(S.startMs,0x8000000000000,S.id,function(){x.D||(x.S=k,Ca(x),GQS(x,k),jn(x,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(Z=x.context.T.getCurrentTime()*1E3,Z<5E3&&Z>S.startMs&&bt9(x,k),x.addCueRange(S.startMs,
S.startMs+1,S.id,function(){bt9(x,k)}),Ca(x))}}},K8H=function(x,S){switch(S.type){case "simple":x=x.yN;
var Z=S.displayDomain?{V:"div",J:"iv-card-image-text",md:S.displayDomain}:void 0;var k=PJR(S);Z={V:"div",py:["iv-card"],C:[{V:"a",J:"iv-click-target",K:{href:S.url?MJ(S.url)||"":""},C:[y0(S.imageUrl,Z),{V:"div",J:"iv-card-content",C:[lt("h2",void 0,S.title),k]}]}]};Z=new g.U(Z);p7(x,g.te("iv-click-target",Z.element),S,S.url);S=Z;break;case "collaborator":x=x.yN;Z={V:"div",py:["iv-card","iv-card-channel"],C:[{V:"a",py:["iv-click-target"],K:{href:MJ(S.url)||"","data-ytid":S.channelId},C:[y0(S.profileImageUrl),
{V:"div",J:"iv-card-content",C:[zyR(S),{V:"h2",J:"iv-card-primary-link",md:S.title},TkH(S)]}]}]};Z=new g.U(Z);p7(x,g.te("iv-click-target",Z.element),S,S.url);S=Z;break;case "playlist":x=x.yN;Z={V:"div",py:["iv-card","iv-card-playlist"],C:[{V:"a",J:"iv-click-target",K:{href:MJ(S.url)||""},C:[y0(S.lS,{V:"div",J:"iv-card-image-overlay",C:[{V:"span",J:"iv-card-playlist-video-count",md:S.playlistVideoCount}]}),{V:"div",J:"iv-card-content",C:[zyR(S),lt("h2","iv-card-primary-link",S.title),TkH(S)]}]}]};
Z=new g.U(Z);p7(x,g.te("iv-click-target",Z.element),S,S.url);S=Z;break;case "productListing":x=x.yN;var e=S.offers.length!=0;Z=["iv-card"];k="";var u=PJR(S);e&&(Z.push("iv-card-product-listing"),k="iv-card-primary-link",u=S.offers[0],e=[],u.price&&e.push({V:"div",J:"iv-card-offer-price",md:u.price}),u.merchant&&e.push({V:"div",J:"iv-card-offer-merchant",md:u.merchant}),u={V:"div",C:e});e=S.url?MJ(S.url)||"":"";Z={V:"div",py:Z,K:{tabindex:"0"},C:[{V:"a",py:["iv-card-image","iv-click-target"],K:{style:"background-image: url("+
S.imageUrl+");",href:e,"aria-hidden":"true",tabindex:"-1"}},{V:"div",J:"iv-card-content",C:[S.sponsored?{V:"div",J:"iv-card-sponsored",C:["Sponsored",{V:"div",J:"iv-ad-info-container",C:[{V:"div",J:"iv-ad-info",md:"{{adInfo}}"},{V:"div",J:"iv-ad-info-icon-container",C:[{V:"div",J:"iv-ad-info-icon"},{V:"div",J:"iv-ad-info-callout"}]}]}]}:"",{V:"a",J:"iv-click-target",K:{href:e},C:[lt("h2",k,S.title),u]}]}]};Z=new g.U(Z);k=g.dG("span");g.IC(k,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
Z.setContent(k,"adInfo");p7(x,g.te("iv-click-target",Z.element),S,S.url);S=Z;break;case "video":x=x.yN;k=S.videoDuration?{V:"span",J:"iv-card-video-duration",md:S.videoDuration}:void 0;u=S.isLiveNow?{V:"span",py:["yt-badge","yt-badge-live"],md:"LIVE NOW"}:null;e={V:"div",py:["iv-card","iv-card-video"],C:[{V:"a",J:"iv-click-target",K:{href:((Z=S.url)==null?void 0:MJ(Z))||""},C:[y0(S.lS,k),{V:"div",J:"iv-card-content",C:[zyR(S),lt("h2","iv-card-primary-link",S.title),TkH(S),u]}]}]};Z=new g.U(e);p7(x,
g.te("iv-click-target",Z.element),S,S.url);S=Z;break;default:return null}return S},mBS=function(x){if(x.S)return x.S.WQ.type==="productListing";
if(x.T.Z("enable_wn_infocards")){var S;return!((S=x.cards)==null||!S.length)&&g.Wk(x.cards,function(Z){return Z.WQ.type==="productListing"})}return g.Wk(x.cards,function(Z){return Z.WQ.type==="productListing"})},Ca=function(x){g.FL(x.T.getRootNode(),"ytp-cards-shopping-active",mBS(x))},bt9=function(x,S){if(!g.L$(x.T.getRootNode(),"ytp-cards-teaser-shown")){if(x.S!==S){var Z=g.Ia(),k=x.S?x.S.WQ.jR:x.jR;
Z&&k&&g.jA(Z,[k]);x.S=S;Ca(x)}(Z=x.isInitialized&&x.Ba().style.display=="none")||(Z=x.context.T.getPlayerState(),k=Z===0&&x.context.T.getCurrentTime()===0,Z=!(Z===1||Z===3||k));if(!Z&&S.WQ.teaserDurationMs){var e;Z={teaserText:S.WQ.teaserText,durationMs:S.WQ.teaserDurationMs,onClickCommand:S.WQ.onClickCommand,Cu:(e=S.WQ.Cu)!=null?e:null};x.T.zk(!0,Z)}x.jy.isActive()||((!x.D||!x.hg.isActive()&&x.FL)&&GQS(x,S),x.jy.start(910+S.WQ.teaserDurationMs))}},GQS=function(x,S){x.j.m0?(S=new bt([0,
x.Y.scrollTop],[0,S.y3.offsetTop],600,A4b),x.context.D.listen(S,"animate",function(Z){x.Y.scrollTop=Z.y}),x.context.D.listen(S,"finish",function(Z){x.Y.scrollTop=Z.y}),S.play()):(x.j.Ua(!0),x.Y.scrollTop=S.y3.offsetTop,x.j.Ua(!1))},t8=function(x){return x.S&&x.S.WQ?x.S.WQ:x.cards[0]&&x.cards[0].WQ?x.cards[0].WQ:null},Q09=function(x,S){return g.Ws(x.cards,function(Z){return Z.WQ.id===S})},La=function(x,S,Z){$o.call(this,x,S);
this.annotation=Z;this.isActive=!1},oxv=function(x){var S=x.annotation.data;
"start_ms"in S&&"end_ms"in S&&x.addCueRange(Number(S.start_ms),Number(S.end_ms),x.annotation.id,function(){x.show()},function(){x.hide()})},cO=function(x,S,Z){La.call(this,x,S,Z);
this.Y=null;this.N=!1;this.D=null;this.G=!1;this.S=this.L=this.B=null},OtR=function(x,S){var Z=Z===void 0?0:Z;
var k=Kcv(S).width;g.xj(S,k);Z=new HK$(S,[k,S.offsetTop],[k-k-Z,S.offsetTop],200,Uvn);g.O(x,Z);x.context.D.listen(Z,"begin",function(){g.ul(S,!0)});
Z.play()},UBS=function(x,S){if(S.channel_name){var Z=x.createElement({V:"div",
py:["iv-branding-context-name"],md:S.channel_name}),k=x.createElement({V:"div",py:["iv-branding-context-subscribe"]}),e=S.standalone_subscribe_button_data;e&&(x.S=new g.kI(e.subscribeText,e.subscribeCount,e.unsubscribeText,e.unsubscribeCount,!!e.enabled,!!e.classic,S.channel_id,!!e.subscribed,e.feature,S.session_data.itct,x.context.T,!1),x.S.ZG(k));var u=x.createElement({V:"div",py:["iv-branding-context-subscribe-caret"]}),C=x.createElement({V:"div",py:["branding-context-container-inner"]});C.appendChild(u);
C.appendChild(Z);C.appendChild(k);g.ul(C,!1);var L=x.createElement({V:"div",py:["branding-context-container-outer"]});L.appendChild(C);g.Mq(L,"right",S.image_width+"px");g.TX(x.Ba(),L);x.D=new g.xN(function(){hy$(x,C,L)},500);
g.O(x,x.D);x.context.S.listen(x.Ba(),"mouseover",function(){Htx(x,C,L,u,S.image_height)});
x.context.S.listen(x.Ba(),"mouseout",function(){x.D.start()})}},Htx=function(x,S,Z,k,e){x.D.stop();
if(!x.G){var u=g.e1(S);x.S||(S.style.width=g.$Z(u.width,!0),Z.style.width=g.$Z(u.width,!0));g.Mq(k,"top",u.height-Math.max(Math.min(u.height,e)/2+10,20)+"px");g.Mq(k,"right","1px");x.G=!0;g.ul(S,!0);x.B=new g.xN(function(){g.c8(this.Ba(),"iv-branding-active")},0,x);
x.B.start()}},hy$=function(x,S,Z){g.XL(x.Ba(),"iv-branding-active");
x.L=new g.xN(function(){g.ul(S,!1);x.S||(Z.style.width=g.$Z(0,!0))},250);
x.L.start();x.G=!1},Au9=function(x,S,Z,k,e,u,C){this.S=x;
this.D=S;this.Sy=Z;this.videoData=k;this.logger=e;this.T=u;this.Y=C},Ry$=function(x,S,Z){La.call(this,x,S,Z);
var k=this;this.X=this.isCollapsed=this.j=!1;this.L=5E3;this.Y=this.D=this.S=this.G=null;this.N=this.createElement({V:"div",py:["iv-promo-contents"]});this.B=new g.xN(function(){k.S.setAttribute("aria-hidden","true");g.ul(k.D,!1);g.ul(k.Y,!0)},700,this);
g.O(this,this.B)},DBR=function(x){var S=x.annotation.data;
if(x.annotation.style==="cta")var Z=6;else if(x.annotation.style==="video"||x.annotation.style==="playlist")Z=7;x.L=S.collapsedelay_ms||x.L;var k=["iv-promo","iv-promo-inactive"];x.Ba().setAttribute("aria-hidden","true");x.Ba().setAttribute("aria-label","Promotion");x.Ba().tabIndex=0;var e=x.annotation.s8(),u=S.image_url;if(u){var C=x.createElement({V:"div",py:["iv-promo-img","iv-click-target"]});u=x.createElement({V:"img",K:{src:u,"aria-hidden":"true"}});C.appendChild(u);S.video_duration&&!S.is_live?
(u=x.createElement({V:"span",J:"iv-promo-video-duration",md:S.video_duration}),C.appendChild(u)):S.playlist_length&&(u=x.createElement({V:"span",J:"iv-promo-playlist-length",md:S.playlist_length.toString()}),C.appendChild(u));e&&xW(x,C,e,x.annotation.id,S.session_data,void 0,Z)}e?(u=x.createElement({V:"a",J:"iv-promo-txt"}),g.X7(u,MJ(e)),x.S=u):x.S=x.createElement({V:"div",J:"iv-promo-txt"});switch(x.annotation.style){case "cta":case "website":var L=x.createElement({V:"p",C:[{V:"strong",md:S.text_line_1}]});
var c=x.createElement({V:"p",C:[{V:"span",J:"iv-promo-link",md:S.text_line_2}]});if(u=S.text_line_3){k.push("iv-promo-website-card-cta-redesign");var J=x.createElement({V:"button",py:["iv-promo-round-expand-icon","ytp-button"]});u=x.createElement({V:"button",py:["iv-button","iv-promo-button"],C:[{V:"span",J:"iv-button-content",md:u}]});var X=x.createElement({V:"div",J:"iv-promo-button-container"});X.appendChild(u);e&&xW(x,x.Ba(),e,x.annotation.id,S.session_data,void 0,Z)}g.c8(x.S,"iv-click-target");
e&&xW(x,x.S,e,x.annotation.id,S.session_data,void 0,Z);break;case "playlist":case "video":L=x.createElement({V:"p",C:[{V:"span",md:S.text_line_1}]}),c=x.createElement({V:"p",C:[{V:"strong",md:S.text_line_2}]}),S.is_live&&(L=c,c=x.createElement({V:"span",py:["yt-badge","iv-promo-badge-live"],md:"LIVE NOW"})),g.c8(x.S,"iv-click-target"),e&&xW(x,x.S,e,x.annotation.id,S.session_data,void 0,Z),k.push("iv-promo-video")}L&&x.S.appendChild(L);c&&x.S.appendChild(c);x.N.appendChild(x.S);X&&x.N.appendChild(X);
Z=x.createElement({V:"div",J:"iv-promo-actions"});x.Y=x.createElement({V:"button",py:["iv-promo-expand","ytp-button"]});x.Y.title="Expand";x.context.S.listen(x.Y,"click",function(a){wr9(x,5E3,a)});
Z.appendChild(x.Y);g.ul(x.Y,!1);x.context.S.listen(x.Ba(),"mouseover",x.By,x);x.context.S.listen(x.Ba(),"mouseout",x.vy,x);x.context.S.listen(x.Ba(),"touchend",function(a){wr9(x,5E3,a)});
x.D=x.createElement({V:"button",py:["iv-promo-close","ytp-button"]});x.D.title="Close";x.context.S.listen(x.D,"click",x.annotation.style==="cta"&&S.text_line_3?x.m1:x.GG,x);Z.appendChild(x.D);g.JC(x.Ba(),k);C&&(g.TX(x.Ba(),C),J&&C.appendChild(J));g.TX(x.Ba(),x.N);g.TX(x.Ba(),Z)},wr9=function(x,S,Z){Z.stopPropagation();
MLS(x);gxm(x,S);x.S.focus()},lUJ=function(x){x.isCollapsed||x.X||x.G||(g.c8(x.Ba(),"iv-promo-collapsed"),x.isCollapsed=!0,x.B.start())},MLS=function(x){x.B.stop();
x.isCollapsed&&(g.a3(x.Ba(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),x.isCollapsed=!1,x.S&&x.S.removeAttribute("aria-hidden"),g.ul(x.Y,!1),g.ul(x.D,!0))},gxm=function(x,S){x.G||(x.G=g.hh(function(){yu$(this);
lUJ(this)},S,x))},yu$=function(x){x.G&&(g.$b.clearTimeout(x.G),x.G=null)},prx=function(x){this.T=x},fUS=function(x,S,Z){S&&(Z?J8(x,S.map(function(k){return g.ng(k,Z)})):J8(x,S))},J8=function(x,S,Z,k){var e=1,u=void 0,C=-1;
if(Z){var L=!1;u=function(){e--;e||L||(clearTimeout(C),L=!0,Z())};
C=setTimeout(function(){L=!0;Z()},1E3)}S=g.v(S||[]);
for(var c=S.next();!c.done;c=S.next())c=c.value,e++,g.bX(c,u);k&&(e++,k!==0&&x.T.sendVideoStatsEngageEvent(k,u))},SCx=function(x){g.Nx.call(this,x);
var S=this;this.DG=this.X=!1;this.loadNumber=0;this.L={};this.logger=new prx(this.player);this.G=new g.sz(this);this.B=this.N=null;this.events=new g.sz(this);this.Ij=this.j=this.S=null;this.GS=[];g.O(this,this.G);this.G.W(this.player,"onVideoAreaChange",function(){S.publish("onVideoAreaChange")});
this.G.W(this.player,"onHideControls",function(){S.publish("onHideControls")});
this.G.W(this.player,"onShowControls",function(){S.publish("onShowControls")});
this.G.W(this.player,"resize",function(u){S.publish("resize",u)});
this.G.W(this.player,"presentingplayerstatechange",function(u){S.publish("presentingplayerstatechange",u)});
this.subscribe("presentingplayerstatechange",this.e_,this);this.subscribe("resize",this.HM,this);this.player.U().FL.subscribe("vast_info_card_add",this.qZ,this);g.O(this,this.events);this.yN=this.createElement({V:"div",J:"video-custom-annotations"});this.Y=new g.U({V:"div",py:["ytp-player-content","ytp-iv-player-content"]});g.O(this,this.Y);g.jd(this.player,this.Y.element,4);this.Y.hide();this.D=new g.U({V:"div",py:["ytp-iv-video-content"]});g.O(this,this.D);x=this.createElement({V:"div",J:"video-annotations"});
x.appendChild(this.yN);this.D.element.appendChild(x);this.b1()&&this.load();var Z=this.createElement({V:"style"});(g.CU("HEAD")[0]||document.body).appendChild(Z);this.addOnDisposeCallback(function(){g.W$(Z)});
if(x=Z.sheet){for(var k=g.v($B$),e=k.next();!e.done;e=k.next())x.insertRule(e.value,0);k=g.v(xIs);for(e=k.next();!e.done;e=k.next())x.insertRule(e.value,0)}},jQS=function(x){x=x.createElement({V:"div",
py:["annotation","annotation-type-custom"]});g.ul(x,!1);return x},tqm=function(x,S){function Z(C){var L=x.loadNumber;
x.B=null;x.loaded&&x.loadNumber===L&&x.player.getVideoData().videoId===k&&(C=g.Tk(C)&&C.responseXML?C.responseXML:null)&&(ZNx(x,C),g.c8(x.player.getRootNode(),"iv-module-loaded"))}
var k=S.videoId;g.jy()&&(Z=ktx(x,Z));var e={format:"XML",onFinish:Z,onError:function(){x.B=null},
urlParams:{}};S.isPharma&&(e.urlParams.pharma="1");e.method="POST";e.withCredentials=!0;var u=x.player.U().FL.get(k);u&&(Math.random()<g.CX(x.player.U().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.nn(new g.MG("Unexpected call to loadVastInfoCards; VastInfoCard exists.")),eKR(e,u));u=u&&(u.vR||u.Hf);if(!S.DW||u)S.Nb?(Math.random()<g.CX(x.player.U().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.nn(new g.MG("Unexpected call to loadVastInfoCards; Attempting to load annotations via invideo URL.")),
ujb(x,S.Nb,e)):(x.N=function(){if(!x.X)x.onVideoDataChange(e);var C=x.player.getVideoData();(C==null?0:g.Cx(C))&&!x.DG&&CKx(x,C)},x.player.addEventListener("videodatachange",x.N))},LvR=function(x,S){S=!S.isCued()&&!g.D(S,1024);
x.Y.Ua(S);x.D.Ua(S)},ujb=function(x,S,Z){x.X=!0;
x.B=g.fG(S,Z)},cQv=function(x,S){for(var Z={},k=g.v(S.attributes),e=k.next();!e.done;e=k.next())e=e.value,Z[e.name]=e.nodeValue;
for(k=0;k<S.childNodes.length;k++)if(e=S.childNodes[k],g.ub(e)&&e.nodeType==1){if(Z[e.tagName])var u=Z[e.tagName];else if(e.tagName==="data"){e.childNodes.length>0&&(u=e.childNodes[0].nodeValue,Z[e.tagName]=typeof u==="string"?u.trim():u);continue}else u=[],Z[e.tagName]=u;e&&e.tagName==="TEXT"?e.childNodes.length===1&&e.childNodes[0].nodeType===3?u.push(e.childNodes[0].nodeValue):u.push(""):e&&u.push(cQv(x,e))}return Z},JQR=function(x){var S=x.player.getVideoData();
if(S.Nb){var Z=x.player.U().FL.get(S.videoId);if(Z){var k={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(e,u,C){e=x.loadNumber;u=S.videoId;x.loaded&&x.loadNumber===e&&x.player.getVideoData().videoId===u&&(C=g.Tk(C)&&C.responseXML?C.responseXML:null)&&ZNx(x,C)}};
g.jy()&&(k.onFinish=ktx(x,k.onFinish));k.postParams={ic_only:"1"};eKR(k,Z);x.X=!0;g.fG(S.Nb,k)}}},eKR=function(x,S){x.method="POST";
x.postParams=x.postParams||{};S.Hf&&(x.postParams.ic_coll=S.Hf);S.vR&&(x.postParams.ic_xml=S.vR);S.Hn&&(x.postParams.ic_track=S.Hn)},XJ$=function(x){var S=new g.U({V:"div"});
g.ul(S.element,!1);var Z=new Nk9(x.player,S.element,X3(x));g.O(Z,S);S.ZG(x.Y.element);Z.sN();return Z},CKx=function(x,S){var Z,k;
if(S=(Z=S.getWatchNextResponse())==null?void 0:(k=Z.cards)==null?void 0:k.cardCollectionRenderer)x.DG=!0,a5J(x,S),S.headerText&&x.Ij&&(Z=g.qW(S.headerText),x.player.Z("player_tooltip_data_title_killswitch")?x.Ij.setAttribute("title",Z):x.Ij.setAttribute("data-tooltip-title",Z))},X3=function(x){if(!x.j){var S=new Rc$(x);
g.O(x,S);var Z=new g.vZ(x);g.O(x,Z);x.j=new Au9(S,Z,x.player.U(),x.player.getVideoData(),x.logger,x.player,x.hG)}return x.j},ZNx=function(x,S){var Z=!1,k=S.getElementsByTagName("annotations");
if(k&&!(k.length<1)&&(k=k[0].getAttribute("itct"))){var e=g.Ia();if(e){var u=g.Yr();u&&g.S6(g.Ra)(void 0,e,u,[g.vF(k)])}}S=S.getElementsByTagName("annotation");for(k=0;k<S.length;k++){u=cQv(x,S[k]);e=null;try{if(u){var C=u.id,L=/.+/;var c=typeof C==="string"&&L!=null&&C!=null&&C.match(L)?C:"";var J=DW(u.type,Fvb),X=DW(u.style,qCJ),a=CJ$(u.data),F=a.length!==0?JSON.parse(a):{};var q=u.action;u=aUR;if(q==null)var d=null;else if(g.ex(q)){L=[];for(var W=g.v(q),I=W.next();!I.done;I=W.next()){var f=u(I.value);
f&&L.push(f)}d=L}else{var Q=u(q);d=Q?[Q]:[]}e=c&&J?new F8x(c,J,X,d,F):null}else e=null}catch(kb){}if(e)if(e.type==="branding"||e.type==="promotion"){u=x;L=e;var n=jQS(u),b=null;switch(L.type){case "branding":if(u.player.U().iP)break;u.player.Z("web_player_overlay_positioned_layout")?(n.setAttribute("data-overlay-order","11"),u.player.NT(n,4,!0)):u.Y.element.appendChild(n);b=new cO(n,X3(u),L);break;case "promotion":g.jd(u.player,n,4),b=new Ry$(n,X3(u),L)}b&&b.sN();if(u=b)g.O(x,u),x.L[e.id]=u}else if(e.type===
"card"||e.type==="drawer"){x.S||(x.S=XJ$(x),g.O(x,x.S));if(e.type==="card"){n=x.S;var h=(Z=e)&&Z.data&&Z.data.card_type;e=Z.data;if(h)switch(u=e.tracking||{},u={TM:u.impression,click:u.click,close:u.close,vn:u.teaser_impression,eC:u.teaser_click},L=e.tracking_params||{},b=null,h){case "collaborator":Z={id:Z.id,timestamp:e.timestamp||0,type:e.card_type,teaserText:e.teaser_text,teaserDurationMs:e.teaser_duration_ms,startMs:e.start_ms,autoOpen:e.auto_open||!1,sessionData:e.session_data||{},sponsored:e.sponsored||
!1,TE:u,Wz:L.card?g.vF(L.card):null,QS:L.teaser?g.vF(L.teaser):null,jR:L.icon?g.vF(L.icon):null,channelId:e.channel_id,customMessage:e.custom_message?e.custom_message:null,profileImageUrl:e.image_url,title:e.title,metaInfo:e.meta_info,url:gu({pause_on_navigation:e.pause_on_navigation,target:e.target||"new",value:e.url}),onClickCommand:null};en(n,Z);break;case "playlist":Z={id:Z.id,timestamp:e.timestamp||0,type:e.card_type,teaserText:e.teaser_text,teaserDurationMs:e.teaser_duration_ms,startMs:e.start_ms,
autoOpen:e.auto_open||!1,sessionData:e.session_data||{},sponsored:e.sponsored||!1,TE:u,Wz:L.card?g.vF(L.card):null,QS:L.teaser?g.vF(L.teaser):null,jR:L.icon?g.vF(L.icon):null,lS:e.image_url,playlistVideoCount:e.playlist_video_count,customMessage:e.custom_message?e.custom_message:null,title:e.title,metaInfo:e.meta_info,url:gu({pause_on_navigation:e.pause_on_navigation,target:e.target||"new",value:e.url}),onClickCommand:null};en(n,Z);break;case "productListing":e.signin_url&&(b=gu({target:"current",
value:e.signin_url}));h=[];for(var l=e.offers||[],A=0;A<l.length;A++)h.push(new vxb(g.nk(l[A].merchant),g.nk(l[A].price)));Z={id:Z.id,timestamp:e.timestamp||0,type:e.card_type,teaserText:e.teaser_text,teaserDurationMs:e.teaser_duration_ms,startMs:e.start_ms,autoOpen:e.auto_open||!1,sessionData:e.session_data||{},sponsored:e.sponsored||!1,TE:u,Wz:L.card?g.vF(L.card):null,QS:L.teaser?g.vF(L.teaser):null,jR:L.icon?g.vF(L.icon):null,imageUrl:e.image_url,displayDomain:e.display_domain?e.display_domain:
null,showLinkIcon:!!e.show_link_icon,US:e.button_icon_url?e.button_icon_url:null,title:e.title,customMessage:e.custom_message?e.custom_message:null,url:gu({pause_on_navigation:e.pause_on_navigation,target:e.target||"new",value:e.url}),Vly:b,mQd:e.signin_title?e.signin_title:void 0,GJb:e.signin_message?e.signin_message:void 0,offers:h,onClickCommand:null};en(n,Z);break;case "simple":Z={id:Z.id,timestamp:e.timestamp||0,type:e.card_type,teaserText:e.teaser_text,teaserDurationMs:e.teaser_duration_ms,
startMs:e.start_ms,autoOpen:e.auto_open||!1,sessionData:e.session_data||{},sponsored:e.sponsored||!1,TE:u,Wz:L.card?g.vF(L.card):null,QS:L.teaser?g.vF(L.teaser):null,jR:L.icon?g.vF(L.icon):null,imageUrl:e.image_url,displayDomain:e.display_domain?e.display_domain:null,showLinkIcon:!!e.show_link_icon,US:e.button_icon_url?e.button_icon_url:null,title:e.title,customMessage:e.custom_message?e.custom_message:null,url:gu({pause_on_navigation:e.pause_on_navigation,target:e.target||"new",value:e.url}),onClickCommand:null};
en(n,Z);break;case "video":Z={id:Z.id,timestamp:e.timestamp||0,type:e.card_type,teaserText:e.teaser_text,teaserDurationMs:e.teaser_duration_ms,startMs:e.start_ms,autoOpen:e.auto_open||!1,sessionData:e.session_data||{},sponsored:e.sponsored||!1,TE:u,Wz:L.card?g.vF(L.card):null,QS:L.teaser?g.vF(L.teaser):null,jR:L.icon?g.vF(L.icon):null,lS:e.image_url,videoDuration:e.video_duration||null,customMessage:e.custom_message?e.custom_message:null,title:e.title,metaInfo:e.meta_info,isLiveNow:!!e.is_live_now,
url:gu({pause_on_navigation:e.pause_on_navigation,target:e.target||"new",value:e.url}),onClickCommand:null},en(n,Z)}}else ruR(x.S,e);Z=!0}}Z&&(B7(x.player),x.HM())},a5J=function(x,S){var Z=!1;
x.S||(x.S=XJ$(x),g.O(x,x.S));for(var k=g.v(S.cards||[]),e=k.next();!e.done;e=k.next())e=e.value,e.cardRenderer&&(itb(x.S,e.cardRenderer),Z=!0);if(Z){var u;(u=x.player.getVideoData())!=null&&g.Cx(u)||(Z=x.S,k=S.headerText?g.qW(S.headerText):"",g.IC(Z.a$,k),Z.B&&(Z.T.Z("player_tooltip_data_title_killswitch")?Z.B.setAttribute("title",k):Z.B.setAttribute("data-tooltip-title",k)),Z.context.videoData.eventId&&(Z.eventId=Z.context.videoData.eventId),Z.Mb=S.trackingParams?g.vF(S.trackingParams):null,Z.X=
S.closeButton.infoCardIconRenderer.trackingParams?g.vF(S.closeButton.infoCardIconRenderer.trackingParams):null,Z.jR=S.icon.infoCardIconRenderer.trackingParams?g.vF(S.icon.infoCardIconRenderer.trackingParams):null,x.HM());B7(x.player)}},ktx=function(x,S){return function(){var Z=g.OO.apply(0,arguments);
x.Jg()||x.GS.push(g.D$.lI(function(){S.apply(null,g.qc(Z))}))}},dIb=function(x){return x==="annotation-editor"||x==="live-dashboard"};
g.M3.prototype.zk=g.uy(39,function(x,S){var Z=g.b6(this.ML());Z&&Z.zk(x,S)});
var n7={},K7=null;g.dJ(bt,g.qX);g.z=bt.prototype;g.z.getDuration=function(){return this.duration};
g.z.play=function(x){if(x||this.S==0)this.progress=0,this.coords=this.Y;else if(this.isPlaying())return!1;GU(this);this.startTime=x=g.Fv();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.G=this.startTime;this.progress||this.O1();this.FO("play");this.isPaused()&&this.FO("resume");this.S=1;var S=g.t$(this);S in n7||(n7[S]=this);mvt();o1t(this,x);return!0};
g.z.stop=function(x){GU(this);this.S=0;x&&(this.progress=1);OKm(this,this.progress);this.onStop();this.A3()};
g.z.pause=function(){this.isPlaying()&&(GU(this),this.S=-1,this.FO("pause"))};
g.z.VN=function(){this.S==0||this.stop(!1);this.FO("destroy");bt.AU.VN.call(this)};
g.z.destroy=function(){this.dispose()};
g.z.Qj=function(){this.FO("animate")};
g.z.FO=function(x){this.dispatchEvent(new hcS(x,this))};
g.dJ(hcS,g.lu);g.dJ(mJ,bt);mJ.prototype.D=function(){};
mJ.prototype.Qj=function(){this.D();mJ.AU.Qj.call(this)};
mJ.prototype.A3=function(){this.D();mJ.AU.A3.call(this)};
mJ.prototype.O1=function(){this.D();mJ.AU.O1.call(this)};
g.dJ(HK$,mJ);HK$.prototype.D=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.T(Rc$,g.m);g.z=Rc$.prototype;g.z.listen=function(x,S,Z,k){Z=(0,g.cs)(Z,k||this.Y);x=g.ik(x,S,Z);this.S.push(x);return x};
g.z.UZ=function(x,S,Z,k){Z=(0,g.cs)(Z,k||this.Y);x=GEn(x,S,Z);this.S.push(x);return x};
g.z.R7=function(x){g.Qs(x);g.rJ(this.S,x)};
g.z.removeAll=function(){g.Qs(this.S);this.S.length=0};
g.z.VN=function(){this.removeAll();g.m.prototype.VN.call(this)};g.T(MYR,g.Nx);g.z=MYR.prototype;g.z.load=function(){g.Nx.prototype.load.call(this);if(!hS(this)){var x=g.Z_q(this.player.getVideoData());x?(x=Dv$(x,g1R(this)),H7(this,x,!1)):ltS(this)}};
g.z.unload=function(){H7(this,null);this.G&&(this.G.abort(),this.G=null);g.Nx.prototype.unload.call(this)};
g.z.fh=function(x,S){return hS(this)?x==="loadCustomEndscreenRenderer"?(x=Dv$(S,"new"),H7(this,x),!0):null:null};
g.z.getOptions=function(){return hS(this)?["loadCustomEndscreenRenderer"]:[]};
g.z.Q1=function(){if(this.endscreen&&this.endscreen.elements){var x=this.player.getVideoContentRect();if(x&&x.width!==0&&x.height!==0){var S=this.player.getPlayerSize();if(S&&S.width!==0&&S.height!==0){var Z=x.width/x.height;var k=0;for(var e=-1,u=0;u<zKS.length;u++){var C=Math.abs(S.width-zKS[u]);if(e===-1||k>=C)e=u,k=C}k=Tvb[e];this.D&&g.Mq(this.D.element,"outline-width",Math.max(S.width,S.height)+"px");for(S=0;S<this.endscreen.elements.length;++S)if(u=this.endscreen.elements[S].id,e=this.Y[u],
C=this.L[u],e&&C){var L=C.width*Z/C.aspectRatio,c=Math.round(C.width*x.width);u=Math.round(L*x.height);var J=x.left+Math.round(C.left*x.width),X=x.top+Math.round(C.top*x.height);g.kj(e.element,c,u);g.xj(e.element,J,X);g.a3(e.element,PKn);c>256||u>256?g.c8(e.element,"ytp-ce-large-round"):c>96||u>96?g.c8(e.element,"ytp-ce-medium-round"):g.c8(e.element,"ytp-ce-small-round");g.a3(e.element,vHS);c=C.left+C.width/2;C=C.top+L/2;g.c8(e.element,c<=.5&&C<=.5?"ytp-ce-top-left-quad":c>.5&&C<=.5?"ytp-ce-top-right-quad":
c<=.5&&C>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.a3(e.element,Tvb);g.c8(e.element,k);(e=g.LU(document,"div","ytp-ce-expanding-overlay-body",e.element)[0])&&g.Mq(e,"height",u+"px")}}}}};
g.z.onCueRangeEnter=function(x){if(this.endscreen)if(x.getId()==="ytp-ce-in-endscreen")wu(this,this.endscreen.impressionUrls),(x=g.Ia())&&this.endscreen.visualElement&&g.xu(x,this.endscreen.visualElement),this.S&&(g.c8(this.S,"ytp-ce-element-show"),this.S.removeAttribute("aria-hidden"),this.player.mF()?g.c8(this.S,"ytp-ce-hide-button-lower"):g.XL(this.S,"ytp-ce-hide-button-lower"));else{x=x.getId().substring(15);var S=this.Y[x],Z=this.L[x];g.c8(S.element,"ytp-ce-element-show");S.element.removeAttribute("aria-hidden");
S=this.player.getRootNode();g.c8(S,"ytp-ce-shown");wu(this,Z.impressionUrls);(S=g.Ia())&&g.xu(S,Z.visualElement);this.player.U().X&&this.player.XL("endscreenelementshown",x)}};
g.z.onCueRangeExit=function(x){if(x.getId()==="ytp-ce-in-endscreen")this.S&&(g.XL(this.S,"ytp-ce-element-show"),this.S.setAttribute("aria-hidden","true"));else{x=x.getId().substring(15);var S=this.Y[x];g.XL(S.element,"ytp-ce-element-show");S.element.setAttribute("aria-hidden","true");S=this.player.getRootNode();g.XL(S,"ytp-ce-shown");this.player.U().X&&this.player.XL("endscreenelementhidden",x)}};
g.z.YDU=function(x){var S=this;x.target===window&&(new g.xN(function(){for(var Z=g.v(Object.values(S.Y)),k=Z.next();!k.done;k=Z.next())g.a3(k.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.z.Ua=function(x){for(var S=g.v(Object.values(this.Y)),Z=S.next();!Z.done;Z=S.next())Z=Z.value,x?Z.element.setAttribute("hidden",""):Z.element.removeAttribute("hidden")};
g.z.RdS=function(x){this.S&&this.player.getRootNode().removeChild(this.S);x&&(g.c8(x,"ytp-ce-hide-button-container"),this.S=x,g.jd(this.player,this.S,4))};
var zKS=[346,426,470,506,570,640,853,1280,1920],Tvb="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),vHS=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],PKn=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var L8n={zIb:"current",qng:"new"};var Jub={CLOSE:"close",NY3:"openUrl",SUBSCRIBE:"subscribe"},Xrh={pI3:"click",CLOSE:"close",CXL:"hidden",KbT:"rollOut",iE5:"rollOver",ckN:"shown"};F8x.prototype.s8=function(){var x=qJn(this,function(S){return S.type==="openUrl"&&S.url!=null});
return x?x.url:null};
var qCJ={wSy:"anchored",tJ:"branding",CHANNEL:"channel",U0U:"cta",b1S:"highlightText",En3:"label",PLAYLIST:"playlist",POPUP:"popup",d5T:"speech",SUBSCRIBE:"subscribe",Tj5:"title",VIDEO:"video",r9d:"website"},Fvb={tJ:"branding",VUd:"card",A1G:"drawer",lmy:"highlight",ry5:"marker",QbT:"promotion",TEXT:"text",tVm:"widget"};var $B$=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
xIs=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.T($o,g.m);g.z=$o.prototype;g.z.addCueRange=function(x,S,Z,k,e){x=new g.yU(x,S,{id:Z,namespace:"annotations_module"});k&&this.Cy.set(x,k);e&&this.lr.set(x,e);this.context.T.KY([x],1)};
g.z.sN=function(){this.context.Y.subscribe("resize",this.Rm,this)};
g.z.Ba=function(){return this.element};
g.z.PK=function(x,S,Z,k,e,u){if(this.kd)return!1;u&&(u.stopPropagation(),u.preventDefault());this.navigate(x,Z,k,e);return!1};
g.z.show=function(){};
g.z.hide=function(){};
g.z.destroy=function(){g.W$(this.Ba())};
g.z.Rm=function(){};
g.z.navigate=function(x,S,Z,k){var e=this,u=MJ(x);if(u){var C=YJS(u,x.target),L=function(){x.S&&e.context.T.pauseVideo();var c=e.context.videoData.S1||!1,J=g.CG(u||"");c&&J&&(J.v||J.list)?e.context.T.S8(J.v,S,J.list,!1):g.wX(u||"",C==="current"?"_top":void 0,S)};
C==="new"&&(L(),L=null);J8(this.context.logger,Z,L,k);W8J(u)||(Z=g.Ia(),k=S.itct,Z&&k&&g.Z9(Z,g.vF(k)))}};
g.z.VN=function(){this.Cy.clear();this.lr.clear();g.m.prototype.VN.call(this)};
g.z.createElement=function(x){x=new g.U(x);g.O(this,x);return x.element};g.T(Nk9,$o);g.z=Nk9.prototype;g.z.Lc=function(){this.GS&&en(this,this.GS)};
g.z.isAvailable=function(){var x;if(x=!!this.cards.length)(x=this.T.getRootNode())?(x=g.e1(x),x=173<x.width&&173<x.height):x=!1;return x};
g.z.Rm=function(){var x=this.isAvailable();g.ul(this.Ba(),x);g.FL(this.context.T.getRootNode(),g.Nk.IV_DRAWER_ENABLED,x);B7(this.T)};
g.z.destroy=function(){this.T.zk(!1);try{this.T.getRootNode().removeChild(this.G)}catch(x){}g.jz(this.DG);g.n1(this.Nb);this.WU&&this.WU.dispose();this.L&&this.L.dispose();$o.prototype.destroy.call(this)};
g.z.Yk=function(){var x=this;this.context.S.listen(g.c$("iv-drawer-close-button",this.G),"click",this.dM,this);this.context.S.listen(this.Y,"touchend",function(){x.hg.start()});
this.context.S.listen(this.Y,"scroll",this.wM,this);this.context.Y.subscribe("onHideControls",function(){x.FL=!0});
this.context.Y.subscribe("onShowControls",function(){x.FL=!1});
this.context.Y.subscribe("onVideoAreaChange",function(){x.FL=g.L$(x.T.getRootNode(),"ytp-autohide")});
this.DG.push(g.Sz("iv-button-shown",this.Ldr,this));this.DG.push(g.Sz("iv-button-hidden",this.s5y,this));BkH(this)};
g.z.findLastIndex=function(x){if(this.cards.length===0)return 0;var S=g.Yn(this.cards,function(Z){return x.WQ.startMs>Z.WQ.startMs||x.WQ.startMs===Z.WQ.startMs&&x.WQ.timestamp>=Z.WQ.timestamp?!0:!1});
return S===-1?0:S+1};
g.z.dM=function(){if(this.D){J8(this.context.logger,t8(this).TE.close);var x=g.Ia();x&&this.X&&g.Z9(x,this.X);Zr(this)}};
g.z.wM=function(){g.FL(this.G,"iv-drawer-scrolled",this.Y.scrollTop>0)};
g.z.Ldr=function(){var x=g.Ia(),S=t8(this);S=S?S.jR:this.jR;x&&S&&g.SA(x,[S])};
g.z.s5y=function(){var x=g.Ia(),S=t8(this);S=S?S.jR:this.jR;x&&S&&g.jA(x,[S])};
g.z.Vm=function(){var x=t8(this);J8(this.context.logger,x.TE.vn);var S=g.Ia();if(S&&x)if(this.T.Z("web_infocards_teaser_show_logging_fix")){var Z=[];x.QS&&Z.push(x.QS);x.jR&&Z.push(x.jR);Z.length>0&&g.SA(S,Z)}else g.SA(S,[x.QS,x.jR])};
g.z.RmN=function(){var x=g.Ia(),S=t8(this);x&&S&&g.jA(x,[S.QS])};
g.z.G4=function(x){var S=t8(this),Z=g.Ia();this.S?x?(x=this.context.logger,J8(x,S.TE.eC),x.T.sendVideoStatsEngageEvent(4,void 0),Z&&S.QS&&g.Z9(Z,S.QS)):(x=this.context.logger,J8(x,S.TE.eC),x.T.sendVideoStatsEngageEvent(4,void 0),Z&&S.jR&&g.Z9(Z,S.jR)):(x=this.context.logger,J8(x,S.TE.eC),x.T.sendVideoStatsEngageEvent(4,void 0),Z&&this.jR&&g.Z9(Z,this.jR))};g.T(La,$o);La.prototype.sN=function(){$o.prototype.sN.call(this);oxv(this)};
La.prototype.show=function(){$o.prototype.show.call(this);var x=g.Ia(),S=this.annotation.data;x&&S&&(S=S.session_data)&&g.SA(x,[g.vF(S.itct)])};
La.prototype.hide=function(){$o.prototype.hide.call(this);var x=g.Ia(),S=this.annotation.data;x&&S&&(S=S.session_data)&&g.jA(x,[g.vF(S.itct)])};g.T(cO,La);
cO.prototype.show=function(){if(!this.isActive){La.prototype.show.call(this);if(!this.N){g.c8(this.Ba(),"iv-branding");var x=this.annotation.data;this.Y=this.createElement({V:"img",py:["branding-img","iv-click-target"],K:{"aria-label":"Channel watermark",src:x.image_url,width:x.image_width,height:x.image_height}});g.ul(this.Y,!1);var S=this.createElement({V:"button",py:["branding-img-container","ytp-button"]});S.appendChild(this.Y);this.Ba().appendChild(S);var Z=this.annotation.s8();Z&&xW(this,S,
Z,this.annotation.id,x.session_data);this.context.T.Z("disable_branding_context")||UBS(this,x);this.N=!0}g.ul(this.Ba(),!0);this.isActive=!0;if(this.Y){try{OtR(this,this.Y)}catch(k){}g.c8(this.context.T.getRootNode(),"ytp-branding-shown");this.context.T.getRootNode().style.setProperty("--branding-image-width",this.Y.getAttribute("width")+"px")}}};
cO.prototype.hide=function(){this.isActive&&(La.prototype.hide.call(this),g.ul(this.Ba(),!1),this.isActive=!1,g.XL(this.context.T.getRootNode(),"ytp-branding-shown"))};
cO.prototype.destroy=function(){this.S&&(this.S.dispose(),this.S=null);g.XL(this.context.T.getRootNode(),"ytp-branding-shown");La.prototype.destroy.call(this)};g.T(Ry$,La);g.z=Ry$.prototype;g.z.show=function(){this.isActive||(La.prototype.show.call(this),this.j||(DBR(this),this.j=!0),g.ul(this.Ba(),!0),g.hh(function(){g.XL(this.Ba(),"iv-promo-inactive")},100,this),this.Ba().removeAttribute("aria-hidden"),this.isActive=!0,yu$(this),MLS(this),gxm(this,this.L))};
g.z.hide=function(){this.isActive&&(g.c8(this.Ba(),"iv-promo-inactive"),this.isActive=!1,this.Ba().setAttribute("aria-hidden","true"))};
g.z.PK=function(x,S,Z,k,e,u){return this.isCollapsed?!1:La.prototype.PK.call(this,x,S,Z,k,e,u)};
g.z.By=function(x){this.X=!0;wr9(this,500,x)};
g.z.vy=function(){this.X=!1;lUJ(this)};
g.z.GG=function(x){x.stopPropagation();this.hide()};
g.z.m1=function(x){x.stopPropagation();yu$(this);this.isCollapsed=!0;g.c8(this.Ba(),"iv-promo-collapsed-no-delay");this.B.start()};
g.z.destroy=function(){this.B.dispose();La.prototype.destroy.call(this)};g.T(SCx,g.Nx);g.z=SCx.prototype;g.z.fh=function(x,S){if(!dIb(this.player.U().playerStyle))return null;switch(x){case "loadCustomAnnotationsXml":return(x=g.yB(S))&&ZNx(this,x),!0;case "removeCustomAnnotationById":return S&&this.S&&(s0J(this.S,S),B7(this.player)),!0}return null};
g.z.getOptions=function(){return dIb(this.player.U().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.z.b1=function(){var x=this.player.U(),S=this.player.getVideoData(),Z=x.annotationsLoadPolicy||S.annotationsLoadPolicy;return S.S1||this.player.isMutedByEmbedsMutedAutoplay()?!1:Z===1&&!S.oQ||x.FL.get(S.videoId)||g.tc(S)||g.Lx(S)?!0:!1};
g.z.HM=function(){if(this.D){var x=this.player.QN().getVideoContentRect(!0);g.kj(this.D.element,x.width,x.height);g.xj(this.D.element,x.left,x.top)}if(this.S){var S=this.player.sM();x=this.S;S=S.width;g.FL(x.G,"iv-drawer-small",S<=426);g.FL(x.G,"iv-drawer-big",S>=1280)}};
g.z.e_=function(x){LvR(this,x.state);g.D(x.state,2)&&(this.mF()&&this.t9()&&this.player.getPresentingPlayerType()!==2&&this.ol(!1),this.zk(!1))};
g.z.load=function(){g.Nx.prototype.load.call(this);LvR(this,this.player.getPlayerStateObject());this.loadNumber++;var x=this.player.getVideoData();tqm(this,x);g.jd(this.player,this.D.element,4);this.HM();var S=g.tc(x);S&&a5J(this,S);if((S=g.Lx(x))&&S.featuredChannel){var Z=S.featuredChannel;S=S.annotationId||"branding";var k=x.videoId||null,e=x.eventId||null;if(!this.player.U().iP){var u=[];Z.navigationEndpoint&&g.H(Z.navigationEndpoint,g.xU)&&g.H(Z.navigationEndpoint,g.xU).browseId&&u.push(new cub("openUrl",
"click",new tLb("/channel/"+g.H(Z.navigationEndpoint,g.xU).browseId,"new",!0,!0)));var C=Z.watermark.thumbnails[0];k={channel_name:Z.channelName,end_ms:Z.endTimeMs,image_height:C.height,image_type:1,image_url:C.url,image_width:C.width,is_mobile:!1,session_data:{annotation_id:S,ei:e,feature:"iv",itct:Z.trackingParams,src_vid:k},start_ms:Z.startTimeMs};if(Z.subscribeButton&&g.H(Z.subscribeButton,g.SZ)){k.channel_id=g.H(Z.subscribeButton,g.SZ).channelId;var L;Z=g.H(Z.subscribeButton,g.SZ);C=e=null;Z.subscribed?
(Z.subscriberCountWithUnsubscribeText&&(e=g.qW(Z.subscriberCountWithUnsubscribeText)),Z.subscriberCountText&&(C=g.qW(Z.subscriberCountText))):(Z.subscriberCountText&&(e=g.qW(Z.subscriberCountText)),Z.subscriberCountWithSubscribeText&&(C=g.qW(Z.subscriberCountWithSubscribeText)));var c,J=((c=g.H((L=Z.signInEndpoint)==null?void 0:L.commandMetadata,g.YC))==null?void 0:c.url)||"";L={subscribeText:g.qW(Z.unsubscribedButtonText),subscribeCount:e||"",unsubscribeText:g.qW(Z.subscribedButtonText),unsubscribeCount:C||
"",enabled:Z.enabled||!1,classic:!1,subscribed:Z.subscribed||!1,feature:"iv",signInUrl:J};k.standalone_subscribe_button_data=L}L=new F8x(S,"branding","branding",u,k);c=jQS(this);this.player.Z("web_player_overlay_positioned_layout")?(c.setAttribute("data-overlay-order","11"),this.player.NT(c,4,!0)):this.Y.element.appendChild(c);L=new cO(c,X3(this),L);L.sN();g.O(L,L);this.L[S]=L}}this.Ij=g.c$("ytp-cards-button",this.player.getRootNode());g.Cx(x)&&CKx(this,x)};
g.z.onVideoDataChange=function(x){var S=this.player.getVideoData();S.Nb&&ujb(this,S.Nb,x)};
g.z.unload=function(){this.player.Mi("annotations_module");for(var x=g.v(Object.keys(this.L)),S=x.next();!S.done;S=x.next())this.L[S.value].destroy();this.j=null;this.S&&(this.S.destroy(),this.S=null,B7(this.player));this.X=!1;this.B&&(this.B.abort(),this.B=null);this.DG=!1;this.L={};this.Y.hide();g.Nx.prototype.unload.call(this);this.D.detach();this.N&&(this.player.removeEventListener("videodatachange",this.N),this.N=null)};
g.z.qZ=function(x){x===this.player.getVideoData().videoId&&(this.loaded?JQR(this):this.load())};
g.z.mF=function(){var x;return((x=this.S)==null?void 0:x.isAvailable())||this.DG};
g.z.t9=function(){return!!this.S&&this.S.D};
g.z.ol=function(x,S,Z){S=S===void 0?!1:S;this.mF();this.S&&(x?Z?jn(this.S,Z,S):jn(this.S,"YOUTUBE_DRAWER_AUTO_OPEN",S):Zr(this.S))};
g.z.zk=function(x,S){this.player.publish(x?"cardsteasershow":"cardsteaserhide",S)};
g.z.VN=function(){this.player.U().FL.unsubscribe("vast_info_card_add",this.qZ,this);g.XL(this.player.getRootNode(),g.Nk.IV_DRAWER_OPEN);for(var x=this.GS,S=g.D$,Z=0,k=x.length;Z<k;Z++)S.Vu(x[Z]);this.GS.length=0;g.Nx.prototype.VN.call(this)};
g.z.createElement=function(x){x=new g.U(x);g.O(this,x);return x.element};g.IR("annotations_module",SCx);g.IR("creatorendscreen",MYR);})(_yt_player);
