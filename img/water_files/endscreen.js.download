(function(g){var window=this;'use strict';var mdH=function(x){x.publish("autonavvisibility")},ocx=function(x,S){x.XL("onAutonavCoundownStarted",S)},Oz$=function(x){var S,Z,k;
return x==null?void 0:(S=x.playerOverlays)==null?void 0:(Z=S.playerOverlayRenderer)==null?void 0:(k=Z.autoplay)==null?void 0:k.playerOverlayAutoplayRenderer},tB=function(x){var S=x.U(),Z=S.G;
g.U.call(this,{V:"a",J:"ytp-autonav-suggestion-card",K:{href:"{{url}}",target:Z?S.j:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},C:[{V:"div",py:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],K:{style:"{{background}}"},C:[{V:"div",K:{"aria-label":"{{timestamp}}"},py:["ytp-autonav-timestamp"],md:"{{duration}}"},{V:"div",py:["ytp-autonav-live-stamp"],md:"Live"},{V:"div",
py:["ytp-autonav-upcoming-stamp"],md:"Upcoming"},{V:"div",J:"ytp-autonav-list-overlay",C:[{V:"div",J:"ytp-autonav-mix-text",md:"Mix"},{V:"div",J:"ytp-autonav-mix-icon"}]}]},{V:"div",py:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],md:"{{title}}"},{V:"div",py:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],md:"{{author}}"},{V:"div",py:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],md:"{{views_and_publish_time}}"}]});this.T=x;this.suggestion=
null;this.S=Z;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},L5=function(x,S){S=S===void 0?!1:S;
g.U.call(this,{V:"div",J:"ytp-autonav-endscreen-countdown-overlay"});var Z=this;this.L=S;this.cancelCommand=this.B=void 0;this.D=0;this.container=new g.U({V:"div",J:"ytp-autonav-endscreen-countdown-container"});g.O(this,this.container);this.container.ZG(this.element);S=x.U();var k=S.G;this.T=x;this.suggestion=null;this.onVideoDataChange("newdata",this.T.getVideoData());this.W(x,"videodatachange",this.onVideoDataChange);this.S=new g.U({V:"div",J:"ytp-autonav-endscreen-upnext-container",K:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},C:[{V:"div",J:"ytp-autonav-endscreen-upnext-header"},{V:"div",J:"ytp-autonav-endscreen-upnext-alternative-header",md:"{{autoplayAlternativeHeader}}"},{V:"a",J:"ytp-autonav-endscreen-link-container",K:{href:"{{url}}",target:k?S.j:""},C:[{V:"div",J:"ytp-autonav-endscreen-upnext-thumbnail",K:{style:"{{background}}"},C:[{V:"div",K:{"aria-label":"{{timestamp}}"},py:["ytp-autonav-timestamp"],
md:"{{duration}}"},{V:"div",py:["ytp-autonav-live-stamp"],md:"Live"},{V:"div",py:["ytp-autonav-upcoming-stamp"],md:"Upcoming"}]},{V:"div",J:"ytp-autonav-endscreen-video-info",C:[{V:"div",J:"ytp-autonav-endscreen-premium-badge"},{V:"div",J:"ytp-autonav-endscreen-upnext-title",md:"{{title}}"},{V:"div",J:"ytp-autonav-endscreen-upnext-author",md:"{{author}}"},{V:"div",J:"ytp-autonav-view-and-date",md:"{{views_and_publish_time}}"},{V:"div",J:"ytp-autonav-author-and-view",md:"{{author_and_views}}"}]}]}]});
g.O(this,this.S);this.S.ZG(this.container.element);k||this.W(this.S.vU("ytp-autonav-endscreen-link-container"),"click",this.w_);this.T.createClientVe(this.container.element,this,115127);this.T.createClientVe(this.S.vU("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.U({V:"div",J:"ytp-autonav-overlay"});g.O(this,this.overlay);this.overlay.ZG(this.container.element);this.Y=new g.U({V:"div",J:"ytp-autonav-endscreen-button-container"});g.O(this,this.Y);this.Y.ZG(this.container.element);
this.cancelButton=new g.U({V:"button",py:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",S.Z("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],K:{"aria-label":"Cancel auto-play"},md:"Cancel"});g.O(this,this.cancelButton);this.cancelButton.ZG(this.Y.element);this.cancelButton.listen("click",this.Zr,this);this.T.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.U({V:"a",py:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
S.Z("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],K:{href:"{{url}}",role:"button","aria-label":"Play next video"},md:"Play now"});g.O(this,this.playButton);this.playButton.ZG(this.Y.element);this.playButton.listen("click",this.w_,this);this.T.createServerVe(this.playButton.element,this.playButton,!0);(S=this.T.getVideoData())&&hjm(this,S);this.G=new g.xN(function(){Hz$(Z)},500);
g.O(this,this.G);this.tp();this.W(x,"autonavvisibility",this.tp);this.T.Z("web_autonav_color_transition")&&(this.W(x,"autonavchange",this.M1),this.W(x,"onAutonavCoundownStarted",this.vdS))},c0=function(x){var S=x.T.sM(!0,x.T.isFullscreen());
g.FL(x.container.element,"ytp-autonav-endscreen-small-mode",x.rW(S));g.FL(x.container.element,"ytp-autonav-endscreen-is-premium",!!x.suggestion&&!!x.suggestion.ipr);g.FL(x.T.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!x.T.eR());g.FL(x.T.getRootNode(),"countdown-running",x.L1());g.FL(x.container.element,"ytp-player-content",x.T.eR());g.Mq(x.overlay.element,{width:S.width+"px"});if(!x.L1()){x.T.eR()?Udh(x,Math.round(ATs(x)/1E3)):Udh(x);S=!!x.suggestion&&!!x.suggestion.r6;var Z=x.T.eR()||
!S;g.FL(x.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!Z&&S);g.FL(x.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",Z&&!S);x.Y.Ua(x.T.eR());g.FL(x.element,"ytp-enable-w2w-color-transitions",Rjx(x))}},Hz$=function(x){var S=ATs(x),Z=Math,k=Z.min;
var e=x.D?Date.now()-x.D:0;Z=k.call(Z,e,S);Udh(x,Math.ceil((S-Z)/1E3));S-Z<=500&&x.L1()?x.select(!0):x.L1()&&x.G.start()},ATs=function(x){if(x.T.isFullscreen()){var S;
x=(S=x.T.getVideoData())==null?void 0:S.uG;return x===-1||x===void 0?8E3:x}return x.T.qs()>=0?x.T.qs():g.CX(x.T.U().experiments,"autoplay_time")||1E4},hjm=function(x,S){S=S.getWatchNextResponse();
var Z,k;S=(Z=Oz$(S))==null?void 0:(k=Z.nextButton)==null?void 0:k.buttonRenderer;x.B=S==null?void 0:S.navigationEndpoint;Z=S==null?void 0:S.trackingParams;x.playButton&&Z&&x.T.setTrackingParams(x.playButton.element,Z)},Rjx=function(x){var S;
return!((S=x.T.getVideoData())==null||!S.watchToWatchTransitionRenderer)},Udh=function(x,S){S=S===void 0?-1:S;
x=x.S.vU("ytp-autonav-endscreen-upnext-header");g.P$(x);if(S>=0){S=String(S);var Z="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],k="Up next in $SECONDS".indexOf(Z);if(k>=0){x.appendChild(g.zX("Up next in $SECONDS".slice(0,k)));var e=g.dG("span");g.tC(e,"ytp-autonav-endscreen-upnext-header-countdown-number");g.IC(e,S);x.appendChild(e);x.appendChild(g.zX("Up next in $SECONDS".slice(k+Z.length)));return}}g.IC(x,"Up next")},JB=function(x,S){g.U.call(this,{V:"div",
py:["html5-endscreen","ytp-player-content",S||"base-endscreen"]});this.created=!1;this.player=x},XU=function(x){g.U.call(this,{V:"div",
py:["ytp-upnext","ytp-player-content"],K:{"aria-label":"{{aria_label}}"},C:[{V:"div",J:"ytp-cued-thumbnail-overlay-image",K:{style:"{{background}}"}},{V:"span",J:"ytp-upnext-top",C:[{V:"span",J:"ytp-upnext-header",md:"Up Next"},{V:"span",J:"ytp-upnext-title",md:"{{title}}"},{V:"span",J:"ytp-upnext-author",md:"{{author}}"}]},{V:"a",J:"ytp-upnext-autoplay-icon",K:{role:"button",href:"{{url}}","aria-label":"Play next video"},C:[{V:"svg",K:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
C:[{V:"circle",J:"ytp-svg-autoplay-circle",K:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{V:"circle",J:"ytp-svg-autoplay-ring",K:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{V:"path",J:"ytp-svg-fill",K:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{V:"span",J:"ytp-upnext-bottom",C:[{V:"span",J:"ytp-upnext-cancel"},{V:"span",J:"ytp-upnext-paused",
md:"Auto-play is paused"}]}]});this.api=x;this.cancelButton=null;this.B=this.vU("ytp-svg-autoplay-ring");this.D=this.notification=this.S=this.suggestion=null;this.G=new g.xN(this.gm,5E3,this);this.Y=0;var S=this.vU("ytp-upnext-cancel");this.cancelButton=new g.U({V:"button",py:["ytp-upnext-cancel-button","ytp-button"],K:{tabindex:"0","aria-label":"Cancel auto-play"},md:"Cancel"});g.O(this,this.cancelButton);this.cancelButton.listen("click",this.q1,this);this.cancelButton.ZG(S);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.O(this,this.G);this.api.createClientVe(this.element,this,18788);S=this.vU("ytp-upnext-autoplay-icon");this.W(S,"click",this.pP);this.api.createClientVe(S,this,115130);this.Hg();this.W(x,"autonavvisibility",this.Hg);this.W(x,"mdxnowautoplaying",this.d9y);this.W(x,"mdxautoplaycanceled",this.YlT);g.FL(this.element,"ytp-upnext-mobile",this.api.U().Y)},wNn=function(x,S){if(S)return S;
if(x.api.isFullscreen()){var Z;x=(Z=x.api.getVideoData())==null?void 0:Z.uG;return x===-1||x===void 0?8E3:x}return x.api.qs()>=0?x.api.qs():g.CX(x.api.U().experiments,"autoplay_time")||1E4},Dd9=function(x,S){S=wNn(x,S);
var Z=Math,k=Z.min;var e=(0,g.rr)()-x.Y;Z=k.call(Z,e,S);S=S===0?1:Math.min(Z/S,1);x.B.setAttribute("stroke-dashoffset",""+-211*(S+1));S>=1&&x.L1()&&x.api.getPresentingPlayerType()!==3?x.select(!0):x.L1()&&x.S.start()},aV=function(x){JB.call(this,x,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.U({V:"div",J:"ytp-suggestion-panel",C:[{V:"div",py:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],md:"More videos"}]});this.N=new g.U({V:"div",J:"ytp-suggestions-container"});this.videos=[];this.D=null;this.B=this.L=!1;this.Y=new L5(this.player);g.O(this,this.Y);this.Y.ZG(this.element);x.getVideoData().iP?this.S=this.Y:(this.S=new XU(x),g.jd(this.player,this.S.element,4),g.O(this,this.S));this.overlay=new g.U({V:"div",
J:"ytp-autonav-overlay-cancelled-state"});g.O(this,this.overlay);this.overlay.ZG(this.element);this.G=new g.sz(this);g.O(this,this.G);g.O(this,this.table);this.table.ZG(this.element);this.table.show();g.O(this,this.N);this.N.ZG(this.table.element);this.hide()},FU=function(x){var S=x.eR();
S!==x.B&&(x.B=S,mdH(x.player),x.B?(x.Y!==x.S&&x.Y.hide(),x.table.hide()):(x.Y!==x.S&&x.Y.show(),x.table.show()))},Mlv=function(x){JB.call(this,x,"videowall-endscreen");
var S=this;this.T=x;this.stills=[];this.D=this.videoData=null;this.G=this.L=!1;this.N=null;g.c8(this.element,"modern-videowall-endscreen");this.Y=new g.sz(this);g.O(this,this.Y);this.B=new g.xN(function(){g.c8(S.element,"ytp-show-tiles")},0);
g.O(this,this.B);this.table=new g.Lh({V:"div",J:"ytp-modern-endscreen-content"});g.O(this,this.table);this.table.ZG(this.element);x.getVideoData().iP?this.S=new L5(x,!0):this.S=new XU(x);g.O(this,this.S);g.jd(this.player,this.S.element,4);x.createClientVe(this.element,this,158789);this.hide()},q0=function(x){return g.ZJ(x.player)&&x.d1()&&!x.D},df=function(x){var S=x.eR();
S!==x.L&&(x.L=S,mdH(x.player))},gcm=function(x){JB.call(this,x,"subscribecard-endscreen");
this.S=new g.U({V:"div",J:"ytp-subscribe-card",C:[{V:"img",J:"ytp-author-image",K:{src:"{{profilePicture}}"}},{V:"div",J:"ytp-subscribe-card-right",C:[{V:"div",J:"ytp-author-name",md:"{{author}}"},{V:"div",J:"html5-subscribe-button-container"}]}]});g.O(this,this.S);this.S.ZG(this.element);var S=x.getVideoData();this.subscribeButton=new g.kI("Subscribe",null,"Unsubscribe",null,!0,!1,S.QZ,S.subscribed,"trailer-endscreen",null,x,!1);g.O(this,this.subscribeButton);this.subscribeButton.ZG(this.S.vU("html5-subscribe-button-container"));
this.W(x,"videodatachange",this.Ky);this.Ky();this.hide()},zN=function(x){var S=x.U(),Z=g.Nj||g.ZD?{style:"will-change: opacity"}:void 0,k=S.G,e=["ytp-videowall-still"];
S.Y&&e.push("ytp-videowall-show-text");g.U.call(this,{V:"a",py:e,K:{href:"{{url}}",target:k?S.j:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},C:[{V:"div",J:"ytp-videowall-still-image",K:{style:"{{background}}"}},{V:"span",J:"ytp-videowall-still-info",K:{"aria-hidden":"true"},C:[{V:"span",J:"ytp-videowall-still-info-bg",C:[{V:"span",J:"ytp-videowall-still-info-content",K:Z,C:[{V:"span",J:"ytp-videowall-still-info-title",md:"{{title}}"},
{V:"span",J:"ytp-videowall-still-info-author",md:"{{author_and_views}}"},{V:"span",J:"ytp-videowall-still-info-live",md:"Live"},{V:"span",J:"ytp-videowall-still-info-duration",md:"{{duration}}"}]}]}]},{V:"span",py:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],K:{"aria-hidden":"true"},C:[{V:"span",J:"ytp-videowall-still-listlabel-icon"},"Playlist",{V:"span",J:"ytp-videowall-still-listlabel-length",C:[" (",{V:"span",md:"{{playlist_length}}"},")"]}]},{V:"span",py:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],K:{"aria-hidden":"true"},C:[{V:"span",J:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{V:"span",J:"ytp-videowall-still-listlabel-length",md:" (50+)"}]}]});this.suggestion=null;this.Y=k;this.api=x;this.S=new g.sz(this);g.O(this,this.S);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.S.W(x,"videodatachange",this.onVideoDataChange);x.createServerVe(this.element,this);this.onVideoDataChange()},TN=function(x){JB.call(this,x,"videowall-endscreen");
var S=this;this.T=x;this.D=0;this.stills=[];this.G=this.videoData=null;this.B=this.N=!1;this.j=null;this.Y=new g.sz(this);g.O(this,this.Y);this.L=new g.xN(function(){g.c8(S.element,"ytp-show-tiles")},0);
g.O(this,this.L);var Z=new g.U({V:"button",py:["ytp-button","ytp-endscreen-previous"],K:{"aria-label":"Previous"},C:[g.T5()]});g.O(this,Z);Z.ZG(this.element);Z.listen("click",this.N1,this);this.table=new g.Lh({V:"div",J:"ytp-endscreen-content"});g.O(this,this.table);this.table.ZG(this.element);Z=new g.U({V:"button",py:["ytp-button","ytp-endscreen-next"],K:{"aria-label":"Next"},C:[g.PI()]});g.O(this,Z);Z.ZG(this.element);Z.listen("click",this.Je,this);x.getVideoData().iP?this.S=new L5(x,!0):this.S=
new XU(x);g.O(this,this.S);g.jd(this.player,this.S.element,4);x.createClientVe(this.element,this,158789);this.hide()},P0=function(x){return g.ZJ(x.player)&&x.d1()&&!x.G},v0=function(x){var S=x.eR();
S!==x.N&&(x.N=S,mdH(x.player))},l2t=function(x,S){g.U.call(this,{V:"button",
py:["ytp-watch-on-youtube-button","ytp-button"],md:"{{content}}"});this.T=x;this.buttonType=this.buttonType=S;this.gA();this.buttonType===2&&g.c8(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.gA);this.Ua(!0)},W0=function(x){JB.call(this,x,"watch-again-on-youtube-endscreen");
this.watchButton=new l2t(x,1);g.O(this,this.watchButton);this.watchButton.ZG(this.element);g.Enn(x)&&(this.S=new g.$w(x),g.O(this,this.S),this.Y=new g.U({V:"div",py:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],K:{tabIndex:"-1"},C:[this.S]}),g.O(this,this.Y),this.S.ZG(this.Y.element),this.Y.ZG(this.element));x.createClientVe(this.element,this,156914);this.hide()},xgs=function(x){g.Nx.call(this,x);
var S=this;this.endScreen=null;this.S=this.Y=this.D=!1;this.listeners=new g.sz(this);g.O(this,this.listeners);var Z=x.U();x.isEmbedsShortsMode()?this.endScreen=new W0(x):yTn(x)?(this.D=!0,pNm(this),this.S?this.endScreen=new aV(x):Z.Z("delhi_modern_endscreen")?this.endScreen=new Mlv(x):this.endScreen=new TN(x)):Z.HQ?this.endScreen=new gcm(x):this.endScreen=new JB(x);g.O(this,this.endScreen);g.jd(x,this.endScreen.element,4);$dn(this);this.listeners.W(x,"videodatachange",this.onVideoDataChange,this);
this.listeners.W(x,g.$_("endscreen"),function(k){S.onCueRangeEnter(k)});
this.listeners.W(x,g.x9("endscreen"),function(k){S.onCueRangeExit(k)})},pNm=function(x){var S=x.player.getVideoData();
if(!S||x.S===S.S6&&x.Y===S.iP)return!1;x.S=S.S6;x.Y=S.iP;return!0},yTn=function(x){x=x.U();
return x.Jq&&!x.HQ&&!x.disableOrganicUi},$dn=function(x){x.player.Mi("endscreen");
var S=x.player.getVideoData();S=new g.yU(Math.max((S.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var Z=new g.yU(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});x.player.KY([S,Z])};
g.M3.prototype.qs=g.uy(6,function(){return this.app.qs()});
g.TF.prototype.qs=g.uy(5,function(){return this.getVideoData().ju});
g.Ac.prototype.ll=g.uy(4,function(x){this.J1().ll(x)});
g.yP.prototype.ll=g.uy(3,function(x){this.Kl!==x&&(this.Kl=x,this.r7())});
g.T(tB,g.U);tB.prototype.select=function(){this.T.S8(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.oP||void 0)&&this.T.logClick(this.element)};
tB.prototype.onClick=function(x){g.Q6(x,this.T,this.S,this.suggestion.sessionData||void 0)&&this.select()};
tB.prototype.onKeyPress=function(x){switch(x.keyCode){case 13:case 32:x.defaultPrevented||(this.select(),x.preventDefault())}};g.T(L5,g.U);g.z=L5.prototype;g.z.UU=function(x){this.suggestion!==x&&(this.suggestion=x,g.tF(this.S,x),this.playButton.updateValue("url",this.suggestion.WI()),c0(this))};
g.z.L1=function(){return this.D>0};
g.z.jl=function(){this.L1()||(this.D=Date.now(),Hz$(this),ocx(this.T,ATs(this)),g.FL(this.T.getRootNode(),"countdown-running",this.L1()))};
g.z.w7=function(){this.ye();Hz$(this);var x=this.S.vU("ytp-autonav-endscreen-upnext-header");x&&g.IC(x,"Up next")};
g.z.ye=function(){this.L1()&&(this.G.stop(),this.D=0)};
g.z.select=function(x){this.T.nextVideo(!1,x===void 0?!1:x);this.ye()};
g.z.w_=function(x){g.Q6(x,this.T)&&(x.currentTarget===this.playButton.element?this.T.logClick(this.playButton.element):x.currentTarget===this.S.vU("ytp-autonav-endscreen-link-container")&&(x=this.S.vU("ytp-autonav-endscreen-link-container"),this.T.logVisibility(x,!0),this.T.logClick(x)),this.B?(this.T.XL("innertubeCommand",this.B),this.ye()):this.select())};
g.z.Zr=function(){this.T.logClick(this.cancelButton.element);g.ls(this.T,!0);this.cancelCommand&&this.T.XL("innertubeCommand",this.cancelCommand)};
g.z.onVideoDataChange=function(x,S){hjm(this,S);x=S.getWatchNextResponse();var Z,k;x=(Z=Oz$(x))==null?void 0:(k=Z.cancelButton)==null?void 0:k.buttonRenderer;this.cancelCommand=x==null?void 0:x.command};
g.z.vdS=function(x){if(Rjx(this)){var S=this.T.getVideoData().watchToWatchTransitionRenderer,Z=S==null?void 0:S.fromColorPaletteDark;S=S==null?void 0:S.toColorPaletteDark;if(Z&&S){var k=this.element;k.style.setProperty("--w2w-start-background-color",g.OE(Z.surgeColor));k.style.setProperty("--w2w-start-primary-text-color",g.OE(Z.primaryTitleColor));k.style.setProperty("--w2w-start-secondary-text-color",g.OE(Z.secondaryTitleColor));k.style.setProperty("--w2w-end-background-color",g.OE(S.surgeColor));
k.style.setProperty("--w2w-end-primary-text-color",g.OE(S.primaryTitleColor));k.style.setProperty("--w2w-end-secondary-text-color",g.OE(S.secondaryTitleColor));k.style.setProperty("--w2w-animation-duration",x+"ms")}g.FL(this.element,"ytp-w2w-animate",!0)}};
g.z.M1=function(x){this.T.Z("web_autonav_color_transition")&&x!==2&&g.FL(this.element,"ytp-w2w-animate",!1)};
g.z.tp=function(){var x=this.T.eR();this.L&&this.m0!==x&&this.Ua(x);c0(this);this.T.logVisibility(this.container.element,x);this.T.logVisibility(this.cancelButton.element,x);this.T.logVisibility(this.S.vU("ytp-autonav-endscreen-link-container"),x);this.T.logVisibility(this.playButton.element,x)};
g.z.rW=function(x){return x.width<400||x.height<459};g.T(JB,g.U);g.z=JB.prototype;g.z.create=function(){this.created=!0};
g.z.destroy=function(){this.created=!1};
g.z.d1=function(){return!1};
g.z.eR=function(){return!1};
g.z.fn=function(){return!1};g.T(XU,g.U);g.z=XU.prototype;g.z.gm=function(){this.notification&&(this.G.stop(),this.R7(this.D),this.D=null,this.notification.close(),this.notification=null)};
g.z.UU=function(x){this.suggestion=x;g.tF(this,x,"hqdefault.jpg")};
g.z.Hg=function(){this.Ua(this.api.eR());this.api.logVisibility(this.element,this.api.eR());this.api.logVisibility(this.vU("ytp-upnext-autoplay-icon"),this.api.eR());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.eR())};
g.z.eWT=function(){window.focus();this.gm()};
g.z.jl=function(x){var S=this;this.L1()||(g.C8("a11y-announce","Up Next "+this.suggestion.title),this.Y=(0,g.rr)(),this.S=new g.xN(function(){Dd9(S,x)},25),Dd9(this,x),ocx(this.api,wNn(this,x)));
g.XL(this.element,"ytp-upnext-autoplay-paused")};
g.z.hide=function(){g.U.prototype.hide.call(this)};
g.z.L1=function(){return!!this.S};
g.z.w7=function(){this.ye();this.Y=(0,g.rr)();Dd9(this);g.c8(this.element,"ytp-upnext-autoplay-paused")};
g.z.ye=function(){this.L1()&&(this.S.dispose(),this.S=null)};
g.z.select=function(x){x=x===void 0?!1:x;if(this.api.U().Z("autonav_notifications")&&x&&window.Notification&&typeof document.hasFocus==="function"){var S=Notification.permission;S==="default"?Notification.requestPermission():S!=="granted"||document.hasFocus()||(this.gm(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.Jw()}),this.D=this.W(this.notification,"click",this.eWT),this.G.start())}this.ye();this.api.nextVideo(!1,x)};
g.z.pP=function(x){!g.YZ(this.cancelButton.element,x.target)&&g.Q6(x,this.api)&&(this.api.eR()&&this.api.logClick(this.vU("ytp-upnext-autoplay-icon")),this.select())};
g.z.q1=function(){this.api.eR()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.ls(this.api,!0)};
g.z.d9y=function(x){this.api.getPresentingPlayerType();this.show();this.jl(x)};
g.z.YlT=function(){this.api.getPresentingPlayerType();this.ye();this.hide()};
g.z.VN=function(){this.ye();this.gm();g.U.prototype.VN.call(this)};g.T(aV,JB);g.z=aV.prototype;g.z.create=function(){JB.prototype.create.call(this);this.G.W(this.player,"appresize",this.xL);this.G.W(this.player,"onVideoAreaChange",this.xL);this.G.W(this.player,"videodatachange",this.onVideoDataChange);this.G.W(this.player,"autonavchange",this.Wg);this.G.W(this.player,"onAutonavCancelled",this.F9);this.onVideoDataChange()};
g.z.show=function(){JB.prototype.show.call(this);(this.L||this.D&&this.D!==this.videoData.clientPlaybackNonce)&&g.ls(this.player,!1);g.ZJ(this.player)&&this.d1()&&!this.D?(FU(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.S.select(!0):this.S.jl():this.videoData.autonavState===3&&this.S.w7()):(g.ls(this.player,!0),FU(this));this.xL()};
g.z.hide=function(){JB.prototype.hide.call(this);this.S.w7();FU(this)};
g.z.xL=function(){var x=this.player.sM(!0,this.player.isFullscreen());FU(this);c0(this.Y);g.FL(this.element,"ytp-autonav-cancelled-small-mode",this.rW(x));g.FL(this.element,"ytp-autonav-cancelled-tiny-mode",this.Nh(x));g.FL(this.element,"ytp-autonav-cancelled-mini-mode",x.width<=400||x.height<=360);this.overlay&&g.Mq(this.overlay.element,{width:x.width+"px"});if(!this.B)for(x=0;x<this.videos.length;x++)g.FL(this.videos[x].element,"ytp-suggestion-card-with-margin",x%2===1)};
g.z.onVideoDataChange=function(){var x=this.player.getVideoData();if(this.videoData!==x&&x){this.videoData=x;if((x=this.videoData.suggestions)&&x.length||this.player.Z("web_player_autonav_empty_suggestions_fix")){var S=g.s2(this.videoData);S&&(this.S.UU(S),this.S!==this.Y&&this.Y.UU(S))}if(x&&x.length)for(S=0;S<S$v.length;++S){var Z=S$v[S];if(x&&x[Z]){this.videos[S]=new tB(this.player);var k=this.videos[S];Z=x[Z];k.suggestion!==Z&&(k.suggestion=Z,g.tF(k,Z));g.O(this,this.videos[S]);this.videos[S].ZG(this.N.element)}}this.xL()}};
g.z.Wg=function(x){x===1?(this.L=!1,this.D=this.videoData.clientPlaybackNonce,this.S.ye(),this.m0&&this.xL()):(this.L=!0,this.eR()&&(x===2?this.S.jl():x===3&&this.S.w7()))};
g.z.F9=function(x){x?this.Wg(1):(this.D=null,this.L=!1)};
g.z.d1=function(){return this.videoData.autonavState!==1};
g.z.rW=function(x){return(x.width<910||x.height<459)&&!this.Nh(x)&&!(x.width<=400||x.height<=360)};
g.z.Nh=function(x){return x.width<800&&!(x.width<=400||x.height<=360)};
g.z.eR=function(){return this.m0&&g.ZJ(this.player)&&this.d1()&&!this.D};
var S$v=[1,3,2,4];g.T(Mlv,JB);g.z=Mlv.prototype;g.z.create=function(){JB.prototype.create.call(this);var x=this.player.getVideoData();x&&(this.videoData=x);this.OV();this.Y.W(this.player,"appresize",this.OV);this.Y.W(this.player,"onVideoAreaChange",this.OV);this.Y.W(this.player,"videodatachange",this.onVideoDataChange);this.Y.W(this.player,"autonavchange",this.Sv);this.Y.W(this.player,"onAutonavCancelled",this.sz);x=this.videoData.autonavState;x!==this.N&&this.Sv(x);this.Y.W(this.element,"transitionend",this.LP)};
g.z.destroy=function(){g.n1(this.Y);g.cN(this.stills);this.stills=[];JB.prototype.destroy.call(this);g.XL(this.element,"ytp-show-tiles");this.B.stop();this.N=this.videoData.autonavState};
g.z.d1=function(){return this.videoData.autonavState!==1};
g.z.show=function(){var x=this.m0;JB.prototype.show.call(this);g.XL(this.element,"ytp-show-tiles");this.player.U().Y?g.jh(this.B):this.B.start();(this.G||this.D&&this.D!==this.videoData.clientPlaybackNonce)&&g.ls(this.player,!1);q0(this)?(df(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.S.select(!0):this.S.jl():this.videoData.autonavState===3&&this.S.w7()):(g.ls(this.player,!0),df(this));x!==this.m0&&this.player.logVisibility(this.element,!0)};
g.z.hide=function(){var x=this.m0;JB.prototype.hide.call(this);this.S.w7();df(this);x!==this.m0&&this.player.logVisibility(this.element,!1)};
g.z.LP=function(x){x.target===this.element&&this.OV()};
g.z.OV=function(){var x,S,Z,k;var e=((x=this.videoData)==null?0:(S=x.suggestions)==null?0:S.length)?(Z=this.videoData)==null?void 0:Z.suggestions:[(k=this.videoData)==null?void 0:g.s2(k)];if(e.length){S=this.T.sM(!0,this.T.isFullscreen());x=Math.floor((S.width-64+16)/(g.Uj(S.width*.27,250,450)+16));S=Math.min(3,Math.floor((S.height-64)/((S.width-64-(x-1)*16)/x*.5625+70)));g.a3(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.c8(this.element,"ytp-modern-endscreen-limit-rows-"+S);g.FL(this.element,"ytp-modern-endscreen-single-item",x===1);g.FL(this.element,"ytp-modern-endscreen-row-0",S===0);x=this.table.element;x.ariaLive="polite";this.S.UU(g.s2(this.videoData));this.S instanceof L5&&c0(this.S);g.FL(this.element,"ytp-endscreen-takeover",q0(this));df(this);S=0;x.ariaBusy="true";Z=e.length;for(k=0;k<Z;k++){var u=k%Z,C=this.stills[k];C||(C=new g.LS(this.player),this.stills[k]=C,x.appendChild(C.element));g.EpS(C,e[u]);S++}this.stills.length=
S}};
g.z.onVideoDataChange=function(){var x=this.player.getVideoData(1);this.videoData!==x&&(x!=null&&g.s2(x)?(this.videoData=x,this.OV()):this.player.a5("missg",{vid:(x==null?void 0:x.videoId)||"",cpn:(x==null?void 0:x.clientPlaybackNonce)||""}))};
g.z.fn=function(){return this.S.L1()};
g.z.Sv=function(x){x===1?(this.G=!1,this.D=this.videoData.clientPlaybackNonce,this.S.ye(),this.m0&&this.OV()):(this.G=!0,this.m0&&q0(this)&&(x===2?this.S.jl():x===3&&this.S.w7()))};
g.z.sz=function(x){if(x){for(x=0;x<this.stills.length;x++)this.T.logVisibility(this.stills[x].element,!0);this.Sv(1)}else this.D=null,this.G=!1;this.OV()};
g.z.eR=function(){return this.m0&&q0(this)};g.T(gcm,JB);gcm.prototype.Ky=function(){var x=this.player.getVideoData();this.S.update({profilePicture:x.profilePicture,author:x.author});this.subscribeButton.channelId=x.QZ;var S=this.subscribeButton;x.subscribed?S.S():S.Y()};g.T(zN,g.U);zN.prototype.select=function(){this.api.S8(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.oP||void 0)&&this.api.logClick(this.element)};
zN.prototype.onClick=function(x){if(g.e$(this.api.U())&&this.api.Z("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var S=this.suggestion.WI(),Z={};g.$U(this.api,Z);S=g.r1(S,Z);g.sk(S,this.api,x)}else g.Q6(x,this.api,this.Y,this.suggestion.sessionData||void 0)&&this.select()};
zN.prototype.onKeyPress=function(x){switch(x.keyCode){case 13:case 32:x.defaultPrevented||(this.select(),x.preventDefault())}};
zN.prototype.onVideoDataChange=function(){var x=this.api.getVideoData(),S=this.api.U();this.Y=x.S1?!1:S.G};g.T(TN,JB);g.z=TN.prototype;g.z.create=function(){JB.prototype.create.call(this);var x=this.player.getVideoData();x&&(this.videoData=x);this.G1();this.Y.W(this.player,"appresize",this.G1);this.Y.W(this.player,"onVideoAreaChange",this.G1);this.Y.W(this.player,"videodatachange",this.onVideoDataChange);this.Y.W(this.player,"autonavchange",this.f7);this.Y.W(this.player,"onAutonavCancelled",this.Ry);x=this.videoData.autonavState;x!==this.j&&this.f7(x);this.Y.W(this.element,"transitionend",this.wJ)};
g.z.destroy=function(){g.n1(this.Y);g.cN(this.stills);this.stills=[];JB.prototype.destroy.call(this);g.XL(this.element,"ytp-show-tiles");this.L.stop();this.j=this.videoData.autonavState};
g.z.d1=function(){return this.videoData.autonavState!==1};
g.z.show=function(){var x=this.m0;JB.prototype.show.call(this);g.XL(this.element,"ytp-show-tiles");this.player.U().Y?g.jh(this.L):this.L.start();(this.B||this.G&&this.G!==this.videoData.clientPlaybackNonce)&&g.ls(this.player,!1);P0(this)?(v0(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.S.select(!0):this.S.jl():this.videoData.autonavState===3&&this.S.w7()):(g.ls(this.player,!0),v0(this));x!==this.m0&&this.player.logVisibility(this.element,!0)};
g.z.hide=function(){var x=this.m0;JB.prototype.hide.call(this);this.S.w7();v0(this);x!==this.m0&&this.player.logVisibility(this.element,!1)};
g.z.wJ=function(x){x.target===this.element&&this.G1()};
g.z.G1=function(){var x,S,Z,k;var e=((x=this.videoData)==null?0:(S=x.suggestions)==null?0:S.length)?(Z=this.videoData)==null?void 0:Z.suggestions:[(k=this.videoData)==null?void 0:g.s2(k)];if(e.length){g.c8(this.element,"ytp-endscreen-paginate");var u=this.T.sM(!0,this.T.isFullscreen());if(x=g.o_(this.T))x=x.h_()?48:32,u.width-=x*2;var C=u.width/u.height;k=96/54;S=x=2;var L=Math.max(u.width/96,2),c=Math.max(u.height/54,2);Z=e.length;var J=Z*4;for(J-=4;J>0&&(x<L||S<c);){var X=x/2,a=S/2,F=x<=L-2&&J>=
a*4,q=S<=c-2&&J>=X*4;if((X+1)/a*k/C>C/(X/(a+1)*k)&&q)J-=X*4,S+=2;else if(F)J-=a*4,x+=2;else if(q)J-=X*4,S+=2;else break}k=!1;J>=12&&Z*4-J<=6&&(S>=4||x>=4)&&(k=!0);J=x*96;L=S*54;C=J/L<C?u.height/L:u.width/J;C=Math.min(C,2);J=Math.floor(Math.min(u.width,J*C));L=Math.floor(Math.min(u.height,L*C));u=this.table.element;u.ariaLive="polite";g.kj(u,J,L);g.Mq(u,{marginLeft:J/-2+"px",marginTop:L/-2+"px"});this.S.UU(g.s2(this.videoData));this.S instanceof L5&&c0(this.S);g.FL(this.element,"ytp-endscreen-takeover",
P0(this));v0(this);J+=4;L+=4;C=0;u.ariaBusy="true";for(c=0;c<x;c++)for(X=0;X<S;X++)if(a=C,q=0,k&&c>=x-2&&X>=S-2?q=1:X%2===0&&c%2===0&&(X<2&&c<2?X===0&&c===0&&(q=2):q=2),a=g.Aw(a+this.D,Z),q!==0){F=this.stills[C];F||(F=new zN(this.player),this.stills[C]=F,u.appendChild(F.element));var d=Math.floor(L*X/S),W=Math.floor(J*c/x),I=Math.floor(L*(X+q)/S)-d-4,f=Math.floor(J*(c+q)/x)-W-4;g.xj(F.element,W,d);g.kj(F.element,f,I);g.Mq(F.element,"transitionDelay",(X+c)/20+"s");g.FL(F.element,"ytp-videowall-still-mini",
q===1);g.FL(F.element,"ytp-videowall-still-large",q>2);q=Math.max(f,I);g.FL(F.element,"ytp-videowall-still-round-large",q>=256);g.FL(F.element,"ytp-videowall-still-round-medium",q>96&&q<256);g.FL(F.element,"ytp-videowall-still-round-small",q<=96);a=e[a];F.suggestion!==a&&(F.suggestion=a,q=F.api.U(),d=g.L$(F.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.tF(F,a,d),g.e$(q)&&!F.api.Z("web_player_log_click_before_generating_ve_conversion_params")&&(q=a.WI(),d={},g.nx(F.api,"addEmbedsConversionTrackingParams",
[d]),q=g.r1(q,d),F.updateValue("url",q)),(a=(a=a.sessionData)&&a.itct)&&F.api.setTrackingParams(F.element,a));C++}u.ariaBusy="false";g.FL(this.element,"ytp-endscreen-paginate",C<Z);for(e=this.stills.length-1;e>=C;e--)x=this.stills[e],g.W$(x.element),g.Lz(x);this.stills.length=C}};
g.z.onVideoDataChange=function(){var x=this.player.getVideoData(1);this.videoData!==x&&(x!=null&&g.s2(x)?(this.D=0,this.videoData=x,this.G1()):this.player.a5("missg",{vid:(x==null?void 0:x.videoId)||"",cpn:(x==null?void 0:x.clientPlaybackNonce)||""}))};
g.z.Je=function(){this.D+=this.stills.length;this.G1()};
g.z.N1=function(){this.D-=this.stills.length;this.G1()};
g.z.fn=function(){return this.S.L1()};
g.z.f7=function(x){x===1?(this.B=!1,this.G=this.videoData.clientPlaybackNonce,this.S.ye(),this.m0&&this.G1()):(this.B=!0,this.m0&&P0(this)&&(x===2?this.S.jl():x===3&&this.S.w7()))};
g.z.Ry=function(x){if(x){for(x=0;x<this.stills.length;x++)this.T.logVisibility(this.stills[x].element,!0);this.f7(1)}else this.G=null,this.B=!1;this.G1()};
g.z.eR=function(){return this.m0&&P0(this)};g.T(l2t,g.U);g.z=l2t.prototype;g.z.gA=function(){switch(this.buttonType){case 1:var x="Watch again on YouTube";var S=156915;break;case 2:x="Continue watching on YouTube";S=156942;break;default:x="Continue watching on YouTube",S=156942}this.update({content:x});this.T.hasVe(this.element)&&this.T.destroyVe(this.element);this.T.createClientVe(this.element,this,S)};
g.z.onClick=function(x){this.T.Z("web_player_log_click_before_generating_ve_conversion_params")&&this.T.logClick(this.element);g.sk(this.getVideoUrl(),this.T,x);this.T.Z("web_player_log_click_before_generating_ve_conversion_params")||this.T.logClick(this.element)};
g.z.getVideoUrl=function(){var x=!0;switch(this.buttonType){case 1:x=!0;break;case 2:x=!1}x=this.T.getVideoUrl(x,!1,!1,!0);var S=this.T.U();if(g.e$(S)){var Z={};g.e$(S)&&g.nx(this.T,"addEmbedsConversionTrackingParams",[Z]);x=g.r1(x,Z)}return x};
g.z.logVisibility=function(){this.T.logVisibility(this.element,this.m0&&this.X)};
g.z.show=function(){g.U.prototype.show.call(this);this.logVisibility()};
g.z.hide=function(){g.U.prototype.hide.call(this);this.logVisibility()};
g.z.a7=function(x){g.U.prototype.a7.call(this,x);this.logVisibility()};g.T(W0,JB);W0.prototype.hasSuggestions=function(){var x;return(x=this.S)==null?void 0:x.hasSuggestions()};
W0.prototype.show=function(){if(this.player.getPlayerState()!==3){JB.prototype.show.call(this);var x=this.Y;if(x){var S=this.S.hasSuggestions();g.FL(this.element,"ytp-shorts-branded-ui",S);S?x.show():x.hide()}var Z;(Z=g.o_(this.player))==null||Z.ll(!0);this.player.logVisibility(this.element,!0);this.watchButton.a7(!0)}};
W0.prototype.hide=function(){JB.prototype.hide.call(this);var x;(x=g.o_(this.player))==null||x.ll(!1);this.player.logVisibility(this.element,!1);this.watchButton.a7(!1)};g.T(xgs,g.Nx);g.z=xgs.prototype;g.z.b1=function(){var x=this.player.getVideoData(),S=x.mutedAutoplay&&(x.limitedPlaybackDurationInSeconds>0||x.endSeconds>0||x.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!S)return!0;var Z;var k=!!((x==null?0:g.s2(x))||(x==null?0:(Z=x.suggestions)==null?0:Z.length));k=!yTn(this.player)||k;x=x.X$;Z=this.player.wg();return k&&!x&&!Z&&!S};
g.z.eR=function(){return this.endScreen.eR()};
g.z.Py=function(){return this.eR()?this.endScreen.fn():!1};
g.z.VN=function(){this.player.Mi("endscreen");g.Nx.prototype.VN.call(this)};
g.z.load=function(){var x=this.player.getVideoData();var S=x.transitionEndpointAtEndOfStream;if(S&&S.videoId){var Z=this.player.ML().j1.get("heartbeat"),k=g.s2(x);!k||S.videoId!==k.videoId||x.Ik?(this.player.S8(S.videoId,void 0,void 0,!0,!0,S),Z&&Z.UY("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),x=!0):x=!1}else x=!1;x||(g.Nx.prototype.load.call(this),this.endScreen.show())};
g.z.unload=function(){g.Nx.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.z.onCueRangeEnter=function(x){this.b1()&&(this.endScreen.created||this.endScreen.create(),x.getId()==="load"&&this.load())};
g.z.onCueRangeExit=function(x){x.getId()==="load"&&this.loaded&&this.unload()};
g.z.onVideoDataChange=function(){$dn(this);this.D&&pNm(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.S?this.endScreen=new aV(this.player):this.endScreen=new TN(this.player),g.O(this,this.endScreen),g.jd(this.player,this.endScreen.element,4))};g.IR("endscreen",xgs);})(_yt_player);
