(function(g){var window=this;'use strict';var I5n=function(x,S,Z){g.V(function(k){x.S=g.fG(S,Z);g.Iq(k)})},aD=function(x){x.isActive()||x.start()},NvR=function(x,S){return S?x.captionsInitialState:"CAPTIONS_INITIAL_STATE_UNKNOWN"},rQx=function(x){return g.iA(x)||x.Z("web_enable_caption_language_preference_stickiness")},iNb=function(x,S){var Z=new g.Rl;
Z.languageCode=x.languageCode;Z.languageName=x.languageName;Z.name=x.name;Z.displayName=x.displayName;Z.kind=x.kind;Z.isDefault=!1;Z.S=x.S;Z.isTranslateable=x.isTranslateable;Z.vssId=x.vssId;Z.url=x.url;Z.translationLanguage=S;x.xtags&&(Z.xtags=x.xtags);x.captionId&&(Z.captionId=x.captionId);return Z},QQ$=function(x,S){var Z,k,e;
return g.V(function(u){if(u.S==1)return Z=x+"|"+S,g.B(u,g.pQ(),2);if(u.S!=3){k=u.Y;if(!k)throw g.PR("gct");return g.B(u,g.LT(k),3)}e=u.Y;return u.return(e.get("captions",Z))})},sQR=function(x,S,Z){QQ$(x,S).then(function(k){k&&Z(k.trackData,new g.Rl(k.metadata))})},Bvm=function(x){if(!f5b.test(x))throw Error("'"+x+"' is not a valid hex color");
x.length==4&&(x=x.replace(EHv,"#$1$1$2$2$3$3"));x=x.toLowerCase();x=parseInt(x.slice(1),16);return[x>>16,x>>8&255,x&255]},VqR=function(){var x=void 0;
x=x===void 0?{}:x;var S="suggest_correction"in g.lOR?g.lOR.suggest_correction:"Edit caption";S=S||"";var Z={},k;for(k in x){Z={Nn:Z.Nn};Z.Nn=k;var e=function(u){return function(){return String(x[u.Nn])}}(Z);
S=S.replace(new RegExp("\\$\\{"+Z.Nn+"\\}","gi"),e);S=S.replace(new RegExp("\\$"+Z.Nn,"gi"),e)}return S},nHb=function(){return g.bk("yt-player-caption-display-settings")},F3=function(){this.segments=[]},Kvb=function(x,S){var Z=g.Rh(x.segments,S);
Z>=0||Z<0&&(-Z-1)%2===1||(Z=-Z-1,Z>0&&S-x.segments[Z-1]===1&&Z<x.segments.length&&x.segments[Z]-S===1?(g.NR(x.segments,Z),g.NR(x.segments,Z-1)):Z>0&&S-x.segments[Z-1]===1?x.segments[Z-1]=S:Z<x.segments.length&&x.segments[Z]-S===1?x.segments[Z]=S:(g.Hs(x.segments,Z,0,S),g.Hs(x.segments,Z+1,0,S)))},GtR=function(x,S,Z,k,e,u){g.m.call(this);
this.policy=x;this.player=S;this.DG=Z;this.X=k;this.B=e;this.j=u;this.G=new F3;this.L=-1;this.Y=this.D=this.S=null;this.GS=0;this.N=new g.xN(this.YU,1E3,this);this.events=new g.sz(this);g.O(this,this.N);g.O(this,this.events);this.events.W(S,"SEEK_COMPLETE",this.Kq);this.Kq();this.YU()},bNx=function(x){return x.S&&x.S.L?x.S.L+x.player.xd()<x.player.getCurrentTime():!1},mIS=function(x,S){if(x.policy.Dl&&x.player.Uq()){var Z=g.Xh(S,x.policy,{});
Z.set("pot",x.player.Uq());Z=Z.s8()}else Z=g.Xh(S,x.policy,{}).s8();var k={format:"RAW",withCredentials:!0};if(x.policy.FL){k.method="POST";var e=S.G;e&&Object.keys(e).length>0?k.postBody=g.$P(e,g.mn):k.postBody=(0,g.Dc)([120,0])}x.B&&(k.responseType="arraybuffer");var u=++x.GS,C=(0,g.rr)();x.Y=g.nG(Z,k,3,100,-1,function(L){L.errorCode==="net.timeout"&&x.player.a5("capnt",{rn:u++})}).then(function(L){if(x.policy.qD&&u%100===1){var c=(0,g.rr)();
x.player.a5("caprsp",{rn:u,ms:c-C,kb:(L.xhr.responseText.length/1024).toFixed()})}a:{L=L.xhr;x.Jg();if(x.D){var J=!(x.B?L.response:L.responseText)||L.status>=400;if(c=g.duy(L)){L=g.Xh(x.D,x.policy,{});x.D.FY(L,c);mIS(x,x.D);break a}if(J)x.player.a5("capfail",{status:L.status});else{var X;g.uB("fcb_r",(0,g.rr)(),((X=x.player.getVideoData())==null?void 0:X.DG)||"");X=x.D.rr[0];c=X.sT;x.X!=null&&x.L!==c&&(x.B?x.X(L.response,(X.startTime+x.player.xd())*1E3):x.X(L.responseText,(X.startTime+x.player.xd())*
1E3),x.L=c)}}x.D=null;x.Y=null}}).r0(function(L){x.D=null;
x.Y=null;var c;x.player.a5("capfail",{rn:u,status:(c=L.xhr)==null?void 0:c.status})});
x.D=S;Kvb(x.G,x.D.rr[0].sT)},qi=function(x,S){g.i6.call(this,S);
this.S=x;this.T=S;this.G=null;this.L=!1;this.logger=new g.Y4("caps");this.N=g.SFu(this.T,this.S)},ONx=function(x,S){var Z=[],k;
for(k in x.S.S)if(x.S.S.hasOwnProperty(k)){var e=x.S.S[k];if(g.sL(e,S||null)){var u=e.info.id,C=u,L="."+u,c="",J="";if(e=e.info.captionTrack)u=e.languageCode,C=e.displayName,L=e.vssId,c=e.kind,J=e.id;else{e=u;var X=g.YrJ.get(e);X==null&&(X=oHs[e]||oHs[e.replace(/-/g,"_")],g.YrJ.set(e,X));e=X;C=e||C}Z.push(new g.Rl({id:k,languageCode:u,languageName:C,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:L,kind:c,captionId:J}))}}return Z},hKJ=function(x,S){return S!=null&&S in x.S.S?x.S.S[S]:null},
HNs=function(x,S,Z){var k=[],e;
for(e in x.S.S)if(x.S.S.hasOwnProperty(e)){var u=x.S.S[e];if(g.sL(u,Z||null)){var C=u.info.captionTrack;C&&C.languageCode===S&&k.push(u)}}return k.length?k[0]:null},dP=function(x,S,Z,k,e,u,C,L,c,J){var X=J.isInline()&&!0,a={};
Object.assign(a,S);Object.assign(a,x.params);Object.assign(a,Z);var F={};Object.assign(F,S.SR);x.params.SR&&Object.assign(F,x.params.SR);Object.assign(F,Z.SR);X&&(a.windowOpacity=.6,F.backgroundOpacity=0);a.SR=F;var q=a.zP===1,d=[{V:"span",J:"captions-text",K:{style:"word-wrap: normal; display: block;"}}],W,I,f;(L=L.cU("caption_edit_on_hover")&&((W=J.getVideoData().getPlayerResponse())==null?void 0:(I=W.captions)==null?void 0:(f=I.playerCaptionsTracklistRenderer)==null?void 0:f.openTranscriptCommand))&&
d.unshift({V:"button",J:"caption-edit",K:{tabindex:"0","aria-label":VqR()},C:[{V:"svg",K:{fill:"#e3e3e3",height:"100%",viewBox:"5 5 38 38",width:"100%"},C:[{V:"path",K:{d:"M9 39h2.2l24.25-24.25-1.1-1.1-1.1-1.1L9 36.8Zm-3 3v-6.4L35.4 6.2q.85-.85 2.12-.82 1.27.02 2.12.87L41.8 8.4q.85.85.85 2.1t-.85 2.1L12.4 42Zm33.5-31.55L37.45 8.4Zm-4.05 4.3-1.1-1.1-1.1-1.1 2.2 2.2Z"}}]}]});g.U.call(this,{V:"div",J:"caption-window",K:{id:"caption-window-"+x.id,dir:q?"rtl":"ltr",tabindex:"0",lang:a.lang},C:d});var Q=
this;this.L=[];this.Mb=!1;this.Y=x;this.FL=this.R5=null;this.e2=u;this.lQ=C;this.N=null;this.maxWidth=u*.96;this.maxHeight=C*.96;this.S=a;this.I$=Z;this.GS=S;this.G=this.vU("captions-text");this.L3=this.G.style.getPropertyValue("box-decoration-break")!==""||this.G.style.getPropertyValue("-webkit-box-decoration-break")!=="";this.WU=UIs(k,e,u,C);this.C3=c;L&&(this.B=this.vU("caption-edit"),this.W(this.B,"click",function(){Q.C3()}));
this.type=0;this.Cy=this.WU*AQ$(F);this.f3=X;x=new g.oF(this.element,!0);g.O(this,x);x.subscribe("dragstart",this.B0,this);x.subscribe("dragmove",this.v0,this);x.subscribe("dragend",this.ym,this);this.UT=this.lr=this.kd=this.jy=0;x="";this.S.windowOpacity&&(x=Bvm(this.S.windowColor),x="rgba("+x[0]+","+x[1]+","+x[2]+","+this.S.windowOpacity+")");S={"background-color":x,display:this.S.isVisible===!1?"none":"","text-align":RKH[this.S.textAlign]};this.L3&&(S["border-radius"]=x?this.Cy/8+"px":"");(this.D=
this.Y.params.zP===2||this.Y.params.zP===3)&&wJb(this,this.element);g.Mq(this.element,S);if(X){var n;(n=this.element.parentElement)==null||n.style.setProperty("--caption-window-color",x)}switch(this.S.eB){case 0:case 1:case 2:g.c8(this.element,"ytp-caption-window-top");break;case 6:case 7:case 8:g.c8(this.element,"ytp-caption-window-bottom")}},wJb=function(x,S){var Z="vertical-rl";
x.S.Lo===1&&(Z="vertical-lr");g.Tc&&(Z=Z==="vertical-lr"?"tb-lr":"tb-rl");g.Mq(S,"-o-writing-mode",Z);g.Mq(S,"-webkit-writing-mode",Z);g.Mq(S,"writing-mode",Z);g.Mq(S,"text-orientation","upright");g.c8(S,"ytp-vertical-caption");x.Y.params.zP===3&&(g.Mq(S,"text-orientation",""),g.Mq(S,"transform","rotate(180deg)"))},AQ$=function(x){var S=1+.25*(x.fontSizeIncrement||0);
if(x.offset===0||x.offset===2)S*=.8;return S},DIR=function(x,S){var Z={},k=S.background?S.background:x.S.SR.background;
if(S.backgroundOpacity!=null||S.background){var e=S.backgroundOpacity!=null?S.backgroundOpacity:x.S.SR.backgroundOpacity;k=Bvm(k);Z.background="rgba("+k[0]+","+k[1]+","+k[2]+","+e+")";x.L3&&(Z["box-decoration-break"]="clone",Z["border-radius"]=x.Cy/8+"px")}if(S.fontSizeIncrement!=null||S.offset!=null)Z["font-size"]=x.WU*AQ$(S)+"px";k=1;e=S.color||x.S.SR.color;if(S.color||S.textOpacity!=null)e=Bvm(e),k=S.textOpacity==null?x.S.SR.textOpacity:S.textOpacity,e="rgba("+e[0]+","+e[1]+","+e[2]+","+k+")",
Z.color=e,Z.fill=e;var u=S.charEdgeStyle;u===0&&(u=void 0);if(u){e="rgba(34, 34, 34, "+k+")";var C="rgba(204, 204, 204, "+k+")";S.BR&&(C=e=S.BR);var L=x.WU/16/2,c=Math.max(L,1),J=Math.max(2*L,1),X=Math.max(3*L,1),a=Math.max(5*L,1);k=[];switch(u){case 4:for(;X<=a;X+=L)k.push(J+"px "+J+"px "+X+"px "+e);break;case 1:J=window.devicePixelRatio>=2?.5:1;for(u=c;u<=X;u+=J)k.push(u+"px "+u+"px "+e);break;case 2:k.push(c+"px "+c+"px "+C);k.push("-"+c+"px -"+c+"px "+e);break;case 3:for(X=0;X<5;X++)k.push("0 0 "+
J+"px "+e)}Z["text-shadow"]=k.join(", ")}e="";switch(S.fontFamily){case 1:e='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';break;case 2:e='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif';break;case 3:e='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';break;case 5:e='"Comic Sans MS", Impact, Handlee, fantasy';break;case 6:e='"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';break;case 7:e=g.gN()?
'"Carrois Gothic SC", sans-serif-smallcaps':'Arial, Helvetica, Verdana, "Marcellus SC", sans-serif';break;case 0:case 4:e='"YouTube Noto", Roboto, Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}e&&(Z["font-family"]=e);e=S.offset;e==null&&(e=x.S.SR.offset);switch(e){case 0:Z["vertical-align"]="sub";break;case 2:Z["vertical-align"]="super"}S.fontFamily===7&&(Z["font-variant"]="small-caps");S.bold&&(Z["font-weight"]="bold");S.italic&&(Z["font-style"]="italic");S.underline&&(Z["text-decoration"]=
"underline");S.gk&&(Z.visibility="hidden");S.Bh===1&&x.D&&(Z["text-combine-upright"]="all",Z["text-orientation"]="mixed",e=g.Eb||g.za,x.Y.params.zP===3?Z.transform=e?"rotate(90deg)":"rotate(180deg)":e&&(Z.transform="rotate(-90deg)"));if(S.textEmphasis===1||S.textEmphasis===2||S.textEmphasis===3||S.textEmphasis===4||S.textEmphasis===5)if(g.Eb)Z["font-weight"]="bold";else switch(Z["text-emphasis-style"]="filled circle",Z["text-emphasis-color"]="currentcolor",Z["webkit-text-emphasis"]="filled circle",
S.textEmphasis){case 4:case 3:Z["text-emphasis-position"]="under left";Z["webkit-text-emphasis-position"]="under left";break;case 5:case 2:Z["text-emphasis-position"]="over right",Z["webkit-text-emphasis-position"]="over right"}return Z},zq=function(x){x=x.split("px");
return x.length>0?(x=Number(x[0]))?x:0:0},MqR=function(x){x.N=g.dG("SPAN");
g.Mq(x.N,{display:"block"});g.c8(x.N,"caption-visual-line");x.G.appendChild(x.N)},gHm=function(x,S){var Z=g.dG("SPAN");
g.Mq(Z,{display:"inline-block","white-space":"pre-wrap"});g.Mq(Z,DIR(x,S));Z.classList.add("ytp-caption-segment");x.N.appendChild(Z);Z.previousElementSibling&&(g.Mq(Z.previousElementSibling,{"border-top-right-radius":"0","border-bottom-right-radius":"0"}),g.Mq(Z,{"border-top-left-radius":"0","border-bottom-left-radius":"0"}));return Z},l5x=function(x,S,Z){x.Mb=x.Mb||!!Z;
var k={};Object.assign(k,x.S.SR);Object.assign(k,Z||S.S);Object.assign(k,x.I$.SR);(Z=!x.N)&&MqR(x);for(var e=x.R5&&x.FL&&g.zT(k,x.FL)?x.R5:gHm(x,k),u=typeof S.text==="string",C=u?S.text.split("\n"):[S.text],L=0;L<C.length;L++){var c=L>0||!S.append,J=C[L];c&&!Z?(MqR(x),e=gHm(x,k)):c&&Z&&(Z=!1);J&&(e.appendChild(u?g.zX(J):J),u||J.tagName!=="RUBY"||J.childElementCount!==4||g.Eb||!g.lW(J.children[2],"text-emphasis")||(c=x.D?"padding-right":"padding-top",g.lW(J.children[2],"text-emphasis-position")&&(c=
x.D?"padding-left":"padding-bottom"),g.X2?g.Mq(e,c,"1em"):g.Mq(e,c,"0.5em")))}x.FL=k;x.R5=e;x.L.push(S)},UIs=function(x,S,Z,k){var e=S/360*16;
S>=x&&(x=640,k>Z*1.3&&(x=480),e=Z/x*16);return e},pJS=function(){this.D=this.time=this.mode=this.Y=0;
this.G=new yQR(this);this.B=new yQR(this);this.S=[];this.clear()},xrm=function(x,S,Z){if(x===255&&S===255||!x&&!S)return{Yx:x,
Am:S,result:0};x=$IR[x];S=$IR[S];if(x&128){var k;if(k=!(S&128))k=S,k=Z.wF()&&Z.Am===k;if(k)return{Yx:x,Am:S,result:1}}else if(S&128&&1<=x&&x<=31)return{Yx:x,Am:S,result:2};return{Yx:x,Am:S,result:3}},jXh=function(x,S,Z,k){S===255&&Z===255||!S&&!Z?(++x.D===45&&x.reset(),x.G.Y.clear(),x.B.Y.clear()):(x.D=0,SKh(x.G,S,Z,k))},ZPt=function(x,S){x.S.sort(function(e,u){var C=e.time-u.time;
return C===0?e.order-u.order:C});
for(var Z=g.v(x.S),k=Z.next();!k.done;k=Z.next())k=k.value,x.time=k.time,k.type===0?jXh(x,k.fN,k.dD,S):k.type===1&&x.Y&496&&SKh(x.B,k.fN,k.dD,S);x.S.length=0},Tq=function(){this.type=0},PO=function(){this.state=this.Am=this.Yx=0},kLh=function(){this.timestamp=this.S=0},vO=function(x){this.B=x;
this.D=[];this.S=this.Y=this.row=0;this.style=new Tq;for(x=this.G=0;x<=15;x++){this.D[x]=[];for(var S=0;S<=32;S++)this.D[x][S]=new kLh}},WO=function(x,S){if(x.style.type===3){for(var Z=0,k=0,e=x.B.time+0,u="",C="",L=e,c=1;c<=15;++c){for(var J=!1,X=k?k:1;X<=32;++X){var a=x.D[c][X];
if(a.S!==0){Z===0&&(Z=c,k=X);J=String.fromCharCode(a.S);var F=a.timestamp;F<e&&(e=F);a.timestamp=L;C&&(u+=C,C="");u+=J;J=!0}if((a.S===0||X===32)&&J){C="\n";break}else if(k&&!J)break}if(Z&&!J)break}u&&S.G(Z,k,e,L,u)}else for(k=Z=0,u=e=x.B.time+0,C=1;C<=15;++C)for(L="",c=1;c<=32;++c)if(X=x.D[C][c],a=X.S,a!==0&&(Z===0&&(Z=C,k=c),J=String.fromCharCode(a),F=X.timestamp,F<=e&&(e=F),L+=J,X.reset()),c===32||a===0)L&&S.G(Z,k,e,u,L),e=u,L="",k=Z=0},Lix=function(x,S){switch(x){case 0:return e5h[(S&127)-32];
case 1:return ub$[S&15];case 2:return C2R[S&31];case 3:return tWH[S&31]}return 0},YW=function(x){return x.D[x.row][x.Y]},ID=function(x,S,Z){S>=2&&x.Y>1&&(--x.Y,YW(x).S=0);
var k=YW(x);k.timestamp=x.B.time+0;k.S=Lix(S,Z);x.Y<32&&x.Y++},cUS=function(x,S,Z,k){for(var e=0;e<k;e++)for(var u=0;u<=32;u++){var C=x.D[S+e][u],L=x.D[Z+e][u];
C.S=L.S;C.timestamp=L.timestamp}},Ni=function(x,S,Z){for(var k=0;k<Z;k++)for(var e=0;e<=32;e++)x.D[S+k][e].reset()},JUR=function(x){x.row=x.S>0?x.S:1;
x.Y=1;Ni(x,0,15)},XoS=function(x){this.D=x;
this.B=0;this.style=new Tq;this.L=new vO(this.D);this.N=new vO(this.D);this.text=new vO(this.D);this.Y=this.L;this.G=this.N;this.S=this.Y},aTn=function(x,S,Z){var k=x.Y,e=!1;
switch(x.style.get()){case 4:case 1:case 2:x.style.get()===4&&k.S>0||(WO(k,Z),JUR(x.Y),JUR(x.G),k.row=15,k.S=S,e=!0)}x.style.set(3);x.S=k;x.S.style=x.style;x.D.mode=1<<k.G;e?k.Y=1:k.S!==S&&(k.S>S?(WO(k,Z),Ni(k,k.row-k.S,S)):k.row<S&&(S=k.S),k.S=S)},Fit=function(x){x.style.set(1);
x.S=x.G;x.S.S=0;x.S.style=x.style;x.D.mode=1<<x.S.G},qKH=function(x){x.style.set(4);
x.S=x.text;x.S.style=x.style;x.D.mode=1<<x.S.G},yQR=function(x){this.S=x;
this.B=0;this.D=new XoS(this.S);this.L=new XoS(this.S);this.Y=new PO;this.G=this.D},SKh=function(x,S,Z,k){x.Y.update();
S=xrm(S,Z,x.Y);switch(S.result){case 0:return;case 1:case 2:return}var e=S.Yx;Z=S.Am;if(32<=e||!e)x.S.mode&x.S.Y&&(S=e,S&128&&(S=127),Z&128&&(Z=127),x=x.G.S,S&96&&ID(x,0,S),Z&96&&ID(x,0,Z),S!==0&&Z!==0&&x.style.type===3&&WO(x,k));else if(e&16)a:if(!x.Y.matches(e,Z)&&(S=x.Y,S.Yx=e,S.Am=Z,S.state=2,S=e&8?x.L:x.D,x.G=S,x.S.mode=1<<(x.B<<2)+(S.B<<1)+(S.style.type===4?1:0),(x.S.mode|1<<(x.B<<2)+(S.B<<1)+(S.style.type!==4?1:0))&x.S.Y))if(Z&64){k=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(e&7)<<1|Z>>5&1];
x=Z&16?((Z&14)>>1)*4:0;Z=S.S;switch(S.style.get()){case 4:k=Z.row;break;case 3:if(k!==Z.row){if(k<Z.S&&(k=Z.S,k===Z.row))break;var u=1+Z.row-Z.S,C=1+k-Z.S;cUS(Z,C,u,Z.S);S=u;e=Z.S;C<u?(u=C+e-u,u>0&&(S+=u,e-=u)):(u=u+e-C,u>0&&(e-=u));Ni(Z,S,e)}}Z.row=k;Z.Y=x+1}else switch(e&7){case 1:switch(Z&112){case 32:ID(S.S,0,32);break a;case 48:Z===57?(k=S.S,YW(k).S=0,k.Y<32&&k.Y++):ID(S.S,1,Z&15)}break;case 2:Z&32&&ID(S.S,2,Z&31);break;case 3:Z&32&&ID(S.S,3,Z&31);break;case 4:case 5:if(32<=Z&&Z<=47)switch(Z){case 32:Fit(S);
break;case 33:k=S.S;k.Y>1&&(--k.Y,YW(k).S=0);break;case 36:k=S.S;S=YW(k);for(x=0;x<=15;x++)for(Z=0;Z<=32;Z++)if(k.D[x][Z]===S){for(;Z<=32;Z++)k.D[x][Z].reset();break}break;case 37:aTn(S,2,k);break;case 38:aTn(S,3,k);break;case 39:aTn(S,4,k);break;case 40:ID(S.S,0,32);break;case 41:S.style.set(2);S.S=S.Y;S.S.S=0;S.S.style=S.style;S.D.mode=1<<S.S.G;break;case 42:k=S.text;k.S=15;k.style.set(4);JUR(k);qKH(S);break;case 43:qKH(S);break;case 44:x=S.Y;switch(S.style.get()){case 1:case 2:case 3:WO(x,k)}Ni(x,
0,15);break;case 45:b:{x=S.S;switch(S.style.get()){default:case 2:case 1:break b;case 4:if(x.row<15){++x.row;x.Y=1;break b}break;case 3:}x.S<2&&(x.S=2,x.row<x.S&&(x.row=x.S));S=x.row-x.S+1;WO(x,k);cUS(x,S,S+1,x.S-1);Ni(x,x.row,1)}break;case 46:Ni(S.G,0,15);break;case 47:WO(S.Y,k),S.G.updateTime(S.D.time+0),k=S.G,S.G=S.Y,S.Y=k,Fit(S)}break;case 7:switch(Z){case 33:case 34:case 35:k=S.S,(k.Y+=Z&3)>32&&(k.Y=32)}}},drR=function(){},rP=function(x,S,Z,k,e,u,C){u=u===void 0?!1:u;
C=C===void 0?null:C;g.yU.call(this,x,x+S,{priority:Z,namespace:"captions"});this.windowId=k;this.text=e;this.append=u;this.S=C},T1s=function(x,S,Z,k,e,u,C){var L=u[0],c=C[L.getAttribute("p")];
if(c.yd===1){var J=u[1],X=u[2];u=u[3];L.getAttribute("t");J.getAttribute("t");X.getAttribute("t");u.getAttribute("t");L.getAttribute("p");J.getAttribute("p");u.getAttribute("p");C=C[X.getAttribute("p")];L=z5n(L.textContent,J.textContent,X.textContent,u.textContent,C);return new rP(x,S,e,Z,L,k,c)}switch(c.yd){case 9:case 10:c.textEmphasis=1;break;case 11:c.textEmphasis=2;break;case 12:c.textEmphasis=3;break;case 13:c.textEmphasis=4;break;case 14:c.textEmphasis=5}return new rP(x,S,e,Z,L.textContent||
"",k,c)},z5n=function(x,S,Z,k,e){var u=g.gN(),C=u?g.dG("DIV"):g.dG("RUBY"),L=g.dG("SPAN");
L.textContent=x;C.appendChild(L);x=u?g.dG("DIV"):g.dG("RP");x.textContent=S;C.appendChild(x);S=u?g.dG("DIV"):g.dG("RT");S.textContent=Z;C.appendChild(S);Z=e.yd;if(Z===10||Z===11||Z===12||Z===13||Z===14)if(g.Mq(S,"text-emphasis-style","filled circle"),g.Mq(S,"text-emphasis-color","currentcolor"),g.Mq(S,"webkit-text-emphasis","filled circle"),e.yd===11||e.yd===13)g.Mq(S,"webkit-text-emphasis-position","under left"),g.Mq(S,"text-emphasis-position","under left");Z=!0;if(e.yd===4||e.yd===7||e.yd===12||
e.yd===14)g.Mq(C,"ruby-position","over"),g.Mq(C,"-webkit-ruby-position","before");else if(e.yd===5||e.yd===6||e.yd===11||e.yd===13)g.Mq(C,"ruby-position","under"),g.Mq(C,"-webkit-ruby-position","after"),Z=!1;e=u?g.dG("DIV"):g.dG("RP");e.textContent=k;C.appendChild(e);u&&(k=Z,g.Mq(C,{display:"inline-block",position:"relative"}),u=C.firstElementChild.nextElementSibling,g.Mq(u,"display","none"),u=u.nextElementSibling,g.Mq(u,{"font-size":"0.5em","line-height":"1.2em","text-align":"center",position:"absolute",
left:"50%",transform:"translateX(-50%)",width:"400%"}),g.Mq(C.lastElementChild,"display","none"),k?(g.Mq(C,"padding-top","0.6em"),g.Mq(u,"top","0")):(g.Mq(C,"padding-bottom","0.6em"),g.Mq(u,"bottom","0")));return C},iZ=function(){g.m.apply(this,arguments)},Ql=function(x,S,Z,k,e){g.yU.call(this,x,x+S,{priority:Z,
namespace:"captions"});this.id=k;this.params=e;this.S=[]},P2m=function(x){var S="_"+sS++;
return new Ql(0,0x8000000000000,0,S,x)},fa=function(x){iZ.call(this);
this.G=x;this.pens={};this.X={};this.j={};this.B="_"+sS++;this.N={};this.Y=this.S=null;this.L=!0},ES=function(x,S){x=x.getAttribute(S);
if(x!=null)return Number(x)},BO=function(x,S){x=x.getAttribute(S);
if(x!=null)return x==="1"},Vl=function(x,S){x=ES(x,S);
return x!==void 0?x:null},Ka=function(x,S){x=x.getAttribute(S);
if(x!=null)return na.test(x),x},vm$=function(x,S){var Z={},k=S.getAttribute("ws");
Object.assign(Z,k?x.j[k]:x.G);x=Vl(S,"mh");x!=null&&(Z.n9=x);x=Vl(S,"ju");x!=null&&(Z.textAlign=x);x=Vl(S,"pd");x!=null&&(Z.zP=x);x=Vl(S,"sd");x!=null&&(Z.Lo=x);x=Ka(S,"wfc");x!=null&&(Z.windowColor=x);S=ES(S,"wfo");S!==void 0&&(Z.windowOpacity=S/255);return Z},Wis=function(x,S){var Z={},k=S.getAttribute("wp");
k&&Object.assign(Z,x.X[k]);x=Vl(S,"ap");x!=null&&(Z.eB=x);x=ES(S,"cc");x!=null&&(Z.Dy=x);x=ES(S,"ah");x!=null&&(Z.Jh=x);x=ES(S,"rc");x!=null&&(Z.Oo=x);S=ES(S,"av");S!=null&&(Z.Tg=S);return Z},YKt=function(x,S,Z,k){var e={};
Object.assign(e,Wis(x,S));Object.assign(e,vm$(x,S));k?g.zT(e,x.G)?(k=x.B,e=x.G):k="_"+sS++:k=S.getAttribute("id")||"_"+sS++;x=ES(S,"t")+Z;S=ES(S,"d")||0x8000000000000;if(e.zP===2||e.zP===3)Z=e.Oo,e.Oo=e.Dy,e.Dy=Z;return new Ql(x,S,0,k,e)},Gq=function(x){iZ.call(this);
this.L=x;this.S=new Map;this.G=new Map;this.B=new Map;this.Y=new Map},bZ=function(x){x=g.Uj(Math.round(x),0,16777215).toString(16).toUpperCase();
return"#000000".substring(0,7-x.length)+x},ITm=function(x,S,Z,k,e){k===0&&(k=0x8000000000000);
var u={};S.wpWinPosId&&Object.assign(u,x.G.get(S.wpWinPosId));S.wsWinStyleId&&Object.assign(u,x.B.get(S.wsWinStyleId));x=S.rcRowCount;x!==void 0&&(u.Oo=x);S=S.ccColCount;S!==void 0&&(u.Dy=S);if(u.zP===2||u.zP===3)S=u.Oo,u.Oo=u.Dy,u.Dy=S;return new Ql(Z,k,0,e,u)},m7=function(x,S,Z){g.i6.call(this,x);
this.videoData=S;this.audioTrack=Z;this.B=S.Bv},oD=function(x,S,Z,k,e,u,C,L,c,J){dP.call(this,x,S,Z,k,e,u,C,L,c,J);
this.type=1},OS=function(x,S,Z){this.trackData=x;
this.L=Z;this.version=this.B=this.D=this.byteOffset=0;this.Y=[];this.S=new DataView(this.trackData)},h8=function(x){var S=x.byteOffset;
x.byteOffset+=1;return x.S.getUint8(S)},HO=function(x){var S=x.byteOffset;
x.byteOffset+=4;return x.S.getUint32(S)},US=function(x,S){iZ.call(this);
this.Y=x;this.G=S;this.track=this.G.languageName==="CC3"?4:0;this.S=new pJS;this.S.Y=1<<this.track},rUb=function(x){if(typeof x==="string")return!1;
x=new OS(x,8,0);return N1S(x)},N1S=function(x){if(!(x.byteOffset<x.S.byteLength)||HO(x)!==1380139777)return!1;
x.version=h8(x);if(x.version>1)return!1;h8(x);h8(x);h8(x);return!0},A8=function(x,S,Z,k,e,u,C,L,c,J){dP.call(this,x,S,Z,k,e,u,C,L,c,J);
var X=this;this.type=2;this.yN=[];this.DG=this.j=this.Nb=0;this.hg=NaN;this.a$=0;this.iQ=null;this.Gt=new g.xN(this.sP,433,this);this.B&&(J.createClientVe(this.B,this,167342),this.W(this.B,"click",function(){J.logClick(X.B)}),x=new g.oF(this.element,!0),g.O(this,x),x.subscribe("hoverstart",function(){J.logVisibility(X.B,!0)},this));
g.c8(this.element,"ytp-caption-window-rollup");g.O(this,this.Gt);g.Mq(this.element,"overflow","hidden")},iP9=function(x,S){if(!S)return"";
x.D&&x.Y.params.Lo!==1&&(S*=-1);return"translate"+(x.D?"X":"Y")+"("+S+"px)"},QX9=function(x){x.yN=Array.from(x.element.getElementsByClassName("caption-visual-line"));
for(var S=x.Y.params.Oo,Z=0,k=0,e=x.yN.length-1;Z<S&&e>-1;){var u=x.yN[e];k+=x.D?u.offsetWidth:u.offsetHeight;Z++;e--}x.j=k;S=Math;Z=S.max;isNaN(x.hg)&&((k=x.S.Dy)?(e=g.dG("SPAN"),g.IC(e,"\u2013".repeat(k)),g.Mq(e,DIR(x,x.S.SR)),x.G.appendChild(e),x.hg=e.offsetWidth,x.G.removeChild(e)):x.hg=0);k=x.G;x.DG=Z.call(S,x.hg,x.a$,(x.D?k.offsetHeight:k.offsetWidth)+1)},sXH=function(x,S){QX9(x);
var Z=x.yN.reduce(function(u,C){return(x.D?C.offsetWidth:C.offsetHeight)+u},0);
Z=x.j-Z;if(Z!==x.Nb){var k=Z>0&&x.Nb===0,e=Z<x.Nb;S||isNaN(Z)||k||!e||(g.c8(x.element,"ytp-rollup-mode"),x.W(x.element,"transitionend",x.sP));g.Mq(x.G,"transform",iP9(x,Z));x.Nb=Z}QX9(x)},fTm=function(x,S,Z,k){var e=this;
this.T=x;this.D=S;this.logger=Z;this.R$=k;this.yr=[];this.gY=[];this.S=null;this.S2={MIr:function(){return e.S},
le:function(){return e.yr}};
x=g.CX(this.T.U().experiments,"html5_override_micro_discontinuities_threshold_ms");this.Y=x>0?x:10},B1n=function(x,S){x.S=function(Z,k){if(Z.info.G){var e=Z;
if(x.gY.length>0){for(e=x.gY.shift();x.gY.length>0;)e=g.ie(e,x.gY.shift());e=g.ie(e,Z)}if(e){Z=e;try{var u=g.QT(Z)*1E3}catch(J){u=Z.info.startTime*1E3}try{var C=g.CTO(Z)*1E3}catch(J){C=Z.info.duration*1E3}if(u<0||C<0)u<0&&(u=Z.info.startTime*1E3),C<0&&(C=Z.info.duration*1E3);Z.info.startTime=u/1E3;Z.info.B=u/1E3;Z.info.duration=C/1E3;Z.info.X=C/1E3;u=x.CK(e);C=u.sT;u={formatId:u.formatId,startTimeMs:u.startTimeMs,durationMs:u.durationMs,vI:C,fp:C};C=Emb(x.yr,u.startTimeMs);var L=(Z=C>=0?x.yr[C]:null)?
Z.startTimeMs+Z.durationMs:0,c=u.startTimeMs+u.durationMs;!Z||u.startTimeMs-L>x.Y?x.yr.splice(C+1,0,u):(Z.durationMs=Math.max(L,c)-Z.startTimeMs,Z.fp=Math.max(Z.fp,u.fp));k(x.yr);u=g.rK(e);k=x.D;u=u.buffer.slice(u.byteOffset,u.byteLength+u.byteOffset);e=e.info.B;k.L?k.G==null?g.Iu(k.logger,350058965,"Null loaded track meta data at captions data received"):S.s$(u,k.G,e*1E3):g.Iu(k.logger,350058965,"Null Representation at captions data received")}else g.Iu(x.logger,350058965,"Empty slice")}else x.gY.push(Z)};
x.T.addEventListener("sabrCaptionsDataLoaded",x.S)},Emb=function(x,S){x=g.Rh(x,{startTimeMs:S},function(Z,k){return Z.startTimeMs-k.startTimeMs});
return x>=0?x:-x-2},RD=function(x,S){g.i6.call(this,S);
this.S=x;this.T=S;this.logger=new g.Y4("caps");this.G=this.L=null;this.N=new fTm(this.T,this,this.logger,this.S.R$)},VWb=function(x,S){var Z=[],k;
for(k in x.S.S)if(x.S.S.hasOwnProperty(k)){var e=x.S.S[k];if(g.sL(e,S||null)){var u=e.info.id,C=u,L="."+u,c="",J="";if(e=e.info.captionTrack)u=e.languageCode,C=e.displayName,L=e.vssId,c=e.kind,J=e.id;Z.push(new g.Rl({id:k,languageCode:u,languageName:C,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:L,kind:c,captionId:J}))}}return Z},nmv=function(x,S,Z){var k=[],e;
for(e in x.S.S)if(x.S.S.hasOwnProperty(e)){var u=x.S.S[e];if(g.sL(u,Z||null)){var C=u.info.captionTrack;C&&C.languageCode===S&&k.push(u)}}return k.length?k[0]:null},Kit=function(x,S){if(!g.tgm(x)||x.S!=null&&g.SFu(S,x.S)&&x.S.S.rawcc!=null)return!1;
S=!!x.S&&x.S.isManifestless&&Object.values(x.S.S).some(function(Z){return g.sL(Z,"386")});
x=!!x.S&&!x.S.isManifestless&&g.vdH(x.S);return S||x},GLm=function(){iZ.call(this)},mrt=function(x){var S=bP9.length;
if(x.byteLength<S)return!1;x=new Uint8Array(x,0,S);for(var Z=0;Z<S;Z++)if(bP9[Z]!==x[Z])return!1;return!0},omR=function(x,S,Z,k,e,u,C,L,c){switch(C.tagName){case "b":L.bold=!0;
break;case "i":L.italic=!0;break;case "u":L.underline=!0}for(var J=0;J<C.childNodes.length;J++){var X=C.childNodes[J];if(X.nodeType===3)X=new rP(S,Z,k,e.id,X.nodeValue,u||J>0,g.qE(L)?void 0:L),c.push(X),e.S.push(X);else{var a={};Object.assign(a,L);omR(x,S,Z,k,e,!0,X,a,c)}}},OPn=function(x){var S=x.split(":");
x=0;S=g.v(S);for(var Z=S.next();!Z.done;Z=S.next())x=x*60+Number(Z.value);return x*1E3},h5t=function(x,S,Z,k){k=Object.assign({n9:0},k);
return new Ql(x,S,Z,"_"+sS++,k)},wP=function(x,S){g.m.call(this);
this.T=x;this.Sy=S;this.S=null;this.Y=this.T.g9();this.logger=new g.Y4("caps")},UrH=function(x,S,Z){if(typeof S==="string"||rUb(S))return[{trackData:S,
G3:Z}];if(typeof S==="string"&&S.substring(0,6)==="WEBVTT"||typeof S!=="string"&&mrt(S))return[{trackData:S,G3:Z}];var k=new DataView(S);if(k.byteLength<=8||k.getUint32(4)!==1718909296)return[];var e=g.Lnc(k);if(x.Y&&e){var u=g.SzS(e),C=g.jtc(e);e=e.zB;u&&e&&x.Y.nC(e,u,C)}x=g.Nm(k,1835295092);if(!x||!x.length||!x[0].size)return[];u=[];for(C=0;C<x.length;C++)e=x[C],e=new Uint8Array(S,e.dataOffset,e.size-(e.dataOffset-e.offset)),e=g.vq(e),u.push({trackData:e,G3:Z+C*1E3});HPS(k,u,Z);return u=u.filter(function(L){return!!L.trackData})},
HPS=function(x,S,Z){var k=g.qm(x,0,1836476516),e=9E4;
k&&(e=g.dS(k)||9E4);k=0;for(var u=g.Nm(x,1836019558),C=0;C<u.length;C++){var L=u[C];C<S.length&&(L=g.qm(x,L.dataOffset,1953653094))&&(L=g.qm(x,L.dataOffset,1952867444))&&(L=g.Y5(L)/e*1E3,C===0&&(k=L),S[C].G3=L-k+Z||Z*C*1E3)}},AUn=function(x,S,Z){x.S||(x.S=new GLm);
x=x.S.D(S,Z);Math.random()<.01&&g.nn(Error("Deprecated subtitles format in web player: WebVTT"));return x},R5t=function(x){var S={};
if(x=g.M9(x))S.lang=x,g.QgR.test(x)&&(S.zP=1);return S},MWH=function(x){g.Nx.call(this,x);
var S=this;this.T=x;this.R5=[];this.yN={};this.Cy={};this.X=!1;this.G="NONE";this.S=this.j=this.DG=this.WU=this.jy=null;this.Gt={U9:function(){S.U9()},
s$:function(u,C,L,c){S.s$(u,C,L,c)}};
this.Y=null;this.Sy=this.T.U();this.videoData=this.T.getVideoData();this.kd=this.T.QN();this.D={SR:{}};this.L={SR:{}};g.WV(this.videoData)?this.G="OFFLINE":Kit(this.videoData,this.T)?this.G="SABR_LIVE":g.jIR(this.videoData,this.T)?this.G="LIVE":this.videoData.captionTracks.length?this.G="INNERTUBE":this.videoData.pY&&(this.G="TTS");this.lr=this.Sy.controlsType==="3";this.UT=new wP(this.T,this.Sy);this.Mb=new g.sz(this);this.N=new g.U({V:"div",J:"ytp-caption-window-container",K:{id:"ytp-caption-window-container"}});
this.GS={top:0,right:0,bottom:0,left:0,width:1,height:1};var Z=null,k=g.hC("yt-html5-player-modules::subtitlesModuleData");k&&(Z=new g.B8(k));this.storage=Z;var e;this.f3=!((e=x.j2())==null||!e.UN());this.B=woJ(this);this.hg=!this.B&&this.lr&&this.f3&&(this.G==="LIVE"||this.G==="SABR_LIVE");g.O(this,this.UT);this.B?this.Nb=this.FL=null:(this.FL=new g.$h(this.Xw,void 0,this),g.O(this,this.FL),this.Nb=new g.xN(this.Pcr,2E3,this),g.O(this,this.Nb));g.O(this,this.Mb);g.jd(this.player,this.N.element,4);
g.O(this,this.N);this.B||this.Mb.W(x,"resize",this.zQ);(this.a$=g.cf(this.Sy)&&!g.WB()&&!this.T.isFullscreen()&&!this.B&&!this.hg)&&this.Mb.W(x,"resize",this.Slm);this.Mb.W(x,"onPlaybackAudioChange",this.ySL);this.Mb.W(x,g.$_("captions"),function(u){S.onCueRangeEnter(u)});
this.Mb.W(x,g.x9("captions"),function(u){S.onCueRangeExit(u)});
Drs(this,nHb()||{});this.player.mj("onCaptionsModuleAvailable")},yUS=function(x){if(x.Sy.Pw===1||x.videoData.jg===1||g.pT(x.videoData,"yt:cc")==="alwayson")return!0;
if(x.videoData.captionTracks.length)var S=x.getAudioTrack().Y;if(x.Sy.Pw===2){if(g.iA(x.Sy))var Z=gmn(x);else if(x.storage)try{Z=x.storage.get("module-enabled")}catch(e){x.storage.remove("module-enabled")}else Z=null;if(Z!=null)return!!Z}Z=NvR(x.player.getAudioTrack(),g.iA(x.Sy));var k=g.pT(x.videoData,"yt:cc");if(lTt(x)===void 0){if(Z==="CAPTIONS_INITIAL_STATE_ON_RECOMMENDED")return k?k==="on":!0;if(Z==="CAPTIONS_INITIAL_STATE_OFF_RECOMMENDED")return k==="on"}else return k==="on";return S==="ON"||
g.pT(x.videoData,"yt:cc")==="on"},Dr=function(x,S){if(x.Y&&(S===void 0||!S)||!x.videoData.captionTracks.length)return!1;
x=x.getAudioTrack();return!!x.S||x.Y==="FORCED_ON"},lTt=function(x){var S=void 0,Z=g.UB().gF(65);
if(g.iA(x.Sy)&&Z!=null){if(gmn(x)!=null)return!1;S=!Z}return S},gP=function(x,S){if(!x.S)return null;
if(x.j&&x.j.G)return x.j.G;S=poR(x,S);S=g.j9(x.S.Y,S);var Z=null;if(rQx(x.Sy)){var k=x.T.isInline()?void 0:g.bk("yt-player-caption-sticky-language");for(var e=[k,x.videoData.captionsLanguagePreference,x.Sy.captionsLanguagePreference,g.pT(x.videoData,"yt:cc_default_lang")],u=!1,C=0;C<e.length;C++){var L=e[C];if(L){u=!0;for(var c=0;c<S.length;c++)if(g.M9(S[c])===L)return S[c];for(c=0;c<S.length;c++)if(g.M9(S[c]).split("-")[0]===L.split("-")[0])return S[c]}}if(u&&x.S&&(e=x.S.B,e.length))for(e=g.v(e),
u=e.next();!u.done;u=e.next())if(u=u.value,u.languageCode===k){Z=u;break}}else for(k=[x.videoData.captionsLanguagePreference,x.Sy.captionsLanguagePreference,g.pT(x.videoData,"yt:cc_default_lang")],e=0;e<k.length;e++)for(u=0;u<S.length;u++)if(g.M9(S[u])===k[e])return S[u];k=null;x.j&&x.j.D&&(k=x.j.D);k||(k=S.find(function(J){return J.isDefault})||null);
k||(k=S[0]||Mi(x));k&&Z&&g.M9(k).split("-")[0]!==Z.languageCode.split("-")[0]&&(k=iNb(k,Z));return k},Mi=function(x){return x.j&&x.j.S},lZ=function(x){var S=Mi(x);
return!!S&&x.Y===S},$rR=function(x,S){var Z=x.T.j2().Ba().textTracks;
x=x.Y.toString();for(var k=0;k<Z.length;k++){var e=Z[k];e.id===x&&(S?e.mode!=="showing"&&(e.mode="showing"):e.mode==="showing"&&(e.mode="disabled"))}},$W=function(x,S,Z){x.loaded&&x.unload();
Z!=null&&(x.X=Z,x.X&&(g.iA(x.Sy)?yl(x,!!S):pa(x,!!S)));S!==null||Dr(x,!0)||x.b2(S,!!S,x.X?"m":"s");x.Y=S;Dr(x)&&(x.Y=Mi(x));var k;xdv(x,(k=x.Y)!=null?k:void 0);x.load()},jeb=function(x,S){if(S instanceof Ql){var Z=x.yN[S.id];
Z&&Z.Y!==S&&(Z.dispose(),delete x.yN[S.id],Z=null);Z||(Z=S3R(x,S))&&(x.yN[S.id]=Z)}else Z=S.windowId,x.Cy[Z]||(x.Cy[Z]=[]),x.Cy[Z].push(S)},S3R=function(x,S){var Z=ZzR(x);
if(!Z)return null;var k=x.Y?g.M9(x.Y):null;k&&g.QgR.test(k)&&(S.params.zP=1);var e=x.kd.getPlayerSize();k=e.height*x.GS.height;e=e.width*x.GS.width;x.Sy.playerStyle!=="google-live"||x.D.isDefault||Object.assign(S.params,x.D);switch(S.params.n9!=null?S.params.n9:S.S.length>1?1:0){case 1:return new oD(S,x.D,x.L,Z.width,Z.height,e,k,x.Sy.experiments,x.rB.bind(x),x.T);case 2:return new A8(S,x.D,x.L,Z.width,Z.height,e,k,x.Sy.experiments,x.rB.bind(x),x.T);default:return new dP(S,x.D,x.L,Z.width,Z.height,
e,k,x.Sy.experiments,x.rB.bind(x),x.T)}},Drs=function(x,S,Z){Z=Z===void 0?!1:Z;
var k=xi.SR;x.D={};Object.assign(x.D,xi);x.D.SR={};Object.assign(x.D.SR,k);x.L={SR:{}};var e=S.backgroundOverride?x.L:x.D,u=S.background||k.background;na.test(u);e.SR.background=u;e=S.colorOverride?x.L:x.D;u=S.color||k.color;na.test(u);e.SR.color=u;e=S.windowColorOverride?x.L:x.D;u=S.windowColor||xi.windowColor;na.test(u);e.windowColor=u;e=S.backgroundOpacityOverride?x.L:x.D;u=S.backgroundOpacity;u==null&&(u=k.backgroundOpacity);e.SR.backgroundOpacity=u;e=S.fontSizeIncrementOverride?x.L:x.D;u=S.fontSizeIncrement;
u==null&&(u=k.fontSizeIncrement);e.SR.fontSizeIncrement=u;u=S.fontStyleOverride?x.L:x.D;e=S.fontStyle;e==null&&(e=k.bold&&k.italic?3:k.bold?1:k.italic?2:0);u=u.SR;switch(e){case 1:u.bold=!0;delete u.italic;break;case 2:delete u.bold;u.italic=!0;break;case 3:u.bold=!0;u.italic=!0;break;default:delete u.bold,delete u.italic}e=S.textOpacityOverride?x.L:x.D;u=S.textOpacity;u==null&&(u=k.textOpacity);e.SR.textOpacity=u;e=S.windowOpacityOverride?x.L:x.D;u=S.windowOpacity;u==null&&(u=xi.windowOpacity);e.windowOpacity=
u;e=S.charEdgeStyleOverride?x.L:x.D;u=S.charEdgeStyle;u==null&&(u=k.charEdgeStyle);e.SR.charEdgeStyle=u;e=S.fontFamilyOverride?x.L:x.D;u=S.fontFamily;u==null&&(u=k.fontFamily);e.SR.fontFamily=u;x.loaded&&x.zQ();Z&&g.GK("yt-player-caption-display-settings",S,2592E3)},kwH=function(x,S){if(!x.S)return{};
if(S){g.qE(S)||x.XP(S.vss_id,"m");if(x.B||!g.ub(S))return;if(g.qE(S)){$W(x,null,!0);return}for(var Z,k=g.j9(x.S.Y,!0),e=0;e<k.length;e++){var u=k[e];u.languageCode!==S.languageCode||Z&&(u.languageName!==S.languageName||(u.captionId||"")!==(S.captionId||"")||g.wD(u)!==S.displayName)||(Z=S.translationLanguage?iNb(u,S.translationLanguage):u)}x.Rn(S.position);!Z||Z===x.Y&&x.loaded||(S=g.YR(),k=g.M9(Z),S.length&&k===S[S.length-1]||(S.push(k),g.GK("yt-player-caption-language-preferences",S)),rQx(x.Sy)&&
!x.T.isInline()&&g.GK("yt-player-caption-sticky-language",k,2592E3),$W(x,Z,!0))}else return x.loaded&&x.Y&&!lZ(x)?g.DD(x.Y):{};return""},urt=function(x,S,Z){S&&!x.DG?(S=P2m({zP:0,
lang:"en-GB"}),x.DG=[S,new rP(S.start,S.end-S.start,0,S.id,Z!=null?Z:"Captions look like this")],x.player.KY(x.DG)):!S&&x.DG&&(ejH(x,x.DG),x.DG=null)},ejH=function(x,S){x.player.bM(S);
S=g.v(S);for(var Z=S.next();!Z.done;Z=S.next())g.rJ(x.R5,Z.value);aD(x.FL)},xdv=function(x,S){x.Sy.Z("html5_modify_caption_vss_logging")&&(x.videoData.n5=S)},ZzR=function(x){var S=x.kd.getVideoContentRect(!0).height,Z=x.kd.getVideoContentRect(!0).width;
if(!S||!Z)return null;S*=x.GS.height;Z*=x.GS.width;return{width:Z,height:S}},pa=function(x,S){if(x.storage)try{x.storage.set("module-enabled",S)}catch(Z){}},yl=function(x,S){x.T.isInline()||g.GK("yt-player-sticky-caption",S,2592E3)},gmn=function(x){if(!x.T.isInline())return g.bk("yt-player-sticky-caption")},woJ=function(x){var S,Z=!((S=x.T.j2())==null||!S.x8());
return x.lr&&Z&&x.G!=="LIVE"&&x.G!=="SABR_LIVE"},poR=function(x,S){g.Jc(x.videoData)&&(S=!0);
S||(S=x.G==="TTS"?!1:x.G==="INNERTUBE"?!1:!0);return S||x.Sy.Z("web_deprecate_always_includes_asr_setting")&&g.iA(x.Sy)?!0:!!g.UB().gF(66)};
g.i6.prototype.QM=g.uy(71,function(){return!1});
g.i6.prototype.oM=g.uy(70,function(){});
g.QP.prototype.oM=g.uy(69,function(x,S,Z){var k=this;this.Jg();S=this.Ei(x,S);var e=this.ET.U().Z("html5_report_captions_ctmp_qoe"),u=(0,g.rr)();this.h9();I5n(this,S,{format:"RAW",onSuccess:function(C){k.S=null;if(e){var L=(C.responseText.length/1024).toFixed(),c=(0,g.rr)();k.videoData.a5("capresp",{ms:c-u,kb:L})}Z.s$(C.responseText,x)},
onError:e?function(C){var L;C=(L=C==null?void 0:C.status)!=null?L:0;k.videoData.a5("capfail",{status:C})}:void 0,
withCredentials:!0})});
g.fS.prototype.oM=g.uy(68,function(x,S,Z){var k=this;this.Jg();S=this.Ei(x,S);this.h9();this.S=g.fG(S,{format:"RAW",onSuccess:function(e){k.S=null;Z.s$(e.responseText,x)},
withCredentials:!0})});
g.DZ.prototype.RP=g.uy(67,function(){for(var x=g.LU(document,"track",void 0,this.S),S=0;S<x.length;S++)g.W$(x[S])});
g.h7.prototype.RP=g.uy(66,function(){this.mediaElement.RP()});
g.DZ.prototype.UN=g.uy(65,function(){return!(!this.S.textTracks||!this.S.textTracks.addEventListener)});
g.h7.prototype.UN=g.uy(64,function(){return this.mediaElement.UN()});
g.DZ.prototype.x8=g.uy(63,function(){return!!this.S.textTracks});
g.h7.prototype.x8=g.uy(62,function(){return this.mediaElement.x8()});
g.DZ.prototype.H9=g.uy(61,function(x){for(var S=0;S<x.length;S++)this.S.appendChild(x[S])});
g.h7.prototype.H9=g.uy(60,function(x){this.mediaElement.H9(x)});
g.uo.prototype.nC=g.uy(59,function(x,S,Z){this.uP.nC(x,S,Z)});
g.SP.prototype.nC=g.uy(58,function(x,S,Z){this.Y.set(x,{JH:S,v_:Z})});
g.jP.prototype.nC=g.uy(57,function(x,S,Z){this.GS.nC(x,S,Z)});
g.uo.prototype.Wq=g.uy(56,function(x){return this.uP.Wq(x)});
g.jP.prototype.Wq=g.uy(55,function(x){var S=2;this.B.has(x)?S=0:g.FRc(this,x)&&(S=1);return S});
g.M3.prototype.d7=g.uy(43,function(x){var S=this.app.N9({playerType:void 0});return S?S.d7(x):!1});
g.t5.prototype.d7=g.uy(42,function(x){return this.Y3.Sn.d7(x)});
g.nL.prototype.d7=g.uy(41,function(x){return this.Uk().some(function(S){return S.namespace===x})});
g.wa.prototype.d7=g.uy(40,function(){return!1});
g.M3.prototype.XP=g.uy(38,function(x,S){this.app.o5().XP(x,S)});
g.t5.prototype.XP=g.uy(37,function(x,S){this.Y3.XP(x,S)});
g.pu.prototype.XP=g.uy(36,function(x,S){x=[x,S];g.nu(this,g.xT(this.provider),"cfi",x)});
g.Bc.prototype.XP=g.uy(35,function(x,S){this.qoe&&this.qoe.XP(x,S)});
g.j0.prototype.XP=g.uy(34,function(x,S){this.Wa.XP(x,S)});
g.wa.prototype.XP=g.uy(33,function(){});
g.M3.prototype.b2=g.uy(32,function(x,S,Z){this.app.o5().b2(x,S,Z)});
g.t5.prototype.b2=g.uy(31,function(x,S,Z){this.Y3.b2(x,S,Z)});
g.pu.prototype.b2=g.uy(30,function(x,S,Z){if(this.FL!==x||this.C3!==S)S=S==="rawcc"?"":S,Z=[x,S,this.FL,Z],g.nu(this,g.xT(this.provider),"cfs",Z),this.FL=x,this.C3=S});
g.Bc.prototype.b2=g.uy(29,function(x,S,Z){this.qoe&&this.qoe.b2(x,S,Z)});
g.j0.prototype.b2=g.uy(28,function(x,S,Z){this.Wa.b2(x,S,Z)});
g.wa.prototype.b2=g.uy(27,function(){});
g.eU.prototype.k7=g.uy(12,function(){return this.X});
g.TF.prototype.k7=g.uy(11,function(){return this.o5().g9()});
g.M3.prototype.g9=g.uy(10,function(){return this.app.k7()});
g.t5.prototype.g9=g.uy(9,function(){return this.Y3.g9()});
g.j0.prototype.g9=g.uy(8,function(){var x;return((x=this.loader)==null?void 0:x.k7())||null});
g.wa.prototype.g9=g.uy(7,function(){return null});
g.Sa.prototype.Q6=g.uy(1,function(x){return(x=this.Nw(x))?x.S:0});
g.BG.prototype.Q6=g.uy(0,function(){return 0});
var EHv=/#(.)(.)(.)/,f5b=/^#(?:[0-9a-f]{3}){1,2}$/i,oHs={aa:"Afar",ab:"Abkhazian",ace:"Acehnese",ach:"Acoli",ada:"Adangme",ady:"Adyghe",ae:"Avestan",aeb:"Tunisian Arabic",af:"Afrikaans",afh:"Afrihili",agq:"Aghem",ain:"Ainu",ak:"Akan",akk:"Akkadian",akz:"Alabama",ale:"Aleut",aln:"Gheg Albanian",alt:"Southern Altai",am:"Amharic",an:"Aragonese",ang:"Old English",anp:"Angika",ar:"Arabic",ar_001:"Arabic (world)",arc:"Aramaic",arn:"Mapuche",aro:"Araona",arp:"Arapaho",arq:"Algerian Arabic",ars:"Najdi Arabic",
arw:"Arawak",ary:"Moroccan Arabic",arz:"Egyptian Arabic",as:"Assamese",asa:"Asu",ase:"American Sign Language",ast:"Asturian",av:"Avaric",avk:"Kotava",awa:"Awadhi",ay:"Aymara",az:"Azerbaijani",az_Cyrl:"Azerbaijani (Cyrillic)",az_Latn:"Azerbaijani (Latin)",ba:"Bashkir",bal:"Baluchi",ban:"Balinese",bar:"Bavarian",bas:"Basaa",bax:"Bamun",bbc:"Batak Toba",bbj:"Ghomala",be:"Belarusian",bej:"Beja",bem:"Bemba",bew:"Betawi",bez:"Bena",bfd:"Bafut",bfq:"Badaga",bg:"Bulgarian",bgc:"Haryanvi",bgn:"Western Balochi",
bho:"Bhojpuri",bi:"Bislama",bik:"Bikol",bin:"Bini",bjn:"Banjar",bkm:"Kom",bla:"Siksik\u00e1",blo:"Anii",bm:"Bambara",bn:"Bangla",bo:"Tibetan",bpy:"Bishnupriya",bqi:"Bakhtiari",br:"Breton",bra:"Braj",brh:"Brahui",brx:"Bodo",bs:"Bosnian",bs_Cyrl:"Bosnian (Cyrillic)",bs_Latn:"Bosnian (Latin)",bss:"Akoose",bua:"Buriat",bug:"Buginese",bum:"Bulu",byn:"Blin",byv:"Medumba",ca:"Catalan",cad:"Caddo",car:"Carib",cay:"Cayuga",cch:"Atsam",ccp:"Chakma",ce:"Chechen",ceb:"Cebuano",cgg:"Chiga",ch:"Chamorro",chb:"Chibcha",
chg:"Chagatai",chk:"Chuukese",chm:"Mari",chn:"Chinook Jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chy:"Cheyenne",ckb:"Central Kurdish",co:"Corsican",cop:"Coptic",cps:"Capiznon",cr:"Cree",crh:"Crimean Tatar",cs:"Czech",csb:"Kashubian",csw:"Swampy Cree",cu:"Church Slavic",cv:"Chuvash",cy:"Welsh",da:"Danish",dak:"Dakota",dar:"Dargwa",dav:"Taita",de:"German",de_AT:"German (Austria)",de_CH:"German (Switzerland)",del:"Delaware",den:"Slave",dgr:"Dogrib",din:"Dinka",dje:"Zarma",doi:"Dogri",dsb:"Lower Sorbian",
dua:"Duala",dum:"Middle Dutch",dv:"Divehi",dyo:"Jola-Fonyi",dyu:"Dyula",dz:"Dzongkha",dzg:"Dazaga",ebu:"Embu",ee:"Ewe",efi:"Efik",egy:"Ancient Egyptian",eka:"Ekajuk",el:"Greek",elx:"Elamite",en:"English",en_AU:"English (Australia)",en_CA:"English (Canada)",en_GB:"English (United Kingdom)",en_US:"English (United States)",enm:"Middle English",eo:"Esperanto",es:"Spanish",es_419:"Spanish (Latin America)",es_ES:"Spanish (Spain)",es_MX:"Spanish (Mexico)",et:"Estonian",eu:"Basque",ewo:"Ewondo",fa:"Persian",
fa_AF:"Persian (Afghanistan)",fan:"Fang",fat:"Fanti",ff:"Fula",ff_Adlm:"Fula (Adlam)",ff_Latn:"Fula (Latin)",fi:"Finnish",fil:"Filipino",fj:"Fijian",fo:"Faroese",fon:"Fon",fr:"French",fr_CA:"French (Canada)",fr_CH:"French (Switzerland)",frm:"Middle French",fro:"Old French",frr:"Northern Frisian",frs:"Eastern Frisian",fur:"Friulian",fy:"Western Frisian",ga:"Irish",gaa:"Ga",gay:"Gayo",gba:"Gbaya",gd:"Scottish Gaelic",gez:"Geez",gil:"Gilbertese",gl:"Galician",gmh:"Middle High German",gn:"Guarani",goh:"Old High German",
gon:"Gondi",gor:"Gorontalo",got:"Gothic",grb:"Grebo",grc:"Ancient Greek",gsw:"Swiss German",gu:"Gujarati",guz:"Gusii",gv:"Manx",gwi:"Gwich\u02bcin",ha:"Hausa",hai:"Haida",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hi_Latn:"Hindi (Latin)",hil:"Hiligaynon",hit:"Hittite",hmn:"Hmong",ho:"Hiri Motu",hr:"Croatian",hsb:"Upper Sorbian",ht:"Haitian Creole",hu:"Hungarian",hup:"Hupa",hy:"Armenian",hz:"Herero",ia:"Interlingua",iba:"Iban",ibb:"Ibibio",id:"Indonesian",ie:"Interlingue",ig:"Igbo",ii:"Sichuan Yi",ik:"Inupiaq",
ilo:"Iloko","in":"Indonesian",inh:"Ingush",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",iw:"Hebrew",ja:"Japanese",jbo:"Lojban",jgo:"Ngomba",jmc:"Machame",jpr:"Judeo-Persian",jrb:"Judeo-Arabic",jv:"Javanese",ka:"Georgian",kaa:"Kara-Kalpak",kab:"Kabyle",kac:"Kachin",kaj:"Jju",kam:"Kamba",kaw:"Kawi",kbd:"Kabardian",kbl:"Kanembu",kcg:"Tyap",kde:"Makonde",kea:"Kabuverdianu",kfo:"Koro",kg:"Kongo",kgp:"Kaingang",kha:"Khasi",kho:"Khotanese",khq:"Koyra Chiini",ki:"Kikuyu",kj:"Kuanyama",kk:"Kazakh",
kk_Cyrl:"Kazakh (Cyrillic)",kkj:"Kako",kl:"Kalaallisut",kln:"Kalenjin",km:"Khmer",kmb:"Kimbundu",kn:"Kannada",ko:"Korean",kok:"Konkani",kok_Deva:"Konkani (Devanagari)",kok_Latn:"Konkani (Latin)",kos:"Kosraean",kpe:"Kpelle",kr:"Kanuri",krc:"Karachay-Balkar",krl:"Karelian",kru:"Kurukh",ks:"Kashmiri",ks_Arab:"Kashmiri (Arabic)",ks_Deva:"Kashmiri (Devanagari)",ksb:"Shambala",ksf:"Bafia",ksh:"Colognian",ku:"Kurdish",kum:"Kumyk",kut:"Kutenai",kv:"Komi",kw:"Cornish",kxv:"Kuvi",kxv_Deva:"Kuvi (Devanagari)",
kxv_Latn:"Kuvi (Latin)",kxv_Orya:"Kuvi (Odia)",kxv_Telu:"Kuvi (Telugu)",ky:"Kyrgyz",la:"Latin",lad:"Ladino",lag:"Langi",lah:"Western Panjabi",lam:"Lamba",lb:"Luxembourgish",lez:"Lezghian",lg:"Ganda",li:"Limburgish",lij:"Ligurian",lkt:"Lakota",lmo:"Lombard",ln:"Lingala",lo:"Lao",lol:"Mongo",loz:"Lozi",lrc:"Northern Luri",lt:"Lithuanian",lu:"Luba-Katanga",lua:"Luba-Lulua",lui:"Luiseno",lun:"Lunda",luo:"Luo",lus:"Mizo",luy:"Luyia",lv:"Latvian",mad:"Madurese",maf:"Mafa",mag:"Magahi",mai:"Maithili",mak:"Makasar",
man:"Mandingo",mas:"Masai",mde:"Maba",mdf:"Moksha",mdr:"Mandar",men:"Mende",mer:"Meru",mfe:"Morisyen",mg:"Malagasy",mga:"Middle Irish",mgh:"Makhuwa-Meetto",mgo:"Meta\u02bc",mh:"Marshallese",mi:"M\u0101ori",mic:"Mi'kmaw",min:"Minangkabau",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mnc:"Manchu",mni:"Manipuri",mni_Beng:"Manipuri (Bangla)",mo:"Romanian",moh:"Mohawk",mos:"Mossi",mr:"Marathi",ms:"Malay",mt:"Maltese",mua:"Mundang",mul:"Multiple languages",mus:"Muscogee",mwl:"Mirandese",mwr:"Marwari",
my:"Burmese",mye:"Myene",myv:"Erzya",mzn:"Mazanderani",na:"Nauru",nap:"Neapolitan",naq:"Nama",nb:"Norwegian Bokm\u00e5l",nd:"North Ndebele",nds:"Low German",nds_NL:"Low German (Netherlands)",ne:"Nepali","new":"Newari",ng:"Ndonga",nia:"Nias",niu:"Niuean",nl:"Dutch",nl_BE:"Dutch (Belgium)",nmg:"Kwasio",nn:"Norwegian Nynorsk",nnh:"Ngiemboon",no:"Norwegian",nog:"Nogai",non:"Old Norse",nqo:"N\u2019Ko",nr:"South Ndebele",nso:"Northern Sotho",nus:"Nuer",nv:"Navajo",nwc:"Classical Newari",ny:"Nyanja",nym:"Nyamwezi",
nyn:"Nyankole",nyo:"Nyoro",nzi:"Nzima",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Odia",os:"Ossetic",osa:"Osage",ota:"Ottoman Turkish",pa:"Punjabi",pa_Arab:"Punjabi (Arabic)",pa_Guru:"Punjabi (Gurmukhi)",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pap:"Papiamento",pau:"Palauan",pcm:"Nigerian Pidgin",peo:"Old Persian",phn:"Phoenician",pi:"Pali",pl:"Polish",pon:"Pohnpeian",prg:"Prussian",pro:"Old Proven\u00e7al",ps:"Pashto",pt:"Portuguese",pt_BR:"Portuguese (Brazil)",pt_PT:"Portuguese (Portugal)",qu:"Quechua",
raj:"Rajasthani",rap:"Rapanui",rar:"Rarotongan",rm:"Romansh",rn:"Rundi",ro:"Romanian",ro_MD:"Romanian (Moldova)",rof:"Rombo",rom:"Romany",ru:"Russian",rup:"Aromanian",rw:"Kinyarwanda",rwk:"Rwa",sa:"Sanskrit",sad:"Sandawe",sah:"Yakut",sam:"Samaritan Aramaic",saq:"Samburu",sas:"Sasak",sat:"Santali",sat_Olck:"Santali (Ol Chiki)",sba:"Ngambay",sbp:"Sangu",sc:"Sardinian",scn:"Sicilian",sco:"Scots",sd:"Sindhi",sd_Arab:"Sindhi (Arabic)",sd_Deva:"Sindhi (Devanagari)",se:"Northern Sami",see:"Seneca",seh:"Sena",
sel:"Selkup",ses:"Koyraboro Senni",sg:"Sango",sga:"Old Irish",sh:"Serbo-Croatian",shi:"Tachelhit",shi_Latn:"Tachelhit (Latin)",shi_Tfng:"Tachelhit (Tifinagh)",shn:"Shan",shu:"Chadian Arabic",si:"Sinhala",sid:"Sidamo",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sma:"Southern Sami",smj:"Lule Sami",smn:"Inari Sami",sms:"Skolt Sami",sn:"Shona",snk:"Soninke",so:"Somali",sog:"Sogdien",sq:"Albanian",sr:"Serbian",sr_Cyrl:"Serbian (Cyrillic)",sr_Latn:"Serbian (Latin)",srn:"Sranan Tongo",srr:"Serer",ss:"Swati",
ssy:"Saho",st:"Southern Sotho",su:"Sundanese",su_Latn:"Sundanese (Latin)",suk:"Sukuma",sus:"Susu",sux:"Sumerian",sv:"Swedish",sw:"Swahili",sw_CD:"Swahili (Congo - Kinshasa)",swb:"Comorian",syc:"Classical Syriac",syr:"Syriac",szl:"Silesian",ta:"Tamil",te:"Telugu",tem:"Timne",teo:"Teso",ter:"Tereno",tet:"Tetum",tg:"Tajik",th:"Thai",ti:"Tigrinya",tig:"Tigre",tiv:"Tiv",tk:"Turkmen",tkl:"Tokelau",tl:"Tagalog",tlh:"Klingon",tli:"Tlingit",tmh:"Tamashek",tn:"Tswana",to:"Tongan",tog:"Nyasa Tonga",tok:"Toki Pona",
tpi:"Tok Pisin",tr:"Turkish",trv:"Taroko",ts:"Tsonga",tsi:"Tsimshian",tt:"Tatar",tum:"Tumbuka",tvl:"Tuvalu",tw:"Twi",twq:"Tasawaq",ty:"Tahitian",tyv:"Tuvinian",tzm:"Central Atlas Tamazight",udm:"Udmurt",ug:"Uyghur",uga:"Ugaritic",uk:"Ukrainian",umb:"Umbundu",ur:"Urdu",uz:"Uzbek",uz_Arab:"Uzbek (Arabic)",uz_Cyrl:"Uzbek (Cyrillic)",uz_Latn:"Uzbek (Latin)",vai:"Vai",vai_Latn:"Vai (Latin)",vai_Vaii:"Vai (Vai)",ve:"Venda",vec:"Venetian",vi:"Vietnamese",vmw:"Makhuwa",vo:"Volap\u00fck",vot:"Votic",vun:"Vunjo",
wa:"Walloon",wae:"Walser",wal:"Wolaytta",war:"Waray",was:"Washo",wo:"Wolof",xal:"Kalmyk",xh:"Xhosa",xnr:"Kangri",xog:"Soga",yao:"Yao",yap:"Yapese",yav:"Yangben",ybb:"Yemba",yi:"Yiddish",yo:"Yoruba",yrl:"Nheengatu",yue:"Cantonese",yue_Hans:"Cantonese (Simplified)",yue_Hant:"Cantonese (Traditional)",za:"Zhuang",zap:"Zapotec",zbl:"Blissymbols",zen:"Zenaga",zgh:"Standard Moroccan Tamazight",zh:"Chinese",zh_Hans:"Chinese (Simplified)",zh_Hant:"Chinese (Traditional)",zh_TW:"Chinese (Taiwan)",zu:"Zulu",
zun:"Zuni",zxx:"No linguistic content",zza:"Zaza"};F3.prototype.contains=function(x){x=g.Rh(this.segments,x);return x>=0||x<0&&(-x-1)%2===1};
F3.prototype.length=function(){return this.segments.length/2};
g.T(GtR,g.m);g.z=GtR.prototype;g.z.VN=function(){g.m.prototype.VN.call(this);this.Y&&this.Y.cancel()};
g.z.Kq=function(){this.seekTo(this.player.getCurrentTime())};
g.z.seekTo=function(x){x-=this.player.xd();var S=this.S;this.S=g.Ps(this.DG.HD(x).rr);S!==this.S&&this.j&&this.j()};
g.z.reset=function(){this.G=new F3;this.L=-1;this.Y&&(this.Y.cancel(),this.Y=null)};
g.z.YU=function(){this.Jg();var x;if(x=this.S!=null)x=this.S,x=x.S.l$(x);if(x&&!this.Y&&!(this.S&&this.S.startTime-this.player.getCurrentTime()>30)){x=this.S;x=x.S.PF(x);var S=x.rr[0],Z;if((Z=this.player.getVideoData())==null?0:Z.enableServerStitchedDai)if(Z=this.player.g9()){var k=S.S.info.id,e=S.sT,u=x.rr[0].B;if(this.policy.FL){if(Z=Z.Sc(u,e,k,3))x.G=Z}else if(k=Z.AL(u,e,k,3))if(Z=Z.Wq(e),Z===0)k&&(x.S=new g.Dm(k));else if(Z===2){this.N.start();bNx(this)&&this.seekTo(this.player.getCurrentTime());
return}}S.S.index.CE(S.sT)?(this.G.contains(x.rr[0].sT)||mIS(this,x),this.S=g.Ps(x.rr)):bNx(this)&&this.seekTo(this.player.getCurrentTime())}this.N.start()};
g.T(qi,g.i6);g.z=qi.prototype;g.z.oM=function(x,S,Z){var k=this;this.h9();S=hKJ(this,x.getId());S||(S=x.languageCode,S=this.S.isManifestless?HNs(this,S,"386"):HNs(this,S));if(S){var e=(S.index.Q6(S.index.iF())-S.index.getStartTime(S.index.iF()))*1E3,u=new g.kmR(this.T.U());this.G=new GtR(u,this.T,S,function(C,L){Z.s$(C,x,L,e)},this.N||g.xd(S.info),function(){k.G&&k.G.reset();
k.L=!0})}};
g.z.QM=function(){var x=this.L;this.L=!1;return x};
g.z.p_=function(x){var S=this.T.U().Z("html5_fallback_if_rawcc_missing");var Z=this.S.S.rawcc!=null;if(!this.N||!Z&&S)S=this.S.isManifestless?ONx(this,"386"):ONx(this);else{if(!Z){g.Iu(this.logger,386248249,"rawcc used but unavailable");return}S=[new g.Rl({id:"rawcc",languageCode:"rawcc",languageName:"CC1",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"}),new g.Rl({id:"rawcc",languageCode:"rawcc",languageName:"CC3",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"})]}S=g.v(S);
for(Z=S.next();!Z.done;Z=S.next())g.rd(this.Y,Z.value);x.U9()};
g.z.h9=function(){this.G&&(this.G.dispose(),this.G=null)};
g.z.Ei=function(){return""};
var na=/^#(?:[0-9a-f]{3}){1,2}$/i;var RKH=["left","right","center","justify"];g.T(dP,g.U);g.z=dP.prototype;g.z.B0=function(x,S){this.lr=x;this.UT=S;var Z=g.Zq(this.element,this.element.parentElement);this.jy=x-Z.x;this.kd=S-Z.y};
g.z.v0=function(x,S){if(x!==this.lr||S!==this.UT){g.L$(this.element,"ytp-dragging")||g.c8(this.element,"ytp-dragging");var Z=g.e1(this.element);x=x-this.jy-.02*this.e2;var k=S-this.kd-.02*this.lQ,e=(x+Z.width/2)/this.maxWidth*3;e=Math.floor(g.Uj(e,0,2));var u=(k+Z.height/2)/this.maxHeight*3;u=Math.floor(g.Uj(u,0,2));S=e+u*3;x=(x+e/2*Z.width)/this.maxWidth;x=g.Uj(x,0,1)*100;Z=(k+u/2*Z.height)/this.maxHeight;Z=g.Uj(Z,0,1)*100;this.Y.params.eB=S;this.Y.params.Tg=Z;this.Y.params.Jh=x;this.Y.params.isDefault=
!1;this.S.eB=S;this.S.Tg=Z;this.S.Jh=x;this.S.isDefault=!1;this.GS.eB=S;this.GS.Tg=Z;this.GS.Jh=x;this.GS.isDefault=!1;this.hY()}};
g.z.ym=function(){g.XL(this.element,"ytp-dragging")};
g.z.hY=function(){this.cL(this.L)};
g.z.cL=function(x){var S=this.f3?0:Math.min(this.M7(),this.maxWidth),Z=this.Og(),k=this.f3;if(k){var e=getComputedStyle(this.G.parentNode);e=zq(e.borderLeftWidth)+zq(e.borderRightWidth)+zq(e.paddingLeft)+zq(e.paddingRight)}else e=0;var u=e;e="";this.Y.params.zP===3&&(e="rotate(180deg)");var C=k?"calc(96% - "+u+"px)":"96%";g.Mq(this.element,{top:0,left:0,right:"",bottom:"",width:S?S+"px":"",height:Z?Z+"px":"","max-width":C,"max-height":C,margin:"",transform:""});this.Xh(x);e={transform:e,top:"",left:"",
width:S?S+"px":"",height:Z?Z+"px":"","max-width":"","max-height":""};var L=this.S.Jh*.96+2;C=this.S.eB;switch(C){case 0:case 3:case 6:(k=this.S.SR.fontSizeIncrement)&&k>0&&this.S.zP!==2&&this.S.zP!==3&&(L=Math.max(L/(1+k*2),2));e.left=L+"%";break;case 1:case 4:case 7:e.left=L+"%";L=this.G.offsetWidth;S||L?(S=S||L+1,e.width=S+"px",e["margin-left"]=k?S/-2-u/2+"px":S/-2+"px"):e.transform+=" translateX(-50%)";break;case 2:case 5:case 8:e.right=100-L+"%"}k=this.S.Tg*.96+2;switch(C){case 0:case 1:case 2:e.top=
k+"%";break;case 3:case 4:case 5:e.top=k+"%";(Z=Z||this.element.clientHeight)?(e.height=Z+"px",e["margin-top"]=Z/-2+"px"):e.transform+=" translateY(-50%)";break;case 6:case 7:case 8:e.bottom=100-k+"%"}g.Mq(this.element,e);if(this.B){Z=this.G.offsetHeight;k=1;for(S=0;S<x.length;S++)e=x[S],typeof e.text==="string"&&(k+=e.text.split("\n").length-1,e.append||S===0||k++);Z/=k;this.B.style.height=Z+"px";this.B.style.width=Z+"px";this.element.style.paddingLeft=Z+5+"px";this.element.style.paddingRight=Z+
5+"px";x=Number(this.element.style.marginLeft.replace("px",""))-Z-5;Z=Number(this.element.style.marginRight.replace("px",""))-Z-5;this.element.style.marginLeft=x+"px";this.element.style.marginRight=Z+"px"}};
g.z.Xh=function(x){var S;for(S=0;S<x.length&&x[S]===this.L[S];S++);if(this.Mb||this.L.length>S)S=0,this.Mb=!1,this.L=[],this.N=this.FL=this.R5=null,g.P$(this.G);for(;S<x.length;S++)l5x(this,x[S])};
g.z.M7=function(){return 0};
g.z.Og=function(){return 0};
g.z.toString=function(){return g.U.prototype.toString.call(this)};pJS.prototype.clear=function(){this.D=this.time=this.mode=0;this.S=[];this.reset()};
pJS.prototype.reset=function(){this.mode=0;this.G.reset(0);this.B.reset(1)};
var $IR=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255];Tq.prototype.set=function(x){this.type=x};
Tq.prototype.get=function(){return this.type};
PO.prototype.clear=function(){this.state=0};
PO.prototype.update=function(){this.state=this.state===2?1:0};
PO.prototype.wF=function(){return this.state!==0};
PO.prototype.matches=function(x,S){return this.wF()&&x===this.Yx&&S===this.Am};
kLh.prototype.reset=function(){this.timestamp=this.S=0};
vO.prototype.updateTime=function(x){for(var S=1;S<=15;++S)for(var Z=1;Z<=32;++Z)this.D[S][Z].timestamp=x};
vO.prototype.debugString=function(){for(var x="\n",S=1;S<=15;++S){for(var Z=1;Z<=32;++Z){var k=this.D[S][Z];x=k.S===0?x+"_":x+String.fromCharCode(k.S)}x+="\n"}return x};
vO.prototype.reset=function(x){for(var S=0;S<=15;S++)for(var Z=0;Z<=32;Z++)this.D[S][Z].reset();this.G=x;this.S=0;this.Y=this.row=1};
var e5h=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],ub$=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],C2R=[193,201,211,218,220,252,8216,161,42,39,9473,169,8480,183,8220,8221,192,194,199,200,202,203,235,
206,207,239,212,217,249,219,171,187],tWH=[195,227,205,204,236,210,242,213,245,123,125,92,94,95,124,126,196,228,214,246,223,165,164,9475,197,229,216,248,9487,9491,9495,9499];XoS.prototype.reset=function(x,S){this.B=S;this.style.set(2);this.Y=this.L;this.G=this.N;this.S=this.Y;var Z=(x<<2)+(S<<1);this.L.reset(Z);this.N.reset(Z);this.text.reset((x<<2)+(S<<1)+1)};
yQR.prototype.reset=function(x){this.B=x;this.Y.clear();this.G=this.D;this.D.reset(x,0);this.L.reset(x,1)};drR.prototype.G=function(){};g.T(rP,g.yU);rP.prototype.toString=function(){return g.yU.prototype.toString.call(this)};g.T(iZ,g.m);iZ.prototype.reset=function(){};g.T(Ql,g.yU);Ql.prototype.toString=function(){return g.yU.prototype.toString.call(this)};
var sS=0;g.T(fa,iZ);fa.prototype.reset=function(){this.N={};this.Y=this.S=null;this.L=!0};
fa.prototype.D=function(x,S){x=x.firstChild;x.getAttribute("format");S=S||0;Number.isFinite(S);x=Array.from(x.childNodes);x=g.v(x);for(var Z=x.next();!Z.done;Z=x.next())if(Z=Z.value,Z.nodeType===1)switch(Z.tagName){case "head":var k=Z;break;case "body":var e=Z}if(k)for(k=Array.from(k.childNodes),k=g.v(k),x=k.next();!x.done;x=k.next())if(x=x.value,x.nodeType===1)switch(x.tagName){case "pen":Z=x.getAttribute("id");var u=this.pens,C={},L=x.getAttribute("p");L&&Object.assign(C,this.pens[L]);L=BO(x,"b");
L!=null&&(C.bold=L);L=BO(x,"i");L!=null&&(C.italic=L);L=BO(x,"u");L!=null&&(C.underline=L);L=Vl(x,"et");L!=null&&(C.charEdgeStyle=L);L=Vl(x,"of");L!=null&&(C.offset=L);L=Ka(x,"bc");L!=null&&(C.background=L);L=Ka(x,"ec");L!=null&&(C.BR=L);L=Ka(x,"fc");L!=null&&(C.color=L);L=Vl(x,"fs");L!=null&&L!==0&&(C.fontFamily=L);L=ES(x,"sz");L!==void 0&&(C.fontSizeIncrement=L/100-1);L=ES(x,"bo");L!==void 0&&(C.backgroundOpacity=L/255);L=ES(x,"fo");L!==void 0&&(C.textOpacity=L/255);L=Vl(x,"rb");L!=null&&L!==10&&
L!==0&&(C.yd=L>10?L-1:L);x=Vl(x,"hg");x!=null&&(C.Bh=x);u[Z]=C;break;case "ws":Z=x.getAttribute("id");this.j[Z]=vm$(this,x);break;case "wp":Z=x.getAttribute("id"),this.X[Z]=Wis(this,x)}if(e){k=[];e=Array.from(e.childNodes);e=g.v(e);for(x=e.next();!x.done;x=e.next())if(x=x.value,x.nodeType===1)switch(x.tagName){case "w":this.S=YKt(this,x,S,!1);(x=this.N[this.S.id])&&x.end>this.S.start&&(x.end=this.S.start);this.N[this.S.id]=this.S;k.push(this.S);break;case "p":var c=x;L=S;Z=[];u=c.getAttribute("w")||
this.B;C=!!BO(c,"a");L=(ES(c,"t")||0)+L;var J=ES(c,"d")||5E3;C||(!this.L&&this.Y&&this.Y.windowId===u&&this.Y.end>L&&(this.Y.end=L),this.Y&&this.Y.text==="\n"&&(this.Y.text=""));var X=C?6:5,a=c.getAttribute("p");a=a?this.pens[a]:null;var F=Array.from(c.childNodes);F.length&&(this.L=c.getAttribute("d")!=null);for(c=0;c<F.length;c++){var q=F[c],d=void 0;c>0&&(C=!0);var W=void 0;q.nodeType===1&&(W=q);if(W&&W.tagName==="s"){if((q=(q=W.getAttribute("p"))?this.pens[q]:null)&&q.yd&&(q.yd===1?(q=F.slice(c,
c+4),q.length===4&&(d=T1s(L,J,u,C,X,q,this.pens),c+=3)):d=T1s(L,J,u,C,X,[W],this.pens)),!d){var I=W;d=L;W=J;q=u;var f=C,Q=X,n=I.textContent?I.textContent:"",b=I.getAttribute("p");b=b?this.pens[b]:null;I=ES(I,"t")||0;d=new rP(d+I,W-I,Q,q,n,f,b)}}else d=new rP(L,J,X,u,q.textContent||"",C,a);Z.push(d);this.Y=d}if(Z.length>0)for(Z[0].windowId===this.B&&(this.S=YKt(this,x,S,!0),k.push(this.S)),x=g.v(Z),Z=x.next();!Z.done;Z=x.next())Z=Z.value,Z.windowId=this.S.id,this.S.S.push(Z),k.push(Z)}S=k}else S=[];
return S};var CiS=new Map([[9,1],[10,1],[11,2],[12,3],[13,4],[14,5]]);g.T(Gq,iZ);Gq.prototype.reset=function(){this.Y.clear()};
Gq.prototype.D=function(x,S){var Z=JSON.parse(x);if(!Z)return[];if(Z.pens){x=0;for(var k=g.v(Z.pens),e=k.next();!e.done;e=k.next()){e=e.value;var u={},C=e.pParentId;C&&Object.assign(u,this.S.get(C));e.bAttr&&(u.bold=!0);e.iAttr&&(u.italic=!0);e.uAttr&&(u.underline=!0);C=e.ofOffset;C!=null&&(u.offset=C);e.szPenSize!==void 0&&(u.fontSizeIncrement=e.szPenSize/100-1);C=e.etEdgeType;C!=null&&(u.charEdgeStyle=C);e.ecEdgeColor!==void 0&&(u.BR=bZ(e.ecEdgeColor));C=e.fsFontStyle;C!=null&&C!==0&&(u.fontFamily=
C);e.fcForeColor!==void 0&&(u.color=bZ(e.fcForeColor));e.foForeAlpha!==void 0&&(u.textOpacity=e.foForeAlpha/255);e.bcBackColor!==void 0&&(u.background=bZ(e.bcBackColor));e.boBackAlpha!==void 0&&(u.backgroundOpacity=e.boBackAlpha/255);(C=e.rbRuby)&&C!==10&&(u.yd=C>10?C-1:C,u.textEmphasis=CiS.get(u.yd));e.hgHorizGroup&&(u.Bh=e.hgHorizGroup);this.S.set(x++,u)}}if(Z.wsWinStyles)for(x=0,k=g.v(Z.wsWinStyles),e=k.next();!e.done;e=k.next())e=e.value,u={},(C=e.wsParentId)?Object.assign(u,this.B.get(C)):Object.assign(u,
this.L),e.mhModeHint!==void 0&&(u.n9=e.mhModeHint),e.juJustifCode!==void 0&&(u.textAlign=e.juJustifCode),e.pdPrintDir!==void 0&&(u.zP=e.pdPrintDir),e.sdScrollDir!==void 0&&(u.Lo=e.sdScrollDir),e.wfcWinFillColor!==void 0&&(u.windowColor=bZ(e.wfcWinFillColor)),e.wfoWinFillAlpha!==void 0&&(u.windowOpacity=e.wfoWinFillAlpha/255),this.B.set(x++,u);if(Z.wpWinPositions)for(x=0,k=g.v(Z.wpWinPositions),e=k.next();!e.done;e=k.next())e=e.value,u={},(C=e.wpParentId)&&Object.assign(u,this.G.get(C)),e.ahHorPos!==
void 0&&(u.Jh=e.ahHorPos),e.apPoint!==void 0&&(u.eB=e.apPoint),e.avVerPos!==void 0&&(u.Tg=e.avVerPos),e.ccCols!==void 0&&(u.Dy=e.ccCols),e.rcRows!==void 0&&(u.Oo=e.rcRows),this.G.set(x++,u);if(Z.events){x=[];Z=g.v(Z.events);for(k=Z.next();!k.done;k=Z.next()){var L=k.value;e=(L.tStartMs||0)+S;u=L.dDurationMs||0;if(L.id)C=String(L.id),k=ITm(this,L,e,u,C),x.push(k),this.Y.set(C,k);else{L.wWinId?C=L.wWinId.toString():(C="_"+sS++,k=ITm(this,L,e,u,C),x.push(k),this.Y.set(C,k));k=x;var c=L;u===0&&(u=5E3);
L=this.Y.get(C);var J=!!c.aAppend,X=J?6:5,a=c.segs,F=null;c.pPenId&&(F=this.S.get(c.pPenId));for(c=0;c<a.length;c++){var q=a[c],d=q.utf8;if(d){var W=q.tOffsetMs||0,I=null;q.pPenId&&(I=this.S.get(q.pPenId));if((L.params.n9!=null?L.params.n9:L.S.length>1?1:0)===2&&J&&d==="\n")continue;q=null;var f=[],Q;if(Q=I&&I.yd===1){Q=a;var n=c;if(n+3>=Q.length||!Q[n+1].pPenId||!Q[n+2].pPenId||!Q[n+3].pPenId)Q=!1;else{var b=Q[n+1].pPenId;(b=this.S.get(b))&&b.yd&&b.yd===2?(b=Q[n+2].pPenId,b=this.S.get(b),!b||!b.yd||
b.yd<3?Q=!1:(b=Q[n+3].pPenId,Q=(b=this.S.get(b))&&b.yd&&b.yd===2?!0:!1)):Q=!1}}if(Q)W=a[c+1].utf8,q=a[c+3].utf8,Q=a[c+2].utf8,n=this.S.get(a[c+2].pPenId),d=z5n(d,W,Q,q,n),q=new rP(e,u,X,C,d,J,I),c+=3;else{if(d.indexOf("<")>-1){var h=void 0;f=I;Q=F;n=e;b=u;var l=W,A=X,kb=J,cx=[],eQ=g.yB("<html>"+d+"</html>");if(!eQ.getElementsByTagName("parsererror").length&&((h=eQ.firstChild)==null?0:h.childNodes.length))for(h=g.v(eQ.firstChild.childNodes),eQ=h.next();!eQ.done;eQ=h.next()){eQ=eQ.value;var aq=void 0,
SQ=void 0,Wx=(SQ=(aq=eQ.textContent)==null?void 0:aq.replace(/\n/g,""))!=null?SQ:"";if(eQ.nodeType!==3||Wx&&Wx.match(/^ *$/)==null){aq={};Object.assign(aq,f||Q);SQ=void 0;switch((SQ=eQ)==null?void 0:SQ.tagName){case "b":aq.bold=!0;break;case "i":aq.italic=!0;break;case "u":aq.underline=!0}cx.push(new rP(n+l,b-l,A,L.id,Wx,kb,aq))}}f=cx}f.length||(f=[new rP(e+W,u-W,X,L.id,d,J,I||F)])}if(f.length)for(J=g.v(f),I=J.next();!I.done;I=J.next())I=I.value,k.push(I),L.S.push(I);else q&&(k.push(q),L.S.push(q))}J=
!0}}}S=x}else S=[];return S};g.T(m7,g.i6);m7.prototype.oM=function(x,S,Z){sQR(this.videoData.videoId,x.vssId,Z.s$)};
m7.prototype.p_=function(x){if(this.audioTrack)for(var S=g.v(this.audioTrack.captionTracks),Z=S.next();!Z.done;Z=S.next())g.rd(this.Y,Z.value);x.U9()};g.T(oD,dP);oD.prototype.Xh=function(x){var S=this.Y.S;dP.prototype.Xh.call(this,x);for(x=x.length;x<S.length;x++){var Z=S[x];if(u&&Z.S===e)var k=u;else{k={};Object.assign(k,Z.S);Object.assign(k,tlR);var e=Z.S;var u=k}l5x(this,Z,k)}};
var tlR={gk:!0};g.T(OS,drR);OS.prototype.G=function(x,S,Z,k,e){if(Z<k){var u="_"+sS++;Z=Z/1E3-this.L;k=k/1E3-this.L;x=new Ql(Z,k-Z,5,u,{textAlign:0,eB:0,Jh:S*2.5,Tg:x*5.33});e=new rP(Z,k-Z,5,u,e);this.Y.push(x);this.Y.push(e)}};
g.T(US,iZ);US.prototype.D=function(x){x=new OS(x,x.byteLength,this.Y);if(N1S(x)){for(;x.byteOffset<x.S.byteLength;)for(x.version===0?x.D=HO(x)*(1E3/45):x.version===1&&(x.D=HO(x)*4294967296+HO(x)),x.B=h8(x);x.B>0;x.B--){var S=h8(x),Z=h8(x),k=h8(x);S&4&&(S&3)===this.track&&(this.track===0||this.track===1)&&(S=this.S,S.S.push({time:x.D,type:this.track,fN:Z,dD:k,order:S.S.length}))}ZPt(this.S,x);return x.Y}return[]};
US.prototype.reset=function(){this.S.clear()};g.T(A8,dP);g.z=A8.prototype;g.z.hY=function(){g.jh(this.Gt)};
g.z.sP=function(){this.element.removeEventListener("transitionend",this.sP,!1);g.XL(this.element,"ytp-rollup-mode");this.cL(this.iQ,!0)};
g.z.Og=function(){return this.D?this.DG:this.j};
g.z.M7=function(){return this.D?this.j:this.DG};
g.z.cL=function(x,S){this.iQ=x;if(this.Y.params.Oo){for(var Z=0,k=0;k<this.L.length&&Z<x.length;k++)this.L[k]===x[Z]&&Z++;Z>0&&Z<x.length&&(x=this.L.concat(x.slice(Z)));this.a$=this.DG;this.j=this.DG=0;dP.prototype.cL.call(this,x);sXH(this,S)}dP.prototype.cL.call(this,x)};fTm.prototype.unload=function(){this.S!=null&&(this.T.removeEventListener("sabrCaptionsDataLoaded",this.S),this.S=null);this.yr=[];this.T.publish("sabrCaptionsBufferedRangesUpdated",this.yr)};
fTm.prototype.CK=function(x){return{formatId:g.ZB(x.info.S.info,this.R$),sT:x.info.sT+(this.R$?0:1),startTimeMs:x.info.B*1E3,durationMs:x.info.X*1E3}};g.T(RD,g.i6);RD.prototype.oM=function(x,S,Z){this.h9();S=x.getId();S=S!=null&&S in this.S.S?this.S.S[S]:null;S||(S=x.languageCode,S=this.S.isManifestless?nmv(this,S,"386"):nmv(this,S));S&&(this.G=x,this.L=S,B1n(this.N,Z),this.T.publish("sabrCaptionsTrackChanged",g.ZB(S.info,this.S.R$)))};
RD.prototype.p_=function(x){var S=this.S.isManifestless?VWb(this,"386"):VWb(this);S=g.v(S);for(var Z=S.next();!Z.done;Z=S.next())g.rd(this.Y,Z.value);x.U9()};
RD.prototype.h9=function(){this.G&&(this.G=this.L=null,this.N.unload(),this.T.publish("sabrCaptionsTrackChanged",null))};
RD.prototype.Ei=function(){return""};var bP9="WEBVTT".split("").map(function(x){return x.charCodeAt(0)});
g.T(GLm,iZ);
GLm.prototype.D=function(x,S){x instanceof ArrayBuffer&&(x=g.vq(new Uint8Array(x)));var Z=[];x=x.split(LTS);for(var k=1;k<x.length;k++){var e=x[k],u=S;if(e!==""&&!cTn.test(e)){var C=JTb.exec(e);if(C&&C.length>=4){var L=OPn(C[1]),c=OPn(C[2])-L;L+=u;var J=(C=C[3])?C.split(" "):[];C={};var X=null;var a="";var F=null,q="";J=g.v(J);for(var d=J.next();!d.done;d=J.next())if(d=d.value.split(":"),d.length===2){var W=d[1];switch(d[0]){case "line":d=W.split(",");d[0].endsWith("%")&&(X=d[0],C.Tg=Number.parseInt(X,
10),d.length===2&&(a=d[1].trim()));break;case "position":d=W.split(",");F=d[0];C.Jh=Number.parseInt(F,10);d.length===2&&(q=d[1].trim());break;case "align":switch(W){case "start":C.textAlign=0;break;case "middle":C.textAlign=2;break;case "end":C.textAlign=1}}}X||a||(a="end");if(!F)switch(C.textAlign){case 0:C.Jh=0;break;case 1:C.Jh=100;break;case 2:C.Jh=50}if(C.textAlign!=null){X=0;switch(a){case "center":X+=3;break;case "end":X+=6;break;default:X+=0}switch(q){case "line-left":X+=0;break;case "center":X+=
1;break;case "line-right":X+=2;break;default:switch(C.textAlign){case 0:X+=0;break;case 2:X+=1;break;case 1:X+=2}}a=X<0||X>8?7:X;C.eB=a}e=e.substring(JTb.lastIndex).replace(/[\x01-\x09\x0b-\x1f]/g,"");q=C;C=e;e={};if(C.indexOf("<")<0&&C.indexOf("&")<0)u=h5t(L,c,5,q),c=new rP(L,c,5,u.id,C,!1,g.qE(e)?void 0:e),Z.push(u),Z.push(c),u.S.push(c);else for(a=C.split(XN$),a.length===1?(C=5,q=h5t(L,c,C,q)):(X=C=6,q=Object.assign({Dy:32},q),q=new Ql(L,c,X,"_"+sS++,q)),Z.push(q),X=L,F=0;F<a.length;F++)J=a[F],
F%2===0?(d=g.yB("<html>"+J+"</html>"),d.getElementsByTagName("parsererror").length?(W=d.createElement("span"),W.appendChild(d.createTextNode(J))):W=d.firstChild,omR(this,X,c-(X-L),C,q,F>0,W,e,Z)):X=OPn(J)+u}JTb.lastIndex=0}}return Z};
var cTn=/^NOTE/,LTS=/(?:\r\n|\r|\n){2,}/,JTb=RegExp("^((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})[\\t ]+--\x3e[\\t ]+((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})(?:[\\t ]*)(.*)(?:\\r\\n|\\r|\\n)","gm"),XN$=RegExp("<((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})>");g.T(wP,g.m);wP.prototype.clear=function(){this.S&&this.S.dispose();this.S=null};
wP.prototype.reset=function(){this.S&&this.S.reset()};
wP.prototype.VN=function(){g.m.prototype.VN.call(this);this.clear()};var xi={windowColor:"#080808",windowOpacity:0,textAlign:2,eB:7,Jh:50,Tg:100,isDefault:!0,SR:{background:"#080808",backgroundOpacity:.75,charEdgeStyle:0,color:"#fff",fontFamily:4,fontSizeIncrement:0,textOpacity:1,offset:1}};g.T(MWH,g.Nx);g.z=MWH.prototype;g.z.VN=function(){if(this.B||this.hg){var x=this.T.j2();x&&!x.Jg()&&x.RP()}else urt(this,!1);g.Nx.prototype.VN.call(this)};
g.z.AE=function(){return this.Sy.Z("html5_honor_caption_availabilities_in_audio_track")&&this.G!=="LIVE"&&this.G!=="SABR_LIVE"};
g.z.b1=function(){if(this.lr)return this.B||this.hg;var x=this.getAudioTrack();if(this.AE()){if(!x.captionTracks.length)return!1;if(!this.S)return!0}x=NvR(x,g.iA(this.Sy));return x==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?!0:x==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"?Dr(this):lTt(this)||Dr(this)?!0:yUS(this)};
g.z.load=function(){g.Nx.prototype.load.call(this);this.j=this.getAudioTrack();if(this.S)this.Y&&(this.UT.clear(),this.B?$rR(this,!0):this.player.getPresentingPlayerType()!==3&&this.S.oM(this.Y,"json3",this.Gt),this.B||this.hg||lZ(this)||this.player.mj("captionschanged",g.DD(this.Y)));else{var x;this.G==="OFFLINE"?x=new m7(this.player,this.videoData,this.getAudioTrack()):this.G==="SABR_LIVE"?x=new RD(this.videoData.S,this.player):this.G==="LIVE"?x=new qi(this.videoData.S,this.player):this.G==="INNERTUBE"?
x=new g.QP(this.player,this.videoData,this.getAudioTrack()):x=new g.fS(this.player,this.videoData.pY,this.videoData.videoId,g.J3g(this.videoData),this.videoData.d9,this.videoData.eventId);this.S=x;g.O(this,this.S);this.S.p_(this.Gt)}};
g.z.unload=function(){this.B&&this.Y?$rR(this,!1):(this.Nb&&g.ZC(this.Nb),this.player.Mi("captions"),this.R5=[],this.S&&this.S.h9(),this.UT.clear(),this.DG&&this.player.KY(this.DG),this.zQ());g.Nx.prototype.unload.call(this);this.player.i$();this.player.mj("captionschanged",{})};
g.z.create=function(){this.b1()&&this.load();var x;a:{var S,Z,k;if(this.Sy.Z("web_player_nitrate_promo_tooltip")&&((S=this.videoData.getPlayerResponse())==null?0:(Z=S.captions)==null?0:(k=Z.playerCaptionsTracklistRenderer)==null?0:k.enableTouchCaptionsNitrate)){var e,u;if(S=(x=this.videoData.getPlayerResponse())==null?void 0:(e=x.captions)==null?void 0:(u=e.playerCaptionsTracklistRenderer)==null?void 0:u.captionTracks)for(x=g.v(S),e=x.next();!e.done;e=x.next())if(e=e.value,e.kind==="asr"&&e.languageCode===
"en"){x=!0;break a}}x=!1}x&&this.T.publish("showpromotooltip",this.N.element)};
g.z.U9=function(){var x=NvR(this.player.getAudioTrack(),g.iA(this.Sy));var S=x==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?gP(this,this.X):x==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"&&Dr(this)?Mi(this):lTt(this)||this.X||yUS(this)?gP(this,this.X):Dr(this)?Mi(this):null;if(this.B||this.hg){var Z=g.j9(this.S.Y,!0);x=[];for(var k=0;k<Z.length;k++){var e=Z[k],u=g.dG("TRACK");u.setAttribute("kind","subtitles");u.setAttribute("label",g.wD(e));u.setAttribute("srclang",g.M9(e));u.setAttribute("id",e.toString());
this.hg||u.setAttribute("src",this.S.Ei(e,"vtt"));e===S&&u.setAttribute("default","1");x.push(u)}S=this.T.j2();S.H9(x);x=S.Ba();this.f3&&this.Mb.W(x.textTracks,"change",this.PAm)}else!this.Y&&S&&$W(this,S),this.player.mj("onCaptionsTrackListChanged"),this.player.Lb("onApiChange")};
g.z.PAm=function(){for(var x=this.T.j2().Ba().textTracks,S=null,Z=0;Z<x.length;Z++)if(x[Z].mode==="showing")a:{S=g.j9(this.S.Y,!0);for(var k=0;k<S.length;k++)if(S[k].toString()===x[Z].id){S=S[k];break a}S=null}(this.loaded?this.Y:null)!==S&&$W(this,S,!0)};
g.z.J_3=function(){!this.Y&&this.B||this.unload()};
g.z.s$=function(x,S,Z,k){if(x){var e;xdv(this,(e=this.Y)!=null?e:void 0);this.S.QM()&&(this.R5=[],this.T.Mi("captions"),aD(this.FL),this.UT.reset());a:{e=this.UT;k=k||0;Z=UrH(e,x,Z||0);x=[];try{for(var u=g.v(Z),C=u.next();!C.done;C=u.next()){var L=C.value,c=L.trackData,J=L.G3,X=e.Sy.Z("safari_live_drm_captions_fix");if(typeof c!=="string"){Z=x;var a=Z.concat;if(X&&mrt(c))var F=AUn(e,c,J);else{var q=e,d=S,W=c,I=J,f=k;if(!rUb(W))throw Error("Invalid binary caption track data");q.S||(q.S=new US(f,d));
F=q.S.D(W,I)}var Q=a.call(Z,F)}else{if(c.substring(0,6)==="WEBVTT")var n=x.concat(AUn(e,c,J));else{Z=x;var b=Z.concat;b:{d=q=void 0;W=e;I=S;if(c[0]==="{")try{W.S||(W.S=new Gq(R5t(I)));var h=d=W.S.D(c,J);break b}catch(SQ){g.BF(SQ);h=[];break b}var l=g.yB(c);if(!l||!l.firstChild){var A=Error("Invalid caption track data");A.params=c;throw A;}if(l.firstChild.tagName==="timedtext"){if(Number(l.firstChild.getAttribute("format"))===3){W.S||(W.S=new fa(R5t(I),W.Sy));h=q=W.S.D(l,J);break b}var kb=Error("Unsupported subtitles format in web player (Format2)");
kb.params=c;throw kb;}if(l.firstChild.tagName==="transcript"){var cx=Error("Unsupported subtitles format in web player (Format1)");cx.params=c;throw cx;}var eQ=Error("Invalid caption track data");eQ.params=c;throw eQ;}n=b.call(Z,h)}Q=n}x=Q}var aq=x;break a}catch(SQ){g.Iu(e.logger,187101178,"Captions parsing failed: "+SQ.message+". ");e.clear();aq=[];break a}aq=void 0}S=aq;S.length>0&&(aq=this.Y,this.b2(aq,!!aq,lZ(this)?"g":this.X?"m":"s"));this.player.KY(S,void 0,this.G==="LIVE"||this.G==="SABR_LIVE");
!this.X||this.hg||lZ(this)||g.W2(this.Sy)||g.XO(this.Sy)||g.o4(this.Sy)||this.Sy.Mb==="shortspage"||this.player.isInline()||(g.ZC(this.Nb),S=P2m({eB:0,Jh:5,Tg:5,Oo:2,textAlign:0,zP:0,lang:"en-GB"}),this.WU=[S],aq=["Click "," for settings"],this.jy||(u=new g.Lh(g.EN()),g.O(this,u),this.jy=u.element),u=S.end-S.start,(C=g.wD(this.Y))&&this.WU.push(new rP(S.start,u,0,S.id,C)),this.WU.push(new rP(S.start,u,0,S.id,aq[0]),new rP(S.start,u,0,S.id,this.jy,!0),new rP(S.start,u,0,S.id,aq[1],!0)),this.player.KY(this.WU),
g.Sh(this.Nb));!this.X||this.hg||lZ(this)||(g.iA(this.Sy)?yl(this,!0):pa(this,!0),this.j&&(this.j.G=this.Y),this.player.i$());this.X=!1}};
g.z.onCueRangeEnter=function(x){this.R5.push(x);aD(this.FL)};
g.z.onCueRangeExit=function(x){g.rJ(this.R5,x);this.S instanceof qi&&this.S.N&&this.player.bM([x]);aD(this.FL)};
g.z.getCaptionWindowContainerId=function(){return this.N.element.id};
g.z.Pcr=function(){ejH(this,this.WU);this.WU=null};
g.z.Xw=function(){var x=this;if(!this.a$||!this.B){this.FL.stop();g.KbO(this.Cy);this.R5.sort(g.pX);var S=this.R5;if(this.DG){var Z=g.Kz(S,function(u){return this.DG.indexOf(u)===-1},this);
Z.length&&(S=Z)}S=g.v(S);for(Z=S.next();!Z.done;Z=S.next())jeb(this,Z.value);S=g.v(Object.entries(this.yN));var k=S.next();for(Z={};!k.done;Z={Jb:void 0,wj:void 0},k=S.next()){var e=g.v(k.value);k=e.next().value;e=e.next().value;Z.Jb=k;Z.wj=e;this.Cy[Z.Jb]?(Z.wj.element.parentNode||(Z.wj instanceof A8||Z.wj instanceof oD||g.ej(this.yN,function(u){return function(C,L){L!==u.Jb&&C.Y.params.eB===u.wj.Y.params.eB&&C.Y.params.Jh===u.wj.Y.params.Jh&&C.Y.params.Tg===u.wj.Y.params.Tg&&(C.dispose(),delete x.yN[L]);
return L===u.Jb}}(Z),this),this.N.element.appendChild(Z.wj.element)),Z.wj.cL(this.Cy[Z.Jb])):(Z.wj.dispose(),delete this.yN[Z.Jb])}}};
g.z.fYL=function(){Drs(this,{},!0);this.player.mj("captionssettingschanged")};
g.z.lk=function(){var x=xi.SR;x={background:x.background,backgroundOpacity:x.backgroundOpacity,charEdgeStyle:x.charEdgeStyle,color:x.color,fontFamily:x.fontFamily,fontSizeIncrement:x.fontSizeIncrement,fontStyle:x.bold&&x.italic?3:x.bold?1:x.italic?2:0,textOpacity:x.textOpacity,windowColor:xi.windowColor,windowOpacity:xi.windowOpacity};var S=nHb()||{};S.background!=null&&(x.background=S.background);S.backgroundOverride!=null&&(x.backgroundOverride=S.backgroundOverride);S.backgroundOpacity!=null&&(x.backgroundOpacity=
S.backgroundOpacity);S.backgroundOpacityOverride!=null&&(x.backgroundOpacityOverride=S.backgroundOpacityOverride);S.charEdgeStyle!=null&&(x.charEdgeStyle=S.charEdgeStyle);S.charEdgeStyleOverride!=null&&(x.charEdgeStyleOverride=S.charEdgeStyleOverride);S.color!=null&&(x.color=S.color);S.colorOverride!=null&&(x.colorOverride=S.colorOverride);S.fontFamily!=null&&(x.fontFamily=S.fontFamily);S.fontFamilyOverride!=null&&(x.fontFamilyOverride=S.fontFamilyOverride);S.fontSizeIncrement!=null&&(x.fontSizeIncrement=
S.fontSizeIncrement);S.fontSizeIncrementOverride!=null&&(x.fontSizeIncrementOverride=S.fontSizeIncrementOverride);S.fontStyle!=null&&(x.fontStyle=S.fontStyle);S.fontStyleOverride!=null&&(x.fontStyleOverride=S.fontStyleOverride);S.textOpacity!=null&&(x.textOpacity=S.textOpacity);S.textOpacityOverride!=null&&(x.textOpacityOverride=S.textOpacityOverride);S.windowColor!=null&&(x.windowColor=S.windowColor);S.windowColorOverride!=null&&(x.windowColorOverride=S.windowColorOverride);S.windowOpacity!=null&&
(x.windowOpacity=S.windowOpacity);S.windowOpacityOverride!=null&&(x.windowOpacityOverride=S.windowOpacityOverride);return x};
g.z.A5=function(x,S){var Z={};Object.assign(Z,nHb());Object.assign(Z,x);Drs(this,Z,S);this.player.mj("captionssettingschanged")};
g.z.zQ=function(){!this.B&&this.loaded&&(g.Sj(this.yN,function(x,S){x.dispose();delete this.yN[S]},this),this.Xw())};
g.z.fh=function(x,S){switch(x){case "fontSize":if(isNaN(S))break;x=g.Uj(S,-2,4);this.A5({fontSizeIncrement:x});return x;case "reload":S&&!this.B&&$W(this,this.Y,!0);break;case "stickyLoading":S!==void 0&&this.Sy.X&&(g.iA(this.Sy)?yl(this,!!S):pa(this,!!S));break;case "track":return kwH(this,S);case "tracklist":return this.S?g.vk(g.j9(this.S.Y,!(!S||!S.includeAsr)),function(Z){return g.DD(Z)}):[];
case "translationLanguages":return this.S?this.S.B.map(function(Z){return Object.assign({},Z)}):[];
case "sampleSubtitles":this.B||S===void 0||urt(this,!!S);break;case "sampleSubtitlesCustomized":this.B||urt(this,!!S,S);break;case "recommendedTranslationLanguages":return g.YR();case "defaultTranslationSourceTrackIndices":return this.S?this.S.X:[]}};
g.z.getOptions=function(){var x="reload fontSize track tracklist translationLanguages sampleSubtitle".split(" ");this.Sy.X&&x.push("stickyLoading");return x};
g.z.NS=function(){var x=this.Y;if(this.T.d7("captions")){if(this.Sy.Z("html5_modify_caption_vss_logging")){var S;return(x=(S=this.videoData.n5)!=null?S:null)?{cc:g.VeO(x)}:{}}if(x)return S=x.vssId,x.translationLanguage&&S&&(S="t"+S+"."+g.M9(x)),{cc:S}}return{}};
g.z.epU=function(){this.isSubtitlesOn()?(g.iA(this.Sy)?yl(this,!1):pa(this,!1),xdv(this),$W(this,null,!0)):this.J5()};
g.z.J5=function(){var x=lZ(this)||!this.Y?gP(this,!0):this.Y;x&&this.XP(x.vssId,"m");this.isSubtitlesOn()||$W(this,lZ(this)||!this.Y?gP(this,!0):this.Y,!0)};
g.z.isSubtitlesOn=function(){return!!this.loaded&&!!this.Y&&!lZ(this)};
g.z.ySL=function(){var x=lZ(this);Dr(this,x)?$W(this,this.getAudioTrack().S,!1):this.videoData.captionTracks.length&&(this.loaded&&this.unload(),this.AE()&&(this.X=!1,this.Y=null,this.S&&(this.S.dispose(),this.S=null)),this.b1()&&(x?$W(this,gP(this,!1),!1):this.load()))};
g.z.Rn=function(x){x&&(this.GS={top:x.top,right:x.right,bottom:x.bottom,left:x.left,width:1-x.left-x.right,height:1-x.top-x.bottom},this.N.element.style.top=this.GS.top*100+"%",this.N.element.style.left=this.GS.left*100+"%",this.N.element.style.width=this.GS.width*100+"%",this.N.element.style.height=this.GS.height*100+"%",this.N.element.style.position="absolute",x=ZzR(this))&&(this.N.element.style.width=x.width+"px",this.N.element.style.height=x.height+"px")};
g.z.onVideoDataChange=function(x,S){x==="newdata"&&(this.videoData=S,this.loaded&&this.unload(),this.X=!1,this.Y=null,this.S&&(this.S.dispose(),this.S=null,this.player.mj("captionschanged",{})),this.b1()&&this.load())};
g.z.getAudioTrack=function(){return this.player.getAudioTrack()};
g.z.Slm=function(){var x=this.T.j2();x&&!x.Jg()&&x.RP();this.T.isFullscreen()?(this.B=this.lr=!0,this.loaded&&this.U9()):(this.lr=this.Sy.controlsType==="3",this.B=woJ(this));$W(this,this.Y)};
g.z.rB=function(){var x,S,Z,k=(x=this.videoData.getPlayerResponse())==null?void 0:(S=x.captions)==null?void 0:(Z=S.playerCaptionsTracklistRenderer)==null?void 0:Z.openTranscriptCommand;k&&this.player.XL("innertubeCommand",k)};
g.z.b2=function(x,S,Z){var k=/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,e="";x&&(e=x.vssId,e=e.replace(k,""));var u="";x&&x.getId()&&(u=x.getId()||"");x&&x.getXtags()&&(x=x.getXtags(),x=x.replace(k,""),u=u.concat(";"+x));this.T.b2(S?e:"",S?u:"",Z)};
g.z.XP=function(x,S){x=(x||"").replace(/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,"");x.length>0&&this.T.XP(x,S)};g.IR("captions",MWH);})(_yt_player);
